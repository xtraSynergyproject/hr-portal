@using Synergy.App.ViewModel
@using Synergy.App.Common;

@{
    ViewBag.Title = "Requirement Dashboard";
    //Layout = "~/Areas/CMS/Views/Shared/_LayoutCms.cshtml";
    Layout = null;
}
@inject Synergy.App.Common.IUserContext _userContext
@model RecApplicationViewModel

@{
    var usercontext = _userContext;
}
<style>
    .dropdown-menu {
        line-height: 0.5em;
        /* background-color: rgb(243 241 233);*/
    }

    .btn-group, .btn-group-vertical {
        position: inherit !important;
    }

    .color-bg {
        background-color: #8cb7f8;
        border: 1px solid #3b65f8;
    }

    .card-columns {
        border: 1px solid #d7d7d7;
        border-radius: 6px;
        padding: 2px;
        height: 160px;
        width: 100%;
    }

    .card-box {
        border: 1px solid #ff0000;
        border-radius: 6px;
        overflow: hidden;
        padding: 0;
        margin: 0;
        width: 100%;
    }

    .col-border {
        margin: 0 4px 4px;
        padding: 4px;
        border: 1px solid #bababa;
        border-radius: 6px;
    }

    .numbers {
        padding: 4px;
        font-size: 20px;
        font-weight: 600;
    }

    .numtext {
        color: white;
    }

    .ico-applications {
        padding: 0 10px 0 0;
        color: #fff;
    }

    .col-highlight {
        background-color: #1D6EF4;
    }

    #StateCount1 {
        color: black;
    }

    .k-grid tbody tr td {
        vertical-align: top;
    }

    .Qlink-title {
        border: 1px solid #d7d3d3;
        width: 100%;
        font-weight: 600;
        background-color: #f0f0f0;
        padding: 4px 0 4px 6px;
        border-radius: 6px;
        text-align: left;
        font-size: 18px;
    }

    table tr th {
        color: #fdfdfd;
    }

    .k-grid thead {
        background-color: #1c4893;
    }

    .sidebar-closed .k-grid-content .k-auto-scrollable {
        width: 1000px;
    }
</style>
<script>

    var url = "";
    var colDef = [];

    $('.toggle-menu').bind("click", function (e) {

        var isexist = document.getElementsByClassName("sidebar-closed");
        var grid = document.getElementsByClassName("k-grid-content");
        var g = grid[0].style.width;
        g = g.split('px');
        if (isexist.length > 0) {
            var w = parseInt(g[0]) - 257;
            grid[0].style.width = w + "px";

        }
        else {
            var w = parseInt(g[0]) + 257;
            grid[0].style.width = w + "px";

        }
    });

    $(document).ready(function () {

        var u = '@usercontext.UserRoleCodes';
        var userrole = u.split(",");
        for (var i = 0; i < userrole.length;i++) {
            if (userrole[i] == "HR" && '@Model.ApplicationState' =="ShortListByHr") {
                //$("#UserRoleHR").val(userrole[i]);
                $("#btnHR").show();
            }
            if (userrole[i] == "HM" && '@Model.ApplicationState' =="ShortListByHm") {
                $("#btnHM").show();
            }
        }
        //alert(userrole);
        var orgId = '@Model.OrganizationId';
        var jobAdvId ='@Model.JobId';


        //var cgrid1 = $("#kgrdCandInterview").data("kendoGrid");

        //var ccount = cgrid1.dataSource.total();
        //$("#StateCount1").val(ccount);

        $.ajax({
            url: "/Rec/RecruitmentTransaction/GetManpowerRequirement?jobId=" + jobAdvId + "&orgId=" + orgId,
                dataType: "json",
                type: "GET",
                contentType: 'application/json; charset=utf-8', //define a contentType of your request
                cache: false,
                success: function (data) {
                    if (data != null) {

                        $('#RequiredbyHC').html(data.Requirement);
                        $('#Available').html(data.Available);
                        $('#Subcontract').html(data.Planning);
                        $('#Transfer').html(data.Transfer);
                        $('#TobeRecruited').html(data.Balance);
                    }
                },
                error: function (xhr) {
                    alert('error');
                }
        });

    });

    //Grid
        var columnDefsNoOfApp = [
            {
                field: "CandidateProfileId", headerName: "Actions",maxWidth: 140, pinned: 'left',
                cellRenderer: params => {
                    return "<div class='btn-group grid-menu' id='tree-menujas' data-appid='" + params.data.ApplicationId + "' data-appstate='" + params.data.ApplicationState + "' data-canid='" + params.data.CandidateProfileId+"' ><i class='fas fa-ellipsis-v'></i></div>"
                }
            },
            { field: "ApplicationNo", headerName: "Application No", width: 150, pinned: 'left'},
            { field: "ApplicationStateName", headerName: "Application State", width: 150, pinned: 'left'},
            { field: "PositionName", headerName: "Position", width: 150, pinned: 'left'},
            { field: "OrganizationName", headerName: "Organization", width: 150, pinned: 'left' },
            { field: "BatchName", headerName: "Batch", width: 150, pinned: 'left' },
            { field: "FirstName", headerName: "First Name", width: 150, pinned: 'left' },
            { field: "MiddleName", headerName: "Middle Name", minWidth: 150 },
            { field: "LastName", headerName: "Last Name", minWidth: 150 },
            { field: "Email", headerName: "Email", minWidth: 150 },
            { field: "ApplicationStatus", headerName: "Status", minWidth: 150 },
            { field: "TotalWorkExperience", headerName: "Total Work Experience", minWidth: 150 },
            { field: "ContactPhoneHome", headerName: "Mobile", minWidth: 150},
            { field: "Score", headerName: "Score", minWidth: 150 },
            { field: "Gender", headerName: "Gender", minWidth: 150 },
            {
                field: "BirthDate",
                headerName: "Birth Date", minWidth: 150,
                cellRenderer: (data) => {
                    debugger;
                    if (data.value != null && data.value != "") {
                        var d = new Date(data.value);
                        return d.getDate() + "." + d.getMonth() + "." + d.getFullYear();
                    }
                }
            },
            { field: "Age", headerName: "Age", minWidth: 150 },
            { field: "BirthPlace", headerName: "Birth Place", minWidth: 150 },
            { field: "Nationality", headerName: "Nationality", minWidth: 150 },
            { field: "BloodGroup", headerName: "Blood Group", minWidth: 150},
            { field: "MaritalStatusName", headerName: "Marital Status", minWidth: 150},
            { field: "PassportNumber", headerName: "Passport Number", minWidth: 150},
            { field: "PassportIssueCountry", headerName: "Passport Issue Country", minWidth: 150},
            { field: "PassportExpiryDate", headerName: "Passport Expiry Date", minWidth: 150},
            { field: "CurrentAddressHouse", headerName: "Current Address House", minWidth: 150},
            { field: "CurrentAddressStreet", headerName: "Current Address Street", minWidth: 150},
            { field: "CurrentAddressCity", headerName: "Current Address City", minWidth: 150},
            { field: "CurrentAddressState", headerName: "Current Address State", minWidth: 150},
            { field: "CurrentAddressCountryName", headerName: "Current Address Country", minWidth: 150},
            { field: "PermanentAddressHouse", headerName: "Permanent Address House", minWidth: 150},
            { field: "PermanentAddressStreet", headerName: "Permanent Address Street", minWidth: 150},
            { field: "PermanentAddressCity", headerName: "Permanent Address City", minWidth: 150},
            { field: "PermanentAddressState", headerName: "Permanent Address State", minWidth: 150},
            { field: "PermanentAddressCountryName", headerName: "Permanent Address Country", minWidth: 150},
            { field: "ContactPhoneLocal", headerName: "Contact Phone Local", minWidth: 150},
            { field: "SalaryCurrencyName", headerName: "Salary Currency Name", minWidth: 150},
            { field: "NetSalary", headerName: "Net Salary", minWidth: 150},
            { field: "OtherAllowances", headerName: "Other Allowances", minWidth: 150},

    ];

    //Shortlist By HR
    var columnDefsShortlistByHr = [
        {
            field: "CandidateProfileId", headerName: "Actions", maxWidth: 140, pinned: 'left',
            cellRenderer: params => {
                return "<div class='btn-group grid-menu' id='tree-menujas' data-appid='" + params.data.ApplicationId + "' data-appstate='" + params.data.ApplicationState + "' data-canid='" + params.data.CandidateProfileId + "' ><i class='fas fa-ellipsis-v'></i></div>"
            }
        },
        { field: "ApplicationNo", headerName: "Application No", width: 150, pinned: 'left' },
        { field: "ApplicationStateName", headerName: "Application State", width: 150, pinned: 'left' },
        { field: "PositionName", headerName: "Position", width: 150, pinned: 'left' },
        { field: "OrganizationName", headerName: "Organization", width: 150, pinned: 'left' },
        { field: "BatchName", headerName: "Batch", width: 150, pinned: 'left' },
        { field: "FirstName", headerName: "First Name", width: 150, pinned: 'left' },
        { field: "MiddleName", headerName: "Middle Name", minWidth: 150 },
        { field: "LastName", headerName: "Last Name", minWidth: 150 },
        { field: "Email", headerName: "Email", minWidth: 150 },
        { field: "ApplicationStatus", headerName: "Status", minWidth: 150 },
        { field: "TotalWorkExperience", headerName: "Total Work Experience", minWidth: 150 },
        { field: "ContactPhoneHome", headerName: "Mobile", minWidth: 150 },
        { field: "Score", headerName: "Score", minWidth: 150 },
        { field: "Gender", headerName: "Gender", minWidth: 150 },
        {
            field: "BirthDate",
            headerName: "Birth Date", minWidth: 150,
            cellRenderer: (data) => {
                debugger;
                if (data.value != null && data.value != "") {
                    var d = new Date(data.value);
                    return d.getDate() + "." + d.getMonth() + "." + d.getFullYear();
                }
            }
        },
        { field: "Age", headerName: "Age", minWidth: 150 },
        { field: "BirthPlace", headerName: "Birth Place", minWidth: 150 },
        { field: "Nationality", headerName: "Nationality", minWidth: 150 },
        { field: "BloodGroup", headerName: "Blood Group", minWidth: 150 },
        { field: "MaritalStatusName", headerName: "Marital Status", minWidth: 150 },
        { field: "PassportNumber", headerName: "Passport Number", minWidth: 150 },
        { field: "PassportIssueCountry", headerName: "Passport Issue Country", minWidth: 150 },
        { field: "PassportExpiryDate", headerName: "Passport Expiry Date", minWidth: 150 },
        { field: "CurrentAddressHouse", headerName: "Current Address House", minWidth: 150 },
        { field: "CurrentAddressStreet", headerName: "Current Address Street", minWidth: 150 },
        { field: "CurrentAddressCity", headerName: "Current Address City", minWidth: 150 },
        { field: "CurrentAddressState", headerName: "Current Address State", minWidth: 150 },
        { field: "CurrentAddressCountryName", headerName: "Current Address Country", minWidth: 150 },
        { field: "PermanentAddressHouse", headerName: "Permanent Address House", minWidth: 150 },
        { field: "PermanentAddressStreet", headerName: "Permanent Address Street", minWidth: 150 },
        { field: "PermanentAddressCity", headerName: "Permanent Address City", minWidth: 150 },
        { field: "PermanentAddressState", headerName: "Permanent Address State", minWidth: 150 },
        { field: "PermanentAddressCountryName", headerName: "Permanent Address Country", minWidth: 150 },
        { field: "ContactPhoneLocal", headerName: "Contact Phone Local", minWidth: 150 },
        { field: "SalaryCurrencyName", headerName: "Salary Currency Name", minWidth: 150 },
        { field: "NetSalary", headerName: "Net Salary", minWidth: 150 },
        { field: "OtherAllowances", headerName: "Other Allowances", minWidth: 150 },

    ];

    //Direct Hiring
    var columnDefsDH = [
        {
            field: "CandidateProfileId", headerName: "Actions", maxWidth: 140, pinned: 'left',
            cellRenderer: params => {
                return "<div class='btn-group grid-menu' id='tree-menujas' data-appid='" + params.data.ApplicationId + "' data-appstate='" + params.data.ApplicationState + "' data-canid='" + params.data.CandidateProfileId + "' ><i class='fas fa-ellipsis-v'></i></div>"
            }
        },
        { field: "TaskNo", headerName: "Task No", width: 150, pinned: 'left' },
        { field: "PositionName", headerName: "Position", width: 150, pinned: 'left' },
        { field: "OrganizationName", headerName: "Organization", width: 150, pinned: 'left' },
        { field: "BatchName", headerName: "Batch", width: 150, pinned: 'left' },
        { field: "ApplicationNo", headerName: "Application No", width: 150, pinned: 'left' },
        { field: "FirstName", headerName: "First Name", width: 150, pinned: 'left' },
        { field: "LastName", headerName: "Last Name", minWidth: 150 },
        { field: "Email", headerName: "Email", minWidth: 150 },
        {
            field: "Step1", headerName: "4.1 Collect Applicant Information", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo1 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step1 + "\",\"" + params.data.TaskTemplateCode + "\",\"Collect Applicant Information\")'>" + params.data.StepNo1+"</a>"
                }
            }
        },
        {
            field: "Step2", headerName: "4.2 Fill Evaluation Form", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo2 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step2 + "\",\"" + params.data.TaskTemplateCode + "\",\"Fill Evaluation Form\")'>" + params.data.StepNo2 +"</a>"
                }
            }
        },

    ];

    //Intent to Offer
    var columnDefsIntentToOffer = [
        {
            field: "CandidateProfileId", headerName: "Actions", maxWidth: 140, pinned: 'left',
            cellRenderer: params => {
                return "<div class='btn-group grid-menu' id='tree-menujas' data-appid='" + params.data.ApplicationId + "' data-appstate='" + params.data.ApplicationState + "' data-canid='" + params.data.CandidateProfileId + "' ><i class='fas fa-ellipsis-v'></i></div>"
            }
        },
        { field: "ApplicationNo", headerName: "Application No", width: 150, pinned: 'left' },
        { field: "PositionName", headerName: "Position", width: 150, pinned: 'left' },
        { field: "OrganizationName", headerName: "Organization", width: 150, pinned: 'left' },
        { field: "BatchName", headerName: "Batch", width: 150, pinned: 'left' },
        { field: "ApplicationStateName", headerName: "Application State", width: 150, pinned: 'left' },
        { field: "FirstName", headerName: "First Name", width: 150, pinned: 'left' },
        { field: "LastName", headerName: "Last Name", minWidth: 150 },
        { field: "Email", headerName: "Email", minWidth: 150 },
        { field: "ApplicationStatus", headerName: "Status", minWidth: 150 },
        {
            field: "Step1", headerName: "5.1.1 Prepare intent to offer - Recruiter", minWidth: 150,
            cellRenderer: params => {
                debugger;
                if (params.data.StepNo1 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step1 + "\",\"" + params.data.TaskTemplateCode + "\",\"Recruiter–Prepare intent to offer\")'>" + params.data.StepNo1 + "</a>"
                }
            }
        },
        {
            field: "Step7", headerName: "5.1.1.1 Revising - HOD", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo7 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step7 + "\",\"" + params.data.TaskTemplateCode + "\",\"HOD–Revising\")'>" + params.data.StepNo7 + "</a>"
                }
            }
        },
        {
            field: "Step2", headerName: "5.1.2 Accept intent to offer - Candidate", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo2 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step2 + "\",\"" + params.data.TaskTemplateCode + "\",\"Candidate–Accept intent to offer\")'>" + params.data.StepNo2 + "</a>"
                }
            }
        },
        {
            field: "Step3", headerName: "5.1.3 Approval - HOD", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo3 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step3 + "\",\"" + params.data.TaskTemplateCode + "\",\"HOD–Approval\")'>" + params.data.StepNo3 + "</a>"
                }
            }
        },
        {
            field: "Step4", headerName: "5.1.3.1 Review By HR", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo4 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step4 + "\",\"" + params.data.TaskTemplateCode + "\",\"Review By HR\")'>" + params.data.StepNo4 + "</a>"
                }
            }
        },
        {
            field: "Step5", headerName: "5.1.4 Approval - Hr Head", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo5 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step5 + "\",\"" + params.data.TaskTemplateCode + "\",\"HR Head–Approval\")'>" + params.data.StepNo5 + "</a>"
                }
            }
        },
        {
            field: "Step6", headerName: "5.1.5 Approval - ED", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo6 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step6 + "\",\"" + params.data.TaskTemplateCode + "\",\"ED–Approval\")'>" + params.data.StepNo6 + "</a>"
                }
            }
        },
    ];

    //Worker Pool
    var columnDefsWorkerPool = [
        {
            field: "CandidateProfileId", headerName: "Actions", maxWidth: 140, pinned: 'left',
            cellRenderer: params => {
                return "<div class='btn-group grid-menu' id='tree-menujas' data-appid='" + params.data.ApplicationId + "' data-appstate='" + params.data.ApplicationState + "' data-canid='" + params.data.CandidateProfileId + "' ><i class='fas fa-ellipsis-v'></i></div>"
            }
        },
        { field: "ApplicationNo", headerName: "Application No", width: 150, pinned: 'left' },
        { field: "PositionName", headerName: "Position", width: 150, pinned: 'left' },
        { field: "OrganizationName", headerName: "Organization", width: 150, pinned: 'left' },
        { field: "BatchName", headerName: "Batch", width: 150, pinned: 'left' },
        { field: "ApplicationStateName", headerName: "Application State", width: 150, pinned: 'left' },
        { field: "FirstName", headerName: "First Name", width: 150, pinned: 'left' },
        { field: "LastName", headerName: "Last Name", minWidth: 150 },
        { field: "Email", headerName: "Email", minWidth: 150 },
        { field: "ApplicationStatus", headerName: "Status", minWidth: 150 },
        {
            field: "Step1", headerName: "6.1.1 Approval - HOD", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo1 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step1 + "\")'>" + params.data.StepNo1 + "</a>"
                }
            }
        },
        {
            field: "Step2", headerName: "6.1.2 Review - Recruiter", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo2 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step2 + "\")'>" + params.data.StepNo2 + "</a>"
                }
            }
        },
        {
            field: "Step3", headerName: "6.1.3 Approval - Hr Head", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo3 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step3 + "\")'>" + params.data.StepNo3 + "</a>"
                }
            }
        },
        {
            field: "Step4", headerName: "6.1.4 Approval - ED", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo4 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step4 + "\")'>" + params.data.StepNo4 + "</a>"
                }
            }
        },
        {
            field: "Step5", headerName: "6.1.5 Approval - Recruiter", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo5 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step5 + "\">" + params.data.StepNo5 + "</a>"
                }
            }
        },
        {
            field: "Step6", headerName: "6.1.6 Approval - Agency", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo6 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step6 + "\")'>" + params.data.StepNo6 + "</a>"
                }
            }
        },
    ];

    //Final Offer
    var columnDefsFinalOffer = [
        {
            field: "CandidateProfileId", headerName: "Actions", maxWidth: 140, pinned: 'left',
            cellRenderer: params => {
                return "<div class='btn-group grid-menu' id='tree-menujas' data-appid='" + params.data.ApplicationId + "' data-appstate='" + params.data.ApplicationState + "' data-canid='" + params.data.CandidateProfileId + "' ><i class='fas fa-ellipsis-v'></i></div>"
            }
        },
        { field: "ApplicationNo", headerName: "Application No", width: 150, pinned: 'left' },
        { field: "PositionName", headerName: "Position", width: 150, pinned: 'left' },
        { field: "OrganizationName", headerName: "Organization", width: 150, pinned: 'left' },
        { field: "BatchName", headerName: "Batch", width: 150, pinned: 'left' },
        { field: "ApplicationStateName", headerName: "Application State", width: 150, pinned: 'left' },
        { field: "FirstName", headerName: "First Name", width: 150, pinned: 'left' },
        { field: "LastName", headerName: "Last Name", minWidth: 150 },
        { field: "Email", headerName: "Email", minWidth: 150 },
        { field: "ApplicationStatus", headerName: "Status", minWidth: 150 },
        {
            field: "Step1", headerName: "7.1.1 Prepare Final Offer - Recruiter", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo1 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step1 + "\",\"" + params.data.TaskTemplateCode + "\",\"Recruiter–Prepare Final Offer\")'>" + params.data.StepNo1 + "</a>"
                }
            }
        },
        {
            field: "Step2", headerName: "7.1.2 Approval - HR Head", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo2 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step2 + "\",\"" + params.data.TaskTemplateCode + "\",\"HOD–Approval\")'>" + params.data.StepNo2 + "</a>"
                }
            }
        },
        {
            field: "Step3", headerName: "7.1.3 Approval -ED", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo3 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step3 + "\",\"" + params.data.TaskTemplateCode + "\",\"ED–Approval\")'>" + params.data.StepNo3 + "</a>"
                }
            }
        },
        {
            field: "Step4", headerName: "7.1.4 Final Offer Acceptance - Candidate", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo4 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step4 + "\",\"" + params.data.TaskTemplateCode + "\",\"Candidate–Final Offer Acceptance\")'>" + params.data.StepNo4 + "</a>"
                }
            }
        },
        {
            field: "Step5", headerName: "7.1.5 Final Offer Acceptance - Candidate", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo5 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step5 + "\",\"" + params.data.TaskTemplateCode + "\",\"HR Review–Final Offer Acceptance\">" + params.data.StepNo5 + "</a>"
                }
            }
        },
    ];

    //BusinessVisa
    var columnDefsBusinessVisa = [
        {
            field: "CandidateProfileId", headerName: "Actions", maxWidth: 140, pinned: 'left',
            cellRenderer: params => {
                return "<div class='btn-group grid-menu' id='tree-menujas' data-appid='" + params.data.ApplicationId + "' data-appstate='" + params.data.ApplicationState + "' data-canid='" + params.data.CandidateProfileId + "' ><i class='fas fa-ellipsis-v'></i></div>"
            }
        },
        { field: "ApplicationNo", headerName: "Application No", width: 150, pinned: 'left' },
        { field: "PositionName", headerName: "Position", width: 150, pinned: 'left' },
        { field: "OrganizationName", headerName: "Organization", width: 150, pinned: 'left' },
        { field: "BatchName", headerName: "Batch", width: 150, pinned: 'left' },
        { field: "ApplicationStateName", headerName: "Application State", width: 150, pinned: 'left' },
        { field: "FirstName", headerName: "First Name", width: 150, pinned: 'left' },
        { field: "LastName", headerName: "Last Name", minWidth: 150 },
        { field: "Email", headerName: "Email", minWidth: 150 },
        { field: "ApplicationStatus", headerName: "Status", minWidth: 150 },
        {
            field: "Step1", headerName: "8.1.1 Submit medical report - Candidate", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo1 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step1 + "\">" + params.data.StepNo1 + "</a>"
                }
            }
        },
        {
            field: "Step2", headerName: "8.1.2 Check Medical report & inform PRO - Recruiter", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo2 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step2 + "\">" + params.data.StepNo2 + "</a>"
                }
            }
        },
        {
            field: "Step3", headerName: "8.1.3 Obtain Business Visa & Attach - PRO", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo3 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step3 + "\")'>" + params.data.StepNo3 + "</a>"
                }
            }
        },
        {
            field: "Step4", headerName: "8.1.4 Receive Visa Copy & advise traveling date - Candidate", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo4 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step4 + "\")'>" + params.data.StepNo4 + "</a>"
                }
            }
        },
        {
            field: "Step5", headerName: "8.1.5.1 Confirm traveling date - Recruiter", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo5 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step5 + "\">" + params.data.StepNo5 + "</a>"
                }
            }
        },
        {
            field: "Step6", headerName: "8.1.5.2 Send email for ticket booking - Ticketing team", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo6 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step6 + "\">" + params.data.StepNo6 + "</a>"
                }
            }
        },
        {
            field: "Step7", headerName: "8.1.5.3 Receive & Attach Ticket, Attach Hotel quarantine booking - Ticketing team", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo7 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step7 + "\">" + params.data.StepNo7 + "</a>"
                }
            }
        },
        {
            field: "Step8", headerName: "8.1.5.4 Confirm receipt of ticket & date of travel - Candidate", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo8 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step8 + "\")'>" + params.data.StepNo8 + "</a>"
                }
            }
        },
        {
            field: "Step9", headerName: "8.1.5.5 Arrange Accommodation - Admin", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo9 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step9 + "\")'>" + params.data.StepNo9 + "</a>"
                }
            }
        },
        {
            field: "Step10", headerName: "8.1.5.6 Arrange Vehicle for airport pickup - Plant", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo10 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step10 + "\">" + params.data.StepNo10 + "</a>"
                }
            }
        },
    ];

    //WorkVisa
    var columnDefsWorkVisa = [
        {
            field: "CandidateProfileId", headerName: "Actions", maxWidth: 140, pinned: 'left',
            cellRenderer: params => {
                return "<div class='btn-group grid-menu' id='tree-menujas' data-appid='" + params.data.ApplicationId + "' data-appstate='" + params.data.ApplicationState + "' data-canid='" + params.data.CandidateProfileId + "' ><i class='fas fa-ellipsis-v'></i></div>"
            }
        },
        { field: "ApplicationNo", headerName: "Application No", width: 150, pinned: 'left' },
        { field: "PositionName", headerName: "Position", width: 150, pinned: 'left' },
        { field: "OrganizationName", headerName: "Organization", width: 150, pinned: 'left' },
        { field: "BatchName", headerName: "Batch", width: 150, pinned: 'left' },
        { field: "ApplicationStateName", headerName: "Application State", width: 150, pinned: 'left' },
        { field: "FirstName", headerName: "First Name", width: 150, pinned: 'left' },
        { field: "LastName", headerName: "Last Name", minWidth: 150 },
        { field: "Email", headerName: "Email", minWidth: 150 },
        { field: "ApplicationStatus", headerName: "Status", minWidth: 150 },
        {
            field: "Step1", headerName: "8.2.1 Apply Work Visa Through MOL", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo1 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step1 + "\",\"" + params.data.TaskTemplateCode + "\",\"APPLY_WORK_VISA_THROUGH_MOL\">" + params.data.StepNo1 + "</a>"
                }
            }
        },
        {
            field: "Step2", headerName: "8.2.2 Book QVC Appointment -PRO", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo2 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step2 + "\",\"" + params.data.TaskTemplateCode + "\",\"PRO–Book QVC Appointment\">" + params.data.StepNo2 + "</a>"
                }
            }
        },
        {
            field: "Step3", headerName: "8.2.3 Conduct Medical & Fingerprint - Candidate", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo3 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step3 + "\",\"" + params.data.TaskTemplateCode + "\",\"Candidate–Conduct Medical & Fingerprint as per QVC appointment date/time\")'>" + params.data.StepNo3 + "</a>"
                }
            }
        },
        {
            field: "Step4", headerName: "8.2.4 Specify Fit/Unfit & attach visa copy if fit - PRO", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo4 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step4 + "\",\"" + params.data.TaskTemplateCode + "\",\"PRO–Select Fit/Unfit & attach visa copy if fit\")'>" + params.data.StepNo4 + "</a>"
                }
            }
        },
        {
            field: "Step5", headerName: "8.2.5 Receive Visa Copy & advise traveling date - Candidate", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo5 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step5 + "\",\"" + params.data.TaskTemplateCode + "\",\"Candidate–Receive Visa Copy & advise traveling date\">" + params.data.StepNo5 + "</a>"
                }
            }
        },
        {
            field: "Step6", headerName: "8.2.6.1 Confirm traveling date - Recruiter", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo6 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step6 + "\",\"" + params.data.TaskTemplateCode + "\",\"Recruiter–Confirm traveling date\">" + params.data.StepNo6 + "</a>"
                }
            }
        },
        {
            field: "Step7", headerName: "8.2.6.2 Send email for ticket booking - Ticketing team", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo7 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step7 + "\">" + params.data.StepNo7 + "</a>"
                }
            }
        },
        {
            field: "Step8", headerName: "8.2.6.3 Receive & Attach Ticket, Attach Hotel quarantine booking - Ticketing team", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo8 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step8 + "\")'>" + params.data.StepNo8 + "</a>"
                }
            }
        },
        {
            field: "Step9", headerName: "8.2.6.4 Confirm receipt of ticket & date of travel - Candidate", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo9 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step9 + "\")'>" + params.data.StepNo9 + "</a>"
                }
            }
        },
        {
            field: "Step10", headerName: "8.2.6.5 Arrange Accommodation - Admin", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo10 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step10 + "\">" + params.data.StepNo10 + "</a>"
                }
            }
        },
        {
            field: "Step11", headerName: "8.2.6.6 Arrange Vehicle for airport pickup - Plant", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo11 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step11 + "\">" + params.data.StepNo11 + "</a>"
                }
            }
        },
    ];

    //VisaTransfer
    var columnDefsVisaTransfer = [
        {
            field: "CandidateProfileId", headerName: "Actions", maxWidth: 140, pinned: 'left',
            cellRenderer: params => {
                return "<div class='btn-group grid-menu' id='tree-menujas' data-appid='" + params.data.ApplicationId + "' data-appstate='" + params.data.ApplicationState + "' data-canid='" + params.data.CandidateProfileId + "' ><i class='fas fa-ellipsis-v'></i></div>"
            }
        },
        { field: "ApplicationNo", headerName: "Application No", width: 150, pinned: 'left' },
        { field: "PositionName", headerName: "Position", width: 150, pinned: 'left' },
        { field: "OrganizationName", headerName: "Organization", width: 150, pinned: 'left' },
        { field: "BatchName", headerName: "Batch", width: 150, pinned: 'left' },
        { field: "ApplicationStateName", headerName: "Application State", width: 150, pinned: 'left' },
        { field: "FirstName", headerName: "First Name", width: 150, pinned: 'left' },
        { field: "LastName", headerName: "Last Name", minWidth: 150 },
        { field: "Email", headerName: "Email", minWidth: 150 },
        { field: "ApplicationStatus", headerName: "Status", minWidth: 150 },
        {
            field: "Step1", headerName: "8.3.1 Submit Visa transfer documents - Candidate", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo1 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step1 + "\">" + params.data.StepNo1 + "</a>"
                }
            }
        },
        {
            field: "Step2", headerName: "8.3.2 Verify documents - Recruiter", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo2 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step2 + "\">" + params.data.StepNo2 + "</a>"
                }
            }
        },
        {
            field: "Step3", headerName: "8.3.3 Submit visa transfer & confirm sponsorship change - PRO", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo3 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step3 + "\")'>" + params.data.StepNo3 + "</a>"
                }
            }
        },
        {
            field: "Step4", headerName: "8.3.4 Verify visa transfer completed - Recruiter", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo4 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step4 + "\")'>" + params.data.StepNo4 + "</a>"
                }
            }
        },
        {
            field: "Step5", headerName: "8.3.5 Receive visa transfer Confirmation, inform joining date - Candidate", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo5 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step5 + "\">" + params.data.StepNo5 + "</a>"
                }
            }
        },
    ];

    //WorkPermit
    var columnDefsWorkPermit = [
        {
            field: "CandidateProfileId", headerName: "Actions", maxWidth: 140, pinned: 'left',
            cellRenderer: params => {
                return "<div class='btn-group grid-menu' id='tree-menujas' data-appid='" + params.data.ApplicationId + "' data-appstate='" + params.data.ApplicationState + "' data-canid='" + params.data.CandidateProfileId + "' ><i class='fas fa-ellipsis-v'></i></div>"
            }
        },
        { field: "ApplicationNo", headerName: "Application No", width: 150, pinned: 'left' },
        { field: "PositionName", headerName: "Position", width: 150, pinned: 'left' },
        { field: "OrganizationName", headerName: "Organization", width: 150, pinned: 'left' },
        { field: "BatchName", headerName: "Batch", width: 150, pinned: 'left' },
        { field: "ApplicationStateName", headerName: "Application State", width: 150, pinned: 'left' },
        { field: "FirstName", headerName: "First Name", width: 150, pinned: 'left' },
        { field: "LastName", headerName: "Last Name", minWidth: 150 },
        { field: "Email", headerName: "Email", minWidth: 150 },
        { field: "ApplicationStatus", headerName: "Status", minWidth: 150 },
        {
            field: "Step1", headerName: "8.4.1 Submit Work Permit Documents – Candidate", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo1 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step1 + "\">" + params.data.StepNo1 + "</a>"
                }
            }
        },
        {
            field: "Step2", headerName: "8.4.2 Verify Documents – Recruiter", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo2 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step2 + "\">" + params.data.StepNo2 + "</a>"
                }
            }
        },
        {
            field: "Step3", headerName: "8.4.3 Obtain Work Permit & Attach – PRO", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo3 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step3 + "\")'>" + params.data.StepNo3 + "</a>"
                }
            }
        },
        {
            field: "Step4", headerName: "8.4.4 Verify visa transfer completed - Recruiter", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo4 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step4 + "\")'>" + params.data.StepNo4 + "</a>"
                }
            }
        },
        {
            field: "Step5", headerName: "8.4.5 Receive work permit, inform joining date - Candidate", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo5 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step5 + "\">" + params.data.StepNo5 + "</a>"
                }
            }
        },
    ];

    //StaffJoined
    var columnDefsStaffJoined = [
        {
            field: "CandidateProfileId", headerName: "Actions", maxWidth: 140, pinned: 'left',
            cellRenderer: params => {
                return "<div class='btn-group grid-menu' id='tree-menujas' data-appid='" + params.data.ApplicationId + "' data-appstate='" + params.data.ApplicationState + "' data-canid='" + params.data.CandidateProfileId + "' ><i class='fas fa-ellipsis-v'></i></div>"
            }
        },
        { field: "ApplicationNo", headerName: "Application No", width: 150, pinned: 'left' },
        { field: "PositionName", headerName: "Position", width: 150, pinned: 'left' },
        { field: "OrganizationName", headerName: "Organization", width: 150, pinned: 'left' },
        { field: "BatchName", headerName: "Batch", width: 150, pinned: 'left' },
        { field: "ApplicationStateName", headerName: "Application State", width: 150, pinned: 'left' },
        { field: "FirstName", headerName: "First Name", width: 150, pinned: 'left' },
        { field: "LastName", headerName: "Last Name", minWidth: 150 },
        { field: "Email", headerName: "Email", minWidth: 150 },
        { field: "ApplicationStatus", headerName: "Status", minWidth: 150 },
        {
            field: "Step1", headerName: "9.1.1 Fill forms, Sign documents - HR", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo1 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step1 + "\">" + params.data.StepNo1 + "</a>"
                }
            }
        },
    ];

    //PostStaffJoined
    var columnDefsPostStaffJoined = [
        {
            field: "CandidateProfileId", headerName: "Actions", maxWidth: 140, pinned: 'left',
            cellRenderer: params => {
                return "<div class='btn-group grid-menu' id='tree-menujas' data-appid='" + params.data.ApplicationId + "' data-appstate='" + params.data.ApplicationState + "' data-canid='" + params.data.CandidateProfileId + "' ><i class='fas fa-ellipsis-v'></i></div>"
            }
        },
        { field: "ApplicationNo", headerName: "Application No", width: 150, pinned: 'left' },
        { field: "PositionName", headerName: "Position", width: 150, pinned: 'left' },
        { field: "OrganizationName", headerName: "Organization", width: 150, pinned: 'left' },
        { field: "BatchName", headerName: "Batch", width: 150, pinned: 'left' },
        { field: "ApplicationStateName", headerName: "Application State", width: 150, pinned: 'left' },
        { field: "FirstName", headerName: "First Name", width: 150, pinned: 'left' },
        { field: "LastName", headerName: "Last Name", minWidth: 150 },
        { field: "Email", headerName: "Email", minWidth: 150 },
        { field: "ApplicationStatus", headerName: "Status", minWidth: 150 },
        {
            field: "Step2", headerName: "12.1.1 Provide cash voucher - HR", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo2 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step2 + "\">" + params.data.StepNo2 + "</a>"
                }
            }
        },
        {
            field: "Step3", headerName: "12.1.2 Send intimation email to Org Unit HO copying IT– HR", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo3 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step3 + "\")'>" + params.data.StepNo3 + "</a>"
                }
            }
        },
        {
            field: "Step4", headerName: "12.1.3 Send FRA/HRA Request to Finance via email – HR", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo4 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step4 + "\")'>" + params.data.StepNo4 + "</a>"
                }
            }
        },
        {
            field: "Step5", headerName: "12.1.4 Upload Passport, Visa/Qatar ID in System - HR", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo5 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step5 + "\">" + params.data.StepNo5 + "</a>"
                }
            }
        },
        {
            field: "Step6", headerName: "12.1.5 Update employee file in SAP – HR", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo6 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step6 + "\">" + params.data.StepNo6 + "</a>"
                }
            }
        },
        {
            field: "Step7", headerName: "12.1.6 Confirm induction date to candidate – HR", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo7 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step7 + "\">" + params.data.StepNo7 + "</a>"
                }
            }
        },
        {
            field: "Step8", headerName: "12.1.7 Confirm/Reject/Extend Probation Date – HM", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo8 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step8 + "\">" + params.data.StepNo8 + "</a>"
                }
            }
        },
        {
            field: "Step9", headerName: "12.1.8 Confirm/Reject/Extend Probation Date – HR", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo6 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step6 + "\">" + params.data.StepNo6 + "</a>"
                }
            }
        },

    ];

    //WorkerJoined
    var columnDefsWorkerJoined = [
        {
            field: "CandidateProfileId", headerName: "Actions", maxWidth: 140, pinned: 'left',
            cellRenderer: params => {
                return "<div class='btn-group grid-menu' id='tree-menujas' data-appid='" + params.data.ApplicationId + "' data-appstate='" + params.data.ApplicationState + "' data-canid='" + params.data.CandidateProfileId + "' ><i class='fas fa-ellipsis-v'></i></div>"
            }
        },
        { field: "ApplicationNo", headerName: "Application No", width: 150, pinned: 'left' },
        { field: "PositionName", headerName: "Position", width: 150, pinned: 'left' },
        { field: "OrganizationName", headerName: "Organization", width: 150, pinned: 'left' },
        { field: "BatchName", headerName: "Batch", width: 150, pinned: 'left' },
        { field: "ApplicationStateName", headerName: "Application State", width: 150, pinned: 'left' },
        { field: "FirstName", headerName: "First Name", width: 150, pinned: 'left' },
        { field: "LastName", headerName: "Last Name", minWidth: 150 },
        { field: "Email", headerName: "Email", minWidth: 150 },
        { field: "ApplicationStatus", headerName: "Status", minWidth: 150 },
        {
            field: "Step1", headerName: "10.1.1 Fill forms, Sign documents – HR", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo1 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step1 + "\">" + params.data.StepNo1 + "</a>"
                }
            }
        },
    ];

    //PostWorkerJoined
    var columnDefsPostWorkerJoined = [
        {
            field: "CandidateProfileId", headerName: "Actions", maxWidth: 140, pinned: 'left',
            cellRenderer: params => {
                return "<div class='btn-group grid-menu' id='tree-menujas' data-appid='" + params.data.ApplicationId + "' data-appstate='" + params.data.ApplicationState + "' data-canid='" + params.data.CandidateProfileId + "' ><i class='fas fa-ellipsis-v'></i></div>"
            }
        },
        { field: "ApplicationNo", headerName: "Application No", width: 150, pinned: 'left' },
        { field: "PositionName", headerName: "Position", width: 150, pinned: 'left' },
        { field: "OrganizationName", headerName: "Organization", width: 150, pinned: 'left' },
        { field: "BatchName", headerName: "Batch", width: 150, pinned: 'left' },
        { field: "ApplicationStateName", headerName: "Application State", width: 150, pinned: 'left' },
        { field: "FirstName", headerName: "First Name", width: 150, pinned: 'left' },
        { field: "LastName", headerName: "Last Name", minWidth: 150 },
        { field: "Email", headerName: "Email", minWidth: 150 },
        { field: "ApplicationStatus", headerName: "Status", minWidth: 150 },
        {
            field: "Step2", headerName: "13.1 Provide Cash Voucher – HR", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo2 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step2 + "\">" + params.data.StepNo2 + "</a>"
                }
            }
        },
        {
            field: "Step3", headerName: "13.2 Upload Passport, Visa/Qatar ID in System – HR", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo3 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step3 + "\")'>" + params.data.StepNo3 + "</a>"
                }
            }
        },
        {
            field: "Step4", headerName: "13.3 Update employee file in SAP – HR", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo4 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step4 + "\")'>" + params.data.StepNo4 + "</a>"
                }
            }
        },
        {
            field: "Step5", headerName: "13.4 Conduct Induction – HR", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo5 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step5 + "\">" + params.data.StepNo5 + "</a>"
                }
            }
        },
        {
            field: "Step6", headerName: "13.5 Confirm/Reject/Extend Probation Date – HM", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo6 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step6 + "\">" + params.data.StepNo6 + "</a>"
                }
            }
        },
        {
            field: "Step7", headerName: "13.6 Confirm/Reject/Extend Probation Date – HR", minWidth: 150,
            cellRenderer: params => {
                if (params.data.StepNo7 != null) {
                    return "<a style='cursor:pointer;color:blue' onclick='onViewTask(\"" + params.data.Step7 + "\">" + params.data.StepNo7 + "</a>"
                }
            }
        },
    ];

    //Joined
    var columnDefsJoined = [
        {
            field: "CandidateProfileId", headerName: "Actions", maxWidth: 140, pinned: 'left',
            cellRenderer: params => {
                return "<div class='btn-group grid-menu' id='tree-menujas' data-appid='" + params.data.ApplicationId + "' data-appstate='" + params.data.ApplicationState + "' data-canid='" + params.data.CandidateProfileId + "' ><i class='fas fa-ellipsis-v'></i></div>"
            }
        },
        { field: "ApplicationNo", headerName: "Application No", width: 150, pinned: 'left' },
        { field: "PositionName", headerName: "Position", width: 150, pinned: 'left' },
        { field: "OrganizationName", headerName: "Organization", width: 150, pinned: 'left' },
        { field: "BatchName", headerName: "Batch", width: 150, pinned: 'left' },
        { field: "FirstName", headerName: "First Name", width: 150, pinned: 'left' },
        { field: "MiddleName", headerName: "Middle Name", minWidth: 150 },
        { field: "LastName", headerName: "Last Name", minWidth: 150 },
        { field: "Email", headerName: "Email", minWidth: 150 },
        {
            field: "JoiningDate",
            headerName: "Joining Date", minWidth: 150,
            cellRenderer: (data) => {
                debugger;
                if (data.value != null && data.value != "") {
                    var d = new Date(data.value);
                    return d.getDate() + "." + d.getMonth() + "." + d.getFullYear();
                }
            }
        },
        { field: "ContactPhoneHome", headerName: "Mobile", minWidth: 150 },
        { field: "Gender", headerName: "Gender", minWidth: 150 },
        { field: "Age", headerName: "Age", minWidth: 150 },
        { field: "Nationality", headerName: "Nationality", minWidth: 150 },
        { field: "BloodGroup", headerName: "Blood Group", minWidth: 150 },
        { field: "PassportNumber", headerName: "Passport Number", minWidth: 150 },
        { field: "PassportIssueCountry", headerName: "Passport Issue Country", minWidth: 150 },
        { field: "PassportExpiryDate", headerName: "Passport Expiry Date", minWidth: 150 },
        { field: "CurrentAddressHouse", headerName: "Current Address House", minWidth: 150 },
        { field: "CurrentAddressStreet", headerName: "Current Address Street", minWidth: 150 },
        { field: "CurrentAddressCity", headerName: "Current Address City", minWidth: 150 },
        { field: "CurrentAddressState", headerName: "Current Address State", minWidth: 150 },
        { field: "CurrentAddressCountryName", headerName: "Current Address Country", minWidth: 150 },
        { field: "PermanentAddressHouse", headerName: "Permanent Address House", minWidth: 150 },
        { field: "PermanentAddressStreet", headerName: "Permanent Address Street", minWidth: 150 },
        { field: "PermanentAddressCity", headerName: "Permanent Address City", minWidth: 150 },
        { field: "PermanentAddressState", headerName: "Permanent Address State", minWidth: 150 },
        { field: "PermanentAddressCountryName", headerName: "Permanent Address Country", minWidth: 150 },
    ];

    function GetJobAdvStatisticList(url, columnDefs) {
        debugger;
        document.getElementById("kgrdCandInterview").innerHTML = "";

        gridConfig(
            "kgrdCandInterview",
            url,
            columnDefs,
            false,
            true,
            true,
            true,
            1,
            true,
            10);
    }


    $(function () {
        debugger;
        

        if ("@Model.ApplicationState" == null || "@Model.ApplicationState" == "") {
            url = "/Rec/RecruitmentTransaction/ReadTotalJobAdvertisementData?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId&state=@Model.ApplicationState";
            colDef = columnDefsNoOfApp;
        }
        else if ("@Model.ApplicationState" == "ShortListByHr") {
            url = "/Rec/RecruitmentTransaction/ReadJobAdvertisementData?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId&state=@Model.ApplicationState";
            colDef = columnDefsShortlistByHr;
        }
        else if ("@Model.ApplicationState" == "ShortListByHm") {
            url = "/Rec/RecruitmentTransaction/ReadJobAdvertisementData?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId&state=@Model.ApplicationState&tempcode=SCHEDULE_INTERVIEW&nexttempcode=SCHEDULE_INTERVIEW_CANDIDATE"; //REC_WF_INTERVIEW_EVALUATION
            colDef = columnDefsShortlistByHr;
        }
        else if ("@Model.ApplicationState" == "DirectHiring") {
            url = "/Rec/RecruitmentTransaction/GetDirectHiringData?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId";
            colDef = columnDefsDH;
        }
        else if ("@Model.ApplicationState" == "IntentToOffer") {
            url = "/Rec/RecruitmentTransaction/GetJobAdvertismentApplication?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId&state=@Model.ApplicationState&tempcode=EMPLOYEE_APPOINTMENT"; //REC_WF_STAFF_APPOINTMENT
            colDef = columnDefsIntentToOffer;
        }
        else if ("@Model.ApplicationState" == "WorkerPool") {
            url = "/Rec/RecruitmentTransaction/GetJobAdvertismentApplication?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId&state=@Model.ApplicationState&tempcode=WORKER_POOL_REQUEST"; //REC_WF_WORKER_APPOINTMENT
            colDef = columnDefsWorkerPool;
        }
        else if ("@Model.ApplicationState" == "FinalOffer") {
            url = "/Rec/RecruitmentTransaction/GetJobAdvertismentApplication?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId&state=@Model.ApplicationState&tempcode=PREPARE_FINAL_OFFER"; //PREPARE_FINAL_OFFER
            colDef = columnDefsFinalOffer;
        }
        else if ("@Model.ApplicationState" == "BusinessVisa") {
            url = "/Rec/RecruitmentTransaction/GetJobAdvertismentApplication?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId&state=@Model.ApplicationState&tempcode=BUSINESS_VISA_MEDICAL&tempCodeOther=TRAVEL"; //REC_WF_OVERSEAS_BUSINESS_VISA, REC_WF_TRAVELING
            colDef = columnDefsBusinessVisa;
        }
        else if ("@Model.ApplicationState" == "WorkVisa") {
            url = "/Rec/RecruitmentTransaction/GetJobAdvertismentApplication?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId&state=@Model.ApplicationState&tempcode=WORKER_VISA_MEDICAL&tempCodeOther=TRAVEL"; //REC_WF_OVERSEAS_WORK_VISA, REC_WF_TRAVELING
            colDef = columnDefsWorkVisa;
        }
        else if ("@Model.ApplicationState" == "VisaTransfer") {
            url = "/Rec/RecruitmentTransaction/GetJobAdvertismentApplication?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId&state=@Model.ApplicationState&tempcode=VISA_TRANSFER"; //REC_WF_LOCAL_VISA_TRANSFER
            colDef = columnDefsVisaTransfer;
        }
        else if ("@Model.ApplicationState" == "WorkPermit") {
            url = "/Rec/RecruitmentTransaction/GetJobAdvertismentApplication?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId&state=@Model.ApplicationState&tempcode=LOCAL_WORK_PERMIT"; //REC_WF_LOCAL_WORK_PERMIT
            colDef = columnDefsWorkPermit;
        }
        else if ("@Model.ApplicationState" == "StaffJoined") {
            url = "/Rec/RecruitmentTransaction/GetJobAdvertismentApplication?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId&state=@Model.ApplicationState&tempcode=STAFF_JOINING_FORMALITIES"; //REC_WF_STAFF_JOINING
            colDef = columnDefsStaffJoined;
        }
        else if ("@Model.ApplicationState" == "PostStaffJoined") {
            url = "/Rec/RecruitmentTransaction/GetJobAdvertismentApplication?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId&state=@Model.ApplicationState&tempcode=STAFF_JOINING_FORMALITIES&tempCodeOther=STAFF_CONFIRM_PROBATION_DATE"; //REC_WF_STAFF_JOINING
            colDef = columnDefsPostStaffJoined;
        }
        else if ("@Model.ApplicationState" == "WorkerJoined") {
            url = "/Rec/RecruitmentTransaction/GetJobAdvertismentApplication?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId&state=@Model.ApplicationState&tempcode=WORKER_JOINING_FORMALITIES"; //REC_WF_WORKER_JOINING
            colDef = columnDefsWorkerJoined;
        }
        else if ("@Model.ApplicationState" == "PostWorkerJoined") {
            url = "/Rec/RecruitmentTransaction/GetJobAdvertismentApplication?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId&state=@Model.ApplicationState&tempcode=WORKER_JOINING_FORMALITIES&tempCodeOther=WORKER_CONFIRM_PROBATION_DATE"; //REC_WF_WORKER_JOINING
            colDef = columnDefsPostWorkerJoined;
        }
        else if ("@Model.ApplicationState" == "Joined") {
            url = "/Rec/RecruitmentTransaction/GetJobAdvertismentApplication?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId&state=@Model.ApplicationState";
            colDef = columnDefsJoined;
        }

        GetJobAdvStatisticList(url, colDef);

        $.contextMenu({
            selector: '#tree-menujas',
            trigger: 'left',
            build: function ($trigger, e) {

                var appId = $trigger.data('appid');
                var appState = $trigger.data('appstate');
                var canId = $trigger.data('canid');                

                switch (0) {
                    case 0:
                        var Items;

                        if ("@Model.ApplicationState" == null || "@Model.ApplicationState" == "" || "@Model.ApplicationState" == "ShortListByHr" || "@Model.ApplicationState" == "ShortListByHm" || "@Model.ApplicationState" == "Joined") {
                            Items = {
                                "addcomment": { name: "Add Comment", icon: "fa-solid fa-comment-dots" },
                                "application": { name: "View", icon: "fa-solid fa-eye" },
                                "apptrack": { name: "Application Status Report", icon: "fa-solid fa-eye" },
                            };
                        }
                        else if ("@Model.ApplicationState" == "DirectHiring") {
                            Items = {
                                "apptrack": { name: "Application Status Report", icon: "fa-solid fa-eye" },
                            };
                        }
                        else if ("@Model.ApplicationState" == "IntentToOffer") {
                            Items = {
                                "addcomment": { name: "Add Comment", icon: "fa-solid fa-comment-dots" },
                                "returncandpool": { name: "Return to Candidate Pool", icon: "fa-solid fa-arrow-turn-down-left" },
                                "application": { name: "View", icon: "fa-solid fa-eye" },
                                "apptrack": { name: "Application Status Report", icon: "fa-solid fa-eye" },
                                "view": { name: "View Intent To Offer", icon: "far fa-address-card" },
                            };
                        }
                        else if ("@Model.ApplicationState" == "WorkerPool") {
                            Items = {
                                "addcomment": { name: "Add Comment", icon: "fa-solid fa-comment-dots" },
                                "returnwrkcandpool": { name: "Return to Candidate Pool", icon: "fa-solid fa-arrow-turn-down-left" },
                                "application": { name: "View", icon: "fa-solid fa-eye" },
                                "apptrack": { name: "Application Status Report", icon: "fa-solid fa-eye" },
                            };
                        }
                        else if ("@Model.ApplicationState" == "FinalOffer") {
                            Items = {
                                "addcomment": { name: "Add Comment", icon: "fa-solid fa-comment-dots" },
                                "returncandpoolfo": { name: "Return to Candidate Pool", icon: "fa-solid fa-arrow-turn-down-left" },
                                "application": { name: "View", icon: "fa-solid fa-eye" },
                                "apptrack": { name: "Application Status Report", icon: "fa-solid fa-eye" },
                                "finaloffer": { name: "View Final Offer", icon: "far fa-address-card" },
                            };
                        }
                        else if ("@Model.ApplicationState" == "BusinessVisa") {
                            Items = {
                                "addcomment": { name: "Add Comment", icon: "fa-solid fa-comment-dots" },
                                "returncandpoolbv": { name: "Return to Candidate Pool", icon: "fa-solid fa-arrow-turn-down-left" },
                                "application": { name: "View", icon: "fa-solid fa-eye" },
                                "apptrack": { name: "Application Status Report", icon: "fa-solid fa-eye" },
                            };
                        }
                        else if ("@Model.ApplicationState" == "WorkVisa") {
                            Items = {
                                "addcomment": { name: "Add Comment", icon: "fa-solid fa-comment-dots" },
                                "returncandpoolwv": { name: "Return to Candidate Pool", icon: "fa-solid fa-arrow-turn-down-left" },
                                "application": { name: "View", icon: "fa-solid fa-eye" },
                                "apptrack": { name: "Application Status Report", icon: "fa-solid fa-eye" },
                            };
                        }
                        else if ("@Model.ApplicationState" == "VisaTransfer") {
                            Items = {
                                "addcomment": { name: "Add Comment", icon: "fa-solid fa-comment-dots" },
                                "returncandpoolvt": { name: "Return to Candidate Pool", icon: "fa-solid fa-arrow-turn-down-left" },
                                "application": { name: "View", icon: "fa-solid fa-eye" },
                                "apptrack": { name: "Application Status Report", icon: "fa-solid fa-eye" },
                            };
                        }
                        else if ("@Model.ApplicationState" == "WorkPermit") {
                            Items = {
                                "addcomment": { name: "Add Comment", icon: "fa-solid fa-comment-dots" },
                                "returncandpoolwp": { name: "Return to Candidate Pool", icon: "fa-solid fa-arrow-turn-down-left" },
                                "application": { name: "View", icon: "fa-solid fa-eye" },
                                "apptrack": { name: "Application Status Report", icon: "fa-solid fa-eye" },
                            };
                        }
                        else if ("@Model.ApplicationState" == "StaffJoined" || "@Model.ApplicationState" == "PostStaffJoined") {
                            Items = {
                                "addcomment": { name: "Add Comment", icon: "fa-solid fa-comment-dots" },
                                "returncandpoolsj": { name: "Return to Candidate Pool", icon: "fa-solid fa-arrow-turn-down-left" },
                                "application": { name: "View", icon: "fa-solid fa-eye" },
                                "apptrack": { name: "Application Status Report", icon: "fa-solid fa-eye" },
                                "viewworker": { name: "Joining Report", icon: "fa-solid fa-eye" },
                                "viewper": { name: "Personal Data", icon: "fa-solid fa-eye" },
                                "viewdec": { name: "Nomination for Benefits", icon: "fa-solid fa-eye" },
                                "confdagreement": { name: "Confidentiality Agreement", icon: "fa-solid fa-eye" },
                                "compmatrix": { name: "Competence Matrix Report", icon: "fa-solid fa-eye" },
                            };
                        }
                        else if ("@Model.ApplicationState" == "WorkerJoined" || "@Model.ApplicationState" == "PostWorkerJoined") {
                            Items = {
                                "addcomment": { name: "Add Comment", icon: "fa-solid fa-comment-dots" },
                                "returncandpoolwj": { name: "Return to Candidate Pool", icon: "fa-solid fa-arrow-turn-down-left" },
                                "application": { name: "View", icon: "fa-solid fa-eye" },
                                "apptrack": { name: "Application Status Report", icon: "fa-solid fa-eye" },
                                "viewworker": { name: "Joining Report", icon: "fa-solid fa-eye" },
                                "viewper": { name: "Personal Data", icon: "fa-solid fa-eye" },
                                "viewdec": { name: "Nomination for Benefits", icon: "fa-solid fa-eye" },
                                "confdagreement": { name: "Confidentiality Agreement", icon: "fa-solid fa-eye" },
                                "compmatrix": { name: "Competence Matrix Report", icon: "fa-solid fa-eye" },
                            };
                        }

                        return {
                            callback: function (key, options) {
                                switch (key) {
                                    case 'addcomment':
                                        onAddComment(appId, appState);
                                        break;
                                    case 'application':
                                        OnApplication(canId, appId);
                                        break;
                                    case 'apptrack':
                                        OnViewAppStateTrack(appId);
                                        break;
                                    case 'returncandpool':
                                        onReturnCandidatePool(appId, "Rereviewed","EMPLOYEE_APPOINTMENT");
                                        break;
                                    case 'returnwrkcandpool':
                                        onReturnCandidatePool(appId, "Rereviewed", "WORKER_POOL_REQUEST");
                                        break;
                                    case 'returncandpoolfo':
                                        onReturnCandidatePool(appId, "Rereviewed", "PREPARE_FINAL_OFFER");
                                        break;
                                    case 'returncandpoolbv':
                                        onReturnCandidatePool(appId, "Rereviewed", "BUSINESS_VISA_MEDICAL");
                                        break;
                                    case 'returncandpoolwv':
                                        onReturnCandidatePool(appId, "Rereviewed", "WORKER_VISA_MEDICAL");
                                        break;
                                    case 'returncandpoolvt':
                                        onReturnCandidatePool(appId, "Rereviewed", "VISA_TRANSFER");
                                        break;
                                    case 'returncandpoolwp':
                                        onReturnCandidatePool(appId, "Rereviewed", "LOCAL_WORK_PERMIT");
                                        break;
                                    case 'returncandpoolsj':
                                        onReturnCandidatePool(appId, "Rereviewed", "STAFF_JOINING_FORMALITIES");
                                        break;
                                    case 'returncandpoolwj':
                                        onReturnCandidatePool(appId, "Rereviewed", "WORKER_JOINING_FORMALITIES");
                                        break;
                                    case 'view':
                                        onView(appId, "Rereviewed", "EMPLOYEE_APPOINTMENT");
                                        break;
                                    case 'finaloffer':
                                        OnFinalOffer(appId);
                                        break;
                                    case 'viewworker':
                                        onViewWorker(appId);
                                        break;
                                    case 'viewper':
                                        onViewPersonal(appId);
                                        break;
                                    case 'viewworker':
                                        onViewWorker(appId);
                                        break;
                                    case 'viewdec':
                                        onViewDeclaration(appId);
                                        break;
                                    case 'confdagreement':
                                        onConfAgreement(appId);
                                        break;
                                    case 'compmatrix':
                                        onViewCompetenceMatrix(appId);
                                        break;
                                    default:
                                }
                            },
                            items: Items
                        };
                }
            }
        });

    });

    function OnDataBound() {
        debugger;

        var cgrid1 = $("#kgrdCandInterview").data("kendoGrid");
        //var ccount = cgrid1.dataSource.data();

      //  alert(ccount.length);
        //$("#StateCount1").html(ccount.length);
        var ccount = cgrid1.dataSource.total();
        $("#StateCount1").html(ccount);

    }
    function UpdateStatus(type, status, appId, candId,state)
    {
        debugger;
            $.ajax({
                type: "GET",
                url: '@Url.Action("UpdateApplicationStatus", "RecruitmentDashboard", new { @area="Recruitment"})?type=' + type + "&status=" + status + "&applicationId=" + appId + "&CandidateProfileId=" + candId + "&state=" + state,
                //data: {
                //    'type': type,
                //    'status': status,
                //    'applicationId': appId,
                //    'CandidateProfileId': candId,
                //    'state': 'ShortListByHr',
                //},
                success: function (data) {
                    debugger;
                    $("#kgrdCandInterview").data("kendoGrid").dataSource.read();
                    var cgrid1 = $("#kgrdCandInterview").data("kendoGrid");
                    //var ccount = cgrid1.dataSource.data();
                   // alert(ccount.length);
                    //$("#StateCount1").html(ccount.length);
                    var ccount = cgrid1.dataSource.total();
                    $("#StateCount1").html(ccount);

                },
                //dataType: "json",
            });

    }

    function onShortlistByHR(){
        var url = "/rec/ShortListByHr/CandidateShortlistByHR?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId";
        LoadPartailView(url, $('#cms-content'));
    }
    function onShortlistByHM() {
        var url = "/recruitment/CandidateShortlist/index?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId";
        LoadPartailView(url, $('#cms-content'));
    }

    function back() {
        var url = "/rec/recruitmenttransaction/RecruitmentDashboard?jobAdvId=@Model.JobId&orgId=@Model.OrganizationId&permissions=@ViewBag.Permissions";
        LoadPartailView(url, $('#cms-content'));
    }

    function onAddComment(appId, appStateId)
    {
        @*iframeOpenUrl = '@Url.Action("AddComment", "CandidateShortlist", new { @area="Recruitment"})?appId=' + appId + "&appStateId=" + appStateId;
          OpenIframePopup(1000, 1200, 'Manage Comments');*@
        var win = GetMainWindow();
        win.iframeOpenUrl =  '@Url.Action("AddComment", "CandidateShortlist", new { @area = "Recruitment" })?appId=' + appId + "&appStateId=" + appStateId;
        win.OpenWindow({ Title: 'Manage Comments', Width: 1000, Height: 1000 });
        return false;
    }
    function onReturnCandidatePool(appId, appStateCode, tempCode)
    {
        @*iframeOpenUrl = '@Url.Action("ReturnCandidatePool", "CandidateShortlist", new { @area="Recruitment"})?appId=' + appId + "&appStateCode=" + appStateCode + "&tempCode="+tempCode;
        OpenIframePopup(1000, 1200, 'Return to Candidate Pool');*@
        var win = GetMainWindow();
        win.iframeOpenUrl = '@Url.Action("ReturnCandidatePool", "CandidateShortlist", new { @area = "Recruitment" })?appId=' + appId + "&appStateCode=" + appStateCode + "&tempCode=" + tempCode;
        win.OpenWindow({ Title: 'Return to Candidate Pool', Width: 1000, Height: 1000 });
        return false;
    }
    function onAddI(appId,state)
    {
        @*iframeOpenUrl = '@Url.Action("RecruitmentElement", "RecruitmentDashboard", new { @area="Recruitment"})?appId=' + appId + "&state=" + state ;
        OpenIframePopup(800, 1200, 'Prepare Intent Offer');*@
        var win = GetMainWindow();
        win.iframeOpenUrl = '@Url.Action("RecruitmentElement", "RecruitmentDashboard", new { @area = "Recruitment" })?appId=' + appId + "&state=" + state;
        win.OpenWindow({ Title: 'Prepare Intent Offer', Width: 800, Height: 1000 });
        return false;
      //window.location.href = "/recruitment/recruitmentdashboard/RecruitmentElement?appid=" + appId;
    }

    function onAddF(appId,state)
    {
        @*iframeOpenUrl = '@Url.Action("RecruitmentElement", "RecruitmentDashboard", new { @area="Recruitment"})?appId=' + appId + "&state=" + state ;
           OpenIframePopup(800, 1200, 'Prepare Final Offer');*@
        var win = GetMainWindow();
        win.iframeOpenUrl =  '@Url.Action("RecruitmentElement", "RecruitmentDashboard", new { @area = "Recruitment" })?appId=' + appId + "&state=" + state ;
        win.OpenWindow({ Title: 'Prepare Final Offer', Width: 800, Height: 1000 });
        return false;
      //  window.location.href = "/recruitment/recruitmentdashboard/RecruitmentElement?appid=" + appId;
    }

    function onAddSourcing(appId)
    {
        @*iframeOpenUrl = '@Url.Action("JoiningSource", "RecruitmentDashboard", new { @area="Recruitment"})?appId=' + appId ;
        OpenIframePopup(1000, 1200, 'Joining Report Data');*@
        var win = GetMainWindow();
        win.iframeOpenUrl =  '@Url.Action("JoiningSource", "RecruitmentDashboard", new { @area = "Recruitment" })?appId=' + appId ;
        win.OpenWindow({ Title: 'Joining Report Data', Width: 1000, Height: 1000 });
        return false;
      //  window.location.href = "/recruitment/recruitmentdashboard/RecruitmentElement?appid=" + appId;
    }

    function onAddCompetenceMatrix(appId)
    {
        @*iframeOpenUrl = '@Url.Action("CompetenceMatrix", "RecruitmentDashboard", new { @area="Recruitment"})?appId=' + appId ;
        OpenIframePopup(900, 1000, 'Competence Matrix');*@
        var win = GetMainWindow();
        win.iframeOpenUrl =  '@Url.Action("CompetenceMatrix", "RecruitmentDashboard", new { @area = "Recruitment" })?appId=' + appId ;
        win.OpenWindow({ Title: 'Competence Matrix', Width: 900, Height: 1000 });
        return false;
      //  window.location.href = "/recruitment/recruitmentdashboard/RecruitmentElement?appid=" + appId;
    }

    function onViewWorker(appId)
    {
        @*iframeOpenUrl = '@Url.Action("JoiningReport", "RecruitmentProcess", new { @area="Recruitment"})?appId=' + appId ;
        OpenIframePopup(1000, 1200, 'Joining Report');*@
        var win = GetMainWindow();
        win.iframeOpenUrl = '@Url.Action("JoiningReport", "RecruitmentTransaction", new { @area = "Rec" })?appId=' + appId;
        win.OpenWindow({ Title: 'Joining Report', Width: 1000, Height: 1000 });
        return false;
      //  window.location.href = "/recruitment/recruitmentdashboard/RecruitmentElement?appid=" + appId;
    }
    function onViewPersonal(appId)
    {
        @*iframeOpenUrl = '@Url.Action("PersonalData", "RecruitmentProcess", new { @area="Recruitment"})?appId=' + appId ;
        OpenIframePopup(1000, 1200, 'Personal Data');*@
        var win = GetMainWindow();
        win.iframeOpenUrl = '@Url.Action("PersonalData", "RecruitmentTransaction", new { @area = "Rec" })?appId=' + appId;
        win.OpenWindow({ Title: 'Personal Data', Width: 1000, Height: 1000 });
        return false;
      //  window.location.href = "/recruitment/recruitmentdashboard/RecruitmentElement?appid=" + appId;
    }

    function onViewDeclaration(appId)
    {
        @*iframeOpenUrl = '@Url.Action("Declaration", "RecruitmentProcess", new { @area="Recruitment"})?appId=' + appId ;
         OpenIframePopup(1000, 1200, 'Nomination for Benefits');*@
         var win = GetMainWindow();
        win.iframeOpenUrl =  '@Url.Action("Declaration", "RecruitmentTransaction", new { @area = "Rec" })?appId=' + appId ;
         win.OpenWindow({ Title: 'Nomination for Benefits', Width: 1000, Height: 1200 });
        return false;
      //  window.location.href = "/recruitment/recruitmentdashboard/RecruitmentElement?appid=" + appId;
    }


    function onView(appId) {
        @*iframeOpenUrl = '@Url.Action("IntentToOffer", "RecruitmentDashboard", new { @area = "Recruitment" })?appid=' + appId;
        OpenIframePopup(1000, 1200, 'Intent To Offer');*@
        var win = GetMainWindow();
        win.iframeOpenUrl =  '@Url.Action("IntentToOffer", "RecruitmentDashboard", new { @area = "Recruitment" })?appId=' + appId;
        win.OpenWindow({ Title: 'Intent To Offer', Width: 1000, Height: 1000 });
        return false;
    }

    function OnApplication(Id, appId) {
        @*iframeOpenUrl = '@Url.Action("PrintableView", "CandidateProfile", new { @area="Recruitment"})?candidateProfileId=' + Id + '&applicationId=' + appId;
        OpenIframePopup(1000, 1200, 'Candidate Profile Details');*@
         var win = GetMainWindow();
        win.iframeOpenUrl = '@Url.Action("PrintableView", "CandidateProfile", new { @area = "Recruitment" })?candidateProfileId=' + Id + '&applicationId=' + appId;
        win.OpenWindow({ Title: 'Candidate Profile Details', Width: 1000, Height: 1000 });
        return false;
    }

    function OnFinalOffer(Id) {
        @*iframeOpenUrl = '@Url.Action("FinalOffer", "RecruitmentProcess", new { @area="Recruitment"})?applicationId=' + Id;
        OpenIframePopup(1000, 1200, 'Final Offer');*@
        var win = GetMainWindow();
        win.iframeOpenUrl =  '@Url.Action("FinalOffer", "RecruitmentProcess", new { @area = "Recruitment" })?applicationId=' + Id;
        win.OpenWindow({ Title: 'Final Offer', Width: 1000, Height: 800 });
        return false;
    }
    function OnWorkerOffer(Id) {
        @*iframeOpenUrl = '@Url.Action("WorkerServiceAgreement", "RecruitmentProcess", new { @area="Recruitment"})?applicationId=' + Id;
        OpenIframePopup(1000, 1200, 'Contract Offer For Worker');*@
        var win = GetMainWindow();
        win.iframeOpenUrl =  '@Url.Action("WorkerServiceAgreement", "RecruitmentProcess", new { @area = "Recruitment" })?applicationId=' + Id;
        win.OpenWindow({ Title: 'Contract Offer For Worker', Width: 1000, Height: 1000 });
        return false;
    }
    function OnDriverOffer(Id) {
        @*iframeOpenUrl = '@Url.Action("ServiceAgreement", "RecruitmentProcess", new { @area="Recruitment"})?applicationId=' + Id;
        OpenIframePopup(1000, 1200, 'Contract Offer For Driver');*@
        var win = GetMainWindow();
        win.iframeOpenUrl =  '@Url.Action("ServiceAgreement", "RecruitmentProcess", new { @area = "Recruitment" })?applicationId=' + Id;
        win.OpenWindow({ Title: 'Contract Offer For Driver', Width: 1000, Height: 1000 });
        return false;
    }

    function OnViewAppStateTrack(Id) {        
        var win = GetMainWindow();
        win.iframeOpenUrl =  '@Url.Action("ApplicationStateTrack", "RecruitmentTransaction", new { @area = "Rec" })?applicationId=' + Id;
        win.OpenWindow({ Title: 'Application Status Track', Width: 1200, Height: 750 });
        return false;
    }
    function onViewComment(appId, appStateId)
    {
       @*window.parent.iframeOpenUrl = '@Url.Action("AddComment", "CandidateShortlist", new { @area="Recruitment"})?appId=' + appId + "&appStateId=" + appStateId + "&type=" + "view";
        window.parent.OpenIframePopup1(1000, 1200, 'Manage Comments');*@
        var win = GetMainWindow();
        win.iframeOpenUrl = '@Url.Action("AddComment", "CandidateShortlist", new { @area = "Recruitment" })?appId=' + appId + "&appStateId=" + appStateId + "&type=" + "view";
        win.OpenWindow({ Title: 'Manage Comments', Width: 1000, Height: 1000 });
        return false;
    }
    function onConfAgreement(appId)
    {
       @*window.parent.iframeOpenUrl = '@Url.Action("ConfidentialityAgreement", "RecruitmentProcess", new { @area="Recruitment"})?appId=' + appId;
        window.parent.OpenIframePopup(1000, 1200, 'Confidentiality Agreement');*@
        var win = GetMainWindow();
        win.iframeOpenUrl =  '@Url.Action("ConfidentialityAgreement", "RecruitmentTransaction", new { @area = "Rec" })?appId=' + appId;
        win.OpenWindow({ Title: 'Confidentiality Agreement', Width: 1000, Height: 1000 });
        return false;
    }

    function onViewCompetenceMatrix(appId) {
        @*window.parent.iframeOpenUrl = '@Url.Action("CompetenceMatrix", "RecruitmentProcess", new { @area="Recruitment"})?appId=' + appId;
        window.parent.OpenIframePopup(1000, 1200, 'Competence Matrix Report');*@
        var win = GetMainWindow();
        win.iframeOpenUrl = '@Url.Action("CompetenceMatrix", "RecruitmentTransaction", new { @area = "Rec" })?appId=' + appId;
        win.OpenWindow({ Title: 'Competence Matrix Report', Width: 1000, Height: 1000 });
        return false;
    }
    function onRaiseTask(appId,code,title){
        @*iframeOpenUrl = '@Url.Action("Index", "Task", new { @area= "Cms" })?templateCode=' + code + '&referenceId=' + appId + '&referenceTypeCode=' + '@ReferenceTypeEnum.REC_Application'+'&isPopUp=true';
        OpenIframePopup(1200, 1200, title);*@
        var win = GetMainWindow();
        win.iframeOpenUrl =  '@Url.Action("Index", "Task", new { @area = "Cms" })?templateCode=' + code + '&referenceId=' + appId + '&referenceTypeCode=' + '@ReferenceTypeEnum.REC_Application'+'&isPopUp=true';
        win.OpenWindow({ Title: title, Width: 1200, Height: 1000 });
        return false;
        @*var flag = confirm('Do you want to Raise the Task ?');
        if (flag) {
                    $.ajax({
                        url: '@Url.Action("AssignTaskForAppointment", "Task", new { @area= "Cms" })?applicantId=' + appId,
                type: 'POST',
                data: {},
                dataType: 'json',
                success: function (result) {
                    //
                    if (result.success) {
                       kendo.alert("Task Raised Successfully.");
                    }
                },
                error: function (ert) {

                }
            });
        }*@

    }
    function onViewTask(taskId, code, title) {
        debugger;
        var portalId = $('#GlobalPortalId').val();        
        var url = '/Cms/Page?lo=Popup&popup=true&cbm=OnAfterTask&source=View&dataAction=View&pageType=Task&portalId=' + portalId + '&recordId=' + taskId+ '&pageName=' + title + '&templateCodes=' + code;

        var win = GetMainWindow();
        win.iframeOpenUrl = url
        win.OpenWindow({ Title: 'View Task Details', Width: 1200, Height: 750 });
        return false;
    }

    function OnAfterTask() {
        GetJobAdvStatisticList(url, colDef);
    }

    function onRaiseTaskMedical(appId) {
        @*iframeOpenUrl = '@Url.Action("AssignTaskForMedical", "Task", new { @area= "Cms" })?applicantId=' + appId;
        OpenIframePopup(1000, 1200, 'Raise Medical Task');*@

        var flag = confirm('Do you want to Raise the Task for Medical ?');
        if (flag) {
            $.ajax({
                url: '@Url.Action("AssignTaskForMedical", "Task", new { @area= "Cms" })?applicantId=' + appId,
                dataType: "json",
                type: "GET",
                contentType: 'application/json; charset=utf-8', //define a contentType of your request
                cache: false,
                success: function (result) {
                    if (result.success) {

                        kendo.alert("Task Raised Successfully.");
                    }
                },
                error: function (xhr) {
                    //alert('error');
                }
            });
        }

    }


    function onRaiseService(appId,code,title){
        //alert("Visa Transfer " + appId+" "+code);
        @*iframeOpenUrl = '@Url.Action("Service", "Task", new { @area= "Cms" })?templateCode=' + code + '&referenceId=' + appId + '&referenceTypeCode=' + '@ReferenceTypeEnum.REC_Application'+'&isPopUp=true';
        OpenIframePopup(1200, 1200, title);*@
        var win = GetMainWindow();
        win.iframeOpenUrl =  '@Url.Action("Service", "Task", new { @area = "Cms" })?templateCode=' + code + '&referenceId=' + appId + '&referenceTypeCode=' + '@ReferenceTypeEnum.REC_Application'+'&isPopUp=true';
         win.OpenWindow({ Title: title, Width: 1200, Height: 1000 });
        return false;
    }
    function onViewService(taskId,code,title){
        //alert("Visa Transfer " + taskId+" "+code);
        @*iframeOpenUrl = '@Url.Action("Service", "Task", new { @area= "Cms" })?taskId=' + taskId + '&templateCode1=' + code +'&isPopUp=true' ;
        OpenIframePopup(1200, 1200, title);*@
        var win = GetMainWindow();
        win.iframeOpenUrl =  '@Url.Action("Service", "Task", new { @area = "Cms" })?taskId=' + taskId + '&templateCode1=' + code +'&isPopUp=true' ;
        win.OpenWindow({ Title: title, Width: 1200, Height: 1000 });
        return false;
    }
    function onRaiseServiceAppUser(appId, code,user,title) {
        @*iframeOpenUrl = '@Url.Action("Service", "Task", new { @area= "Cms" })?templateCode=' + code + '&assignTo='+user+'&referenceId=' + appId +'&referenceTypeCode=' + '@ReferenceTypeEnum.REC_Application'+'&isPopUp=true';
        OpenIframePopup(1200, 1200, title);*@
        var win = GetMainWindow();
        win.iframeOpenUrl =  '@Url.Action("Service", "Task", new { @area = "Cms" })?templateCode=' + code + '&assignTo='+user+'&referenceId=' + appId +'&referenceTypeCode=' + '@ReferenceTypeEnum.REC_Application'+'&isPopUp=true';
        win.OpenWindow({ Title: title, Width: 1200, Height: 1000 });
        return false;

    }
    function onRaiseTaskAppUser(appId, code,user, title) {
        @*iframeOpenUrl = '@Url.Action("Index", "Task", new { @area= "Cms" })?templateCode=' + code + '&assignTo=' + user + '&referenceId=' + appId + '&referenceTypeCode=' + '@ReferenceTypeEnum.REC_Application'+'&isPopUp=true';
        OpenIframePopup(1200, 1200, title);*@
        var win = GetMainWindow();
        win.iframeOpenUrl =  '@Url.Action("Index", "Task", new { @area = "Cms" })?templateCode=' + code + '&assignTo=' + user + '&referenceId=' + appId + '&referenceTypeCode=' + '@ReferenceTypeEnum.REC_Application'+'&isPopUp=true';
        win.OpenWindow({ Title: title, Width: 1200, Height: 1000 });
        return false;
    }
    function IframePostbackScript() {
        //alert("test");
        debugger;
        $("#kgrdCandInterview").data("kendoGrid").dataSource.read();
    }

    function OnCreateDirectHiring(appId, code) {
        var win = GetMainWindow();
        win.iframeOpenUrl = '@Url.Action("Service", "Task", new { @area = "Cms" })?templateCode1=DIRECT_HIRING&isPopUp=true';
        win.OpenWindow({ Title: 'Direct Hiring', Width: 1200, Height: 1200 });
        return false;
    }

</script>
@*class="container"*@
<div style="margin: 20px;">
    <div class="row pop-tstrip">
        <div class="col-xl-11">
            <h5 class="popTitle" style="margin-top:5px;">Job Advertisement - @Model.JobTitle</h5>
        </div>
        <div class="col col-right-cell">
            <input type="button" class="btn btn-light" value="Back" onclick="back()" style="margin-top:-7px;" />
        </div>
    </div>
    <div class="row aft-title-spacing">
        <div class="col">
            <input id="btnHR" type="button" class="btn btn-info" value="Shortlist By HR" onclick="onShortlistByHR()" style="height:30px;display:none;" />
            <input id="btnHM" type="button" class="btn btn-info" value="Shortlist By Hiring Manager" onclick="onShortlistByHM()" style="height:30px;display:none;" />
            @if (Model.ApplicationState == "ShortListByHr")
            {

            }
            else if (Model.ApplicationState == "ShortListByHm")
            {

            }

        </div>
    </div>
    <div class="row">
        <div class="col-xl-9">
            <div class="row">
                <div class="col col-border color-bg"><span class="numbers" id="RequiredbyHC">0</span><span>Required by HC</span></div>
                <div class="col col-border color-bg"><span class="numbers" id="Available">0</span><span>Available</span></div>
                <div class="col col-border color-bg"><span class="numbers" id="Subcontract">0</span><span>Sub Contract</span></div>
                <div class="col col-border color-bg"><span class="numbers" id="Transfer">0</span><span>Transfer</span></div>
                <div class="col col-border color-bg"><span class="numbers" id="TobeRecruited">0</span><span>To be Recruited</span></div>
            </div>
        </div>
        <div class="col col-border col-highlight">
            <span class="numbers text-center" id="StateCount"><i class="fa fa-group ico-applications"></i><span id="StateCount1">@Model.StateCount</span></span><p class="Qlink-title">@Model.ApplicationStateName</p>

        </div>

    </div>
    <div class="row">
        <div class="col">
            <div class="row">
                <div class="col"></div>
            </div>
        </div>
    </div>
    <div>
        <div class="table-responsive d-block mt-2">
            <div id="kgrdCandInterview" style="width: 100%;height:550px" class="ag-theme-alpine"></div>

            @*@if (Model.ApplicationState == null)
            {


                @(Html.Kendo().Grid<ApplicationViewModel>
                        ().Name("kgrdCandInterview").Resizable(resize => resize.Columns(true))
                        .Columns(columns =>
                        {
                            columns.Bound(c => c.CandidateProfileId).ClientTemplate("<div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown' >Actions</button><ul class='dropdown-menu' role='menu'><li><button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button></li><br/>" +
           "<li><button class='btn btn-info' onclick='OnApplication(\"#=CandidateProfileId#\",\"#:ApplicationId#\");'><i class='far fa-address-card'></i>&nbsp;View</button></li><br/><li><button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application Status Report</button></li><br/>" +
           "</ul></div>").Width(150).Title("Actions").HeaderHtmlAttributes(new { title = "Actions" }).Locked(true).Lockable(false);

                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button>").Title("Comment").Width(150).Locked(true).Lockable(false);

                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<a href='javascript:OnApplication(\"#=CandidateProfileId#\");'><i class='far fa-address-card btn-link'></i>&nbsp;View</a>").Title("View").Width(100).Locked(true).Lockable(false);

                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application State Report</button>").Title("Application State Report").Width(180).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationState).ClientTemplate("#if(ApplicationStateCode=='UnReviewed'){#<button class='btn btn-info' onclick='UpdateStatus(\"#:CandidateType#\",\"SHORTLISTED\",\"#:ApplicationId#\",\"#:CandidateProfileId#\",\"ShortListByHr\")'>Move To HR Shortlist</button>#}#").Title("Action").Width(180).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationNo).HeaderHtmlAttributes(new { title = "Application No" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationStateName).HeaderHtmlAttributes(new { title = "Application State Name" }).Title("Application State").Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.PositionName).HeaderHtmlAttributes(new { title = "Position Name" }).Title("Position Name").Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.OrganizationName).HeaderHtmlAttributes(new { title = "Organization Name" }).Title("Organization Name").Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.BatchName).HeaderHtmlAttributes(new { title = "Batch" }).Title("Batch").Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.FirstName).HeaderHtmlAttributes(new { title = "First Name" }).Title("First Name").Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.MiddleName).HeaderHtmlAttributes(new { title = "Middle Name" }).Title("Middle Name").Width(150);
                            columns.Bound(p => p.LastName).HeaderHtmlAttributes(new { title = "Last Name" }).Title("Last Name").Width(150);
                            columns.Bound(p => p.Email).HeaderHtmlAttributes(new { title = "Email" }).Width(150);
                            columns.Bound(p => p.ApplicationStatus).HeaderHtmlAttributes(new { title = "Application Status" }).Title("Status").Width(150);

                            columns.Bound(p => p.TotalWorkExperience).HeaderHtmlAttributes(new { title = "Total Work Experience" }).Width(150);
                            columns.Bound(p => p.ContactPhoneHome).HeaderHtmlAttributes(new { title = "Contact Phone Home" }).Title("Mobile").Width(150);
                            columns.Bound(p => p.Score).HeaderHtmlAttributes(new { title = "Score" }).Width(150);
                            columns.Bound(p => p.Gender).HeaderHtmlAttributes(new { title = "Gender" }).Width(150);
                            columns.Bound(p => p.BirthDate).HeaderHtmlAttributes(new { title = "Birth Date" }).Width(150).Format("{0:MM/dd/yyyy}");
                            columns.Bound(p => p.Age).HeaderHtmlAttributes(new { title = "Age" }).Width(150);
                            columns.Bound(p => p.BirthPlace).HeaderHtmlAttributes(new { title = "Birth Place" }).Width(150);
                            columns.Bound(p => p.Nationality).HeaderHtmlAttributes(new { title = "Nationality" }).Width(150);
                            columns.Bound(p => p.BloodGroup).HeaderHtmlAttributes(new { title = "Blood Group" }).Width(150);
                            columns.Bound(p => p.MaritalStatusName).HeaderHtmlAttributes(new { title = "Marital Status Name" }).Title("Marital Status").Width(150);
                            columns.Bound(p => p.PassportNumber).HeaderHtmlAttributes(new { title = "Passport Number" }).Width(150);
                            columns.Bound(p => p.PassportIssueCountry).HeaderHtmlAttributes(new { title = "Passport Issue Country" }).Width(150);
                            columns.Bound(p => p.PassportExpiryDate).HeaderHtmlAttributes(new { title = "Passport Expiry Date" }).Width(150).Format("{0:MM/dd/yyyy}");
                            columns.Bound(p => p.QatarId).HeaderHtmlAttributes(new { title = "Qatar Id" }).Width(150);
                            columns.Bound(p => p.CurrentAddressHouse).HeaderHtmlAttributes(new { title = "Current Address House" }).Width(150);
                            columns.Bound(p => p.CurrentAddressStreet).HeaderHtmlAttributes(new { title = "Current Address Street" }).Width(150);
                            columns.Bound(p => p.CurrentAddressCity).HeaderHtmlAttributes(new { title = "Current Address City" }).Width(150);
                            columns.Bound(p => p.CurrentAddressState).HeaderHtmlAttributes(new { title = "Current Address State" }).Width(150);
                            columns.Bound(p => p.CurrentAddressCountryName).HeaderHtmlAttributes(new { title = "Current Address Country Name" }).Width(150);
                            columns.Bound(p => p.PermanentAddressHouse).HeaderHtmlAttributes(new { title = "Permanent Address House" }).Width(150);
                            columns.Bound(p => p.PermanentAddressStreet).HeaderHtmlAttributes(new { title = "Permanent Address Street" }).Width(150);
                            columns.Bound(p => p.PermanentAddressCity).HeaderHtmlAttributes(new { title = "Permanent Address City" }).Width(150);
                            columns.Bound(p => p.PermanentAddressState).HeaderHtmlAttributes(new { title = "Permanent Address State" }).Width(150);
                            columns.Bound(p => p.PermanentAddressCountryName).HeaderHtmlAttributes(new { title = "Permanent Address Country Name" }).Width(150);

                            columns.Bound(p => p.ContactPhoneLocal).HeaderHtmlAttributes(new { title = "Contact Phone Local" }).Width(150);
                            //columns.Bound(p => p.CurrentEmployer).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentLocation).Width(250);
                            //columns.Bound(p => p.CurrentEmploymentPosition).Width(250);
                            //columns.Bound(p => p.CurrentEmploymentStartDate).Width(250).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.CurrentEmploymentEndDate).Width(250);
                            //columns.Bound(p => p.CurrentEmploymentResponsibilities).Width(300);

                            columns.Bound(p => p.SalaryCurrencyName).HeaderHtmlAttributes(new { title = "Salary Currency Name" }).Title("Salary Currency").Width(150);
                            //columns.Bound(p => p.IndianSalary).Width(150);
                            // columns.Bound(p => p.OverseasSalary).Width(150);
                            columns.Bound(p => p.NetSalary).HeaderHtmlAttributes(new { title = "Net Salary After Income Tax" }).Title("Net Salary After Income Tax").Width(150);
                            columns.Bound(p => p.OtherAllowances).HeaderHtmlAttributes(new { title = "Other Allowances" }).Width(150);

                        })
                         //.ToolBar(toolbar =>
                         //{
                         //    toolbar.ClientTemplate("<button type='button' class='btn btn-primary' onclick='OnCreateMenuGroup();'><i class='fa fas fa-plus'></i>&nbsp;Create Menu Group</button>");
                         //})
                         //.Events(e => e.DataBound("OnDataBoundNot"))
                         .Events(e => e.DataBound("OnDataBound"))
                        .Scrollable().Height(700)
                        .Sortable().Resizable(resize => resize.Columns(true))
                        .Selectable(select => select.Enabled(false))
                        .Filterable(f => f.Extra(false)
                                          .Operators(o => o.ForString(s => s.Clear()
                                          .Contains("Contains")
                                          .IsEqualTo("Is equal to")
                                          )))
                        .Pageable(pageable => pageable
                        .Refresh(true)
                        .PageSizes(true)
                        .ButtonCount(5))
                        .AutoBind(true)
                        .DataSource(dataSource => dataSource
                        .Ajax()
                        .PageSize(10)
                         .Read(read => read.Action("ReadTotalJobAdvertisementData", "RecruitmentDashboard", new { jobAdvId = Model.JobId, orgId=Model.OrganizationId, state = Model.ApplicationState }))
                        .Model(model => model.Id(p => p.Id))
                        )
          )
            }
            else if (Model.ApplicationState == "ShortListByHr")
            {
                @(Html.Kendo().Grid<ApplicationViewModel>
                        ().Name("kgrdCandInterview").Resizable(resize => resize.Columns(true))
                        .Columns(columns =>
                        {

                            columns.Bound(c => c.CandidateProfileId).ClientTemplate("<div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown' >Actions</button><ul class='dropdown-menu' role='menu'><li><button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button></li><br/>" +
           "<li><button class='btn btn-info' onclick='OnApplication(\"#=CandidateProfileId#\",\"#:ApplicationId#\");'><i class='far fa-address-card'></i>&nbsp;View</button></li><br/><li><button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application Status Report</button></li><br/>" +
           " </ul></div>").Width(150).Title("Actions").HeaderHtmlAttributes(new { title = "Actions" }).Locked(true).Lockable(false);
                            // columns.Bound(c => c.CandidateProfileId).ClientTemplate("<button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button>").Title("Comment").Width(150).Locked(true).Lockable(false);

                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<a href='javascript:OnApplication(\"#=CandidateProfileId#\");'><i class='far fa-address-card btn-link'></i>&nbsp;View</a>").Title("View").Width(100).Locked(true).Lockable(false);

                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application State Report</button>").Title("Application State Report").Width(180).Locked(true).Lockable(false);
                            // columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='UpdateStatus(\"#:CandidateType#\",\"#:ApplicationStatusCode#\",\"#:ApplicationId#\",\"#:CandidateProfileId#\",\"ShortListByHm\")'>Move To Hm</button>").Title("Action").Width(280).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationNo).HeaderHtmlAttributes(new { title = "Application No" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.PositionName).HeaderHtmlAttributes(new { title = "Position Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.OrganizationName).HeaderHtmlAttributes(new { title = "Organization Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.BatchName).HeaderHtmlAttributes(new { title = "Batch Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationStateName).HeaderHtmlAttributes(new { title = "Application State Name" }).Title("Application State").Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.FirstName).HeaderHtmlAttributes(new { title = "First Name" }).Title("First Name").Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.MiddleName).HeaderHtmlAttributes(new { title = "Middle Name" }).Title("Middle Name").Width(150);
                            columns.Bound(p => p.LastName).HeaderHtmlAttributes(new { title = "Last Name" }).Title("Last Name").Width(150);
                            columns.Bound(p => p.Email).HeaderHtmlAttributes(new { title = "Email" }).Width(150);
                            columns.Bound(p => p.ApplicationStatus).HeaderHtmlAttributes(new { title = "Application Status" }).Title("Status").Width(150);

                            columns.Bound(p => p.TotalWorkExperience).HeaderHtmlAttributes(new { title = "Total Work Experience" }).Width(150);
                            columns.Bound(p => p.ContactPhoneHome).HeaderHtmlAttributes(new { title = "Mobile" }).Title("Mobile").Width(150);
                            columns.Bound(p => p.Score).HeaderHtmlAttributes(new { title = "Score" }).Width(150);
                            columns.Bound(p => p.Gender).HeaderHtmlAttributes(new { title = "Gender" }).Width(150);
                            columns.Bound(p => p.BirthDate).HeaderHtmlAttributes(new { title = "Birth Date" }).Width(150).Format("{0:MM/dd/yyyy}");
                            columns.Bound(p => p.Age).HeaderHtmlAttributes(new { title = "Age" }).Width(150);
                            columns.Bound(p => p.BirthPlace).HeaderHtmlAttributes(new { title = "Birth Place" }).Width(150);
                            columns.Bound(p => p.Nationality).HeaderHtmlAttributes(new { title = "Nationality" }).Width(150);
                            columns.Bound(p => p.BloodGroup).HeaderHtmlAttributes(new { title = "Blood Group" }).Width(150);
                            columns.Bound(p => p.MaritalStatusName).HeaderHtmlAttributes(new { title = "Marital Status" }).Width(150);
                            columns.Bound(p => p.PassportNumber).HeaderHtmlAttributes(new { title = "Passport Number" }).Width(150);
                            columns.Bound(p => p.PassportIssueCountry).HeaderHtmlAttributes(new { title = "Passport Issue Country" }).Width(150);
                            columns.Bound(p => p.PassportExpiryDate).HeaderHtmlAttributes(new { title = "Passport Expiry Date" }).Width(150).Format("{0:MM/dd/yyyy}");
                            columns.Bound(p => p.QatarId).HeaderHtmlAttributes(new { title = "Qatar Id" }).Width(150);
                            columns.Bound(p => p.CurrentAddressHouse).HeaderHtmlAttributes(new { title = "Current Address House" }).Width(150);
                            columns.Bound(p => p.CurrentAddressStreet).HeaderHtmlAttributes(new { title = "Current Address Street" }).Width(150);
                            columns.Bound(p => p.CurrentAddressCity).HeaderHtmlAttributes(new { title = "Current Address City" }).Width(150);
                            columns.Bound(p => p.CurrentAddressState).HeaderHtmlAttributes(new { title = "Current Address State" }).Width(150);
                            columns.Bound(p => p.CurrentAddressCountryName).HeaderHtmlAttributes(new { title = "Current Address Country Name" }).Width(150);
                            columns.Bound(p => p.PermanentAddressHouse).HeaderHtmlAttributes(new { title = "Permanent Address House" }).Width(150);
                            columns.Bound(p => p.PermanentAddressStreet).HeaderHtmlAttributes(new { title = "Permanent Address Street" }).Width(150);
                            columns.Bound(p => p.PermanentAddressCity).HeaderHtmlAttributes(new { title = "Permanent Address City" }).Width(150);
                            columns.Bound(p => p.PermanentAddressState).HeaderHtmlAttributes(new { title = "Permanent Address State" }).Width(150);
                            columns.Bound(p => p.PermanentAddressCountryName).HeaderHtmlAttributes(new { title = "Permanent Address Country Name" }).Width(150);

                            columns.Bound(p => p.ContactPhoneLocal).HeaderHtmlAttributes(new { title = "Contact Phone Local" }).Width(150);
                            //columns.Bound(p => p.CurrentEmployer).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentLocation).Width(250);
                            //columns.Bound(p => p.CurrentEmploymentPosition).Width(250);
                            //columns.Bound(p => p.CurrentEmploymentStartDate).Width(250).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.CurrentEmploymentEndDate).Width(250);
                            //columns.Bound(p => p.CurrentEmploymentResponsibilities).Width(300);

                            columns.Bound(p => p.SalaryCurrencyName).HeaderHtmlAttributes(new { title = "Salary Currency Name" }).Title("Salary Currency").Width(150);
                            //columns.Bound(p => p.IndianSalary).Width(150);
                            //columns.Bound(p => p.OverseasSalary).Width(150);
                            columns.Bound(p => p.NetSalary).HeaderHtmlAttributes(new { title = "Net Salary" }).Title("Net Salary After Income Tax").Width(150);
                            columns.Bound(p => p.OtherAllowances).HeaderHtmlAttributes(new { title = "Other Allowances" }).Width(150);

                        })
                         //.ToolBar(toolbar =>
                         //{
                         //    toolbar.ClientTemplate("<button type='button' class='btn btn-primary' onclick='OnCreateMenuGroup();'><i class='fa fas fa-plus'></i>&nbsp;Create Menu Group</button>");
                         //})
                         //.Events(e => e.DataBound("OnDataBoundNot"))
                         .Events(e => e.DataBound("OnDataBound"))
                        .Scrollable().Height(700)
                        .Sortable().Resizable(resize => resize.Columns(true))
                        .Selectable(select => select.Enabled(false))
                        .Filterable(f => f.Extra(false)
                                          .Operators(o => o.ForString(s => s.Clear()
                                          .Contains("Contains")
                                          .IsEqualTo("Is equal to")
                                          )))
                        .Pageable(pageable => pageable
                        .Refresh(true)
                        .PageSizes(true)
                        .ButtonCount(5))
                        .AutoBind(true)
                        .DataSource(dataSource => dataSource
                        .Ajax()
                        .PageSize(10)
                         .Read(read => read.Action("ReadJobAdvertisementData", "RecruitmentDashboard", new { jobAdvId = Model.JobId, orgId = Model.OrganizationId, state = Model.ApplicationState,permission= @ViewBag.Permissions }))
                        .Model(model => model.Id(p => p.Id))
                        )
          )
            }

            else if (Model.ApplicationState == "ShortListByHm")
            {
                @(Html.Kendo().Grid<ApplicationViewModel>
                        ().Name("kgrdCandInterview").Resizable(resize => resize.Columns(true))
                        .Columns(columns =>
                        {

                            columns.Bound(c => c.CandidateProfileId).ClientTemplate("<div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown' >Actions</button><ul class='dropdown-menu' role='menu'><li><button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button></li><br/>" +
           "<li><button class='btn btn-info' onclick='OnApplication(\"#=CandidateProfileId#\",\"#:ApplicationId#\");'><i class='far fa-address-card'></i>&nbsp;View</button></li><br/><li><button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application Status Report</button></li><br/>" +
           "</ul></div>").Width(150).Title("Actions").HeaderHtmlAttributes(new { title = "Actions" }).Locked(true).Lockable(false);
                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button>").Title("Comment").Width(150).Locked(true).Lockable(false);

                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<a href='javascript:OnApplication(\"#=CandidateProfileId#\");'><i class='far fa-address-card btn-link'></i>&nbsp;View</a>").Title("View").Width(100).Locked(true).Lockable(false);

                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application State Report</button>").Title("Application State Report").Width(180).Locked(true).Lockable(false);
                            // columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='UpdateStatus(\"#:CandidateType#\",\"#:ApplicationStatusCode#\",\"#:ApplicationId#\",\"#:CandidateProfileId#\",\"InterviewsCompleted\")'>Move To Interviews</button>").Title("Action").Width(280).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationNo).HeaderHtmlAttributes(new { title = "Application No" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.PositionName).HeaderHtmlAttributes(new { title = "Position Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.OrganizationName).HeaderHtmlAttributes(new { title = "Organization Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.BatchName).HeaderHtmlAttributes(new { title = "Batch Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationStateName).HeaderHtmlAttributes(new { title = "Application State Name" }).Title("Application State").Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.HiringManagerName).Title("Hiring Manager").HeaderHtmlAttributes(new { title = "Hiring Manager" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.FirstName).HeaderHtmlAttributes(new { title = "First Name" }).Title("First Name").Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.MiddleName).HeaderHtmlAttributes(new { title = "Middle Name" }).Title("Middle Name").Width(150);
                            columns.Bound(p => p.LastName).HeaderHtmlAttributes(new { title = "Last Name" }).Title("Last Name").Width(150);
                            //columns.Bound(p => p.BatchName).HeaderHtmlAttributes(new { title = "Batch Name" }).Title("Batch").Width(150);

                            columns.Bound(p => p.Email).HeaderHtmlAttributes(new { title = "Email" }).Width(150);
                            columns.Bound(p => p.ApplicationStatus).HeaderHtmlAttributes(new { title = "Application Status" }).HeaderHtmlAttributes(new { title = "Name" }).Title("Status").Width(150);

                            columns.Bound(p => p.TotalWorkExperience).HeaderHtmlAttributes(new { title = "Total Work Experience" }).Width(150);
                            columns.Bound(p => p.ContactPhoneHome).HeaderHtmlAttributes(new { title = "Contact Phone Home" }).Title("Mobile").Width(150);
                            columns.Bound(p => p.Score).HeaderHtmlAttributes(new { title = "Score" }).Width(150);
                            columns.Bound(p => p.Gender).HeaderHtmlAttributes(new { title = "Gender" }).Width(150);
                            columns.Bound(p => p.BirthDate).HeaderHtmlAttributes(new { title = "Birth Date" }).Width(150).Format("{0:MM/dd/yyyy}");
                            columns.Bound(p => p.Age).HeaderHtmlAttributes(new { title = "Age" }).Width(150);
                            columns.Bound(p => p.BirthPlace).HeaderHtmlAttributes(new { title = "Birth Place" }).Width(150);
                            columns.Bound(p => p.Nationality).HeaderHtmlAttributes(new { title = "Nationality" }).Width(150);
                            columns.Bound(p => p.BloodGroup).HeaderHtmlAttributes(new { title = "Blood Group" }).Width(150);
                            columns.Bound(p => p.MaritalStatusName).HeaderHtmlAttributes(new { title = "Marital Status" }).Width(150);
                            columns.Bound(p => p.PassportNumber).HeaderHtmlAttributes(new { title = "Passport Number" }).Width(150);
                            columns.Bound(p => p.PassportIssueCountry).HeaderHtmlAttributes(new { title = "Passport Issue Country" }).Width(150);
                            columns.Bound(p => p.PassportExpiryDate).HeaderHtmlAttributes(new { title = "Passport Expiry Date" }).Width(150).Format("{0:MM/dd/yyyy}");
                            columns.Bound(p => p.QatarId).HeaderHtmlAttributes(new { title = "Qatar Id" }).Width(150);
                            columns.Bound(p => p.CurrentAddressHouse).HeaderHtmlAttributes(new { title = "Current Address House" }).Width(150);
                            columns.Bound(p => p.CurrentAddressStreet).HeaderHtmlAttributes(new { title = "Current Address Street" }).Width(150);
                            columns.Bound(p => p.CurrentAddressCity).HeaderHtmlAttributes(new { title = "Current Address City" }).Width(150);
                            columns.Bound(p => p.CurrentAddressState).HeaderHtmlAttributes(new { title = "Current Address State" }).Width(150);
                            columns.Bound(p => p.CurrentAddressCountryName).HeaderHtmlAttributes(new { title = "Current Address Country Name" }).Width(150);
                            columns.Bound(p => p.PermanentAddressHouse).HeaderHtmlAttributes(new { title = "Permanent Address House" }).Width(150);
                            columns.Bound(p => p.PermanentAddressStreet).HeaderHtmlAttributes(new { title = "Permanent Address Street" }).Width(150);
                            columns.Bound(p => p.PermanentAddressCity).HeaderHtmlAttributes(new { title = "Permanent Address City" }).Width(150);
                            columns.Bound(p => p.PermanentAddressState).HeaderHtmlAttributes(new { title = "Permanent Address State" }).Width(150);
                            columns.Bound(p => p.PermanentAddressCountryName).HeaderHtmlAttributes(new { title = "Permanent Address Country Name" }).Width(150);

                            columns.Bound(p => p.ContactPhoneLocal).HeaderHtmlAttributes(new { title = "Contact Phone Local" }).Width(150);
                            //columns.Bound(p => p.CurrentEmployer).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentLocation).Width(250);
                            //columns.Bound(p => p.CurrentEmploymentPosition).Width(250);
                            //columns.Bound(p => p.CurrentEmploymentStartDate).Width(250).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.CurrentEmploymentEndDate).Width(250);
                            //columns.Bound(p => p.CurrentEmploymentResponsibilities).Width(300);

                            columns.Bound(p => p.SalaryCurrencyName).HeaderHtmlAttributes(new { title = "Salary Currency Name" }).Title("Salary Currency").Width(150);
                            // columns.Bound(p => p.IndianSalary).Width(150);
                            //columns.Bound(p => p.OverseasSalary).Width(150);
                            columns.Bound(p => p.NetSalary).HeaderHtmlAttributes(new { title = "Net Salary" }).Title("Net Salary After Income Tax").Width(150);
                            columns.Bound(p => p.OtherAllowances).HeaderHtmlAttributes(new { title = "Other Allowances" }).Width(150);

                        })
                        //.ToolBar(toolbar =>
                        //{
                        //    toolbar.ClientTemplate("<button type='button' class='btn btn-primary' onclick='OnCreateMenuGroup();'><i class='fa fas fa-plus'></i>&nbsp;Create Menu Group</button>");
                        //})
                        .Events(e => e.DataBound("OnDataBound"))

                        .Scrollable().Height(700)
                        .Sortable().Resizable(resize => resize.Columns(true))
                        .Selectable(select => select.Enabled(false))
                        .Filterable(f => f.Extra(false)
                                          .Operators(o => o.ForString(s => s.Clear()
                                          .Contains("Contains")
                                          .IsEqualTo("Is equal to")
                                          )))
                        .Pageable(pageable => pageable
                        .Refresh(true)
                        .PageSizes(true)
                        .ButtonCount(5))
                        .AutoBind(true)
                        .DataSource(dataSource => dataSource
                        .Ajax()
                        .PageSize(10)
                         .Read(read => read.Action("ReadJobAdvertisementData", "RecruitmentDashboard", new { jobAdvId = Model.JobId, orgId = Model.OrganizationId, state = Model.ApplicationState,tempcode = "SCHEDULE_INTERVIEW", nexttempcode = "SCHEDULE_INTERVIEW_CANDIDATE",permission = @ViewBag.Permissions }))
                        .Model(model => model.Id(p => p.Id))
                        )
          )
            }

            else if (Model.ApplicationState == "DirectHiring")
            {
                @(Html.Kendo().Grid<ApplicationViewModel>
                        ().Name("kgrdCandInterview").Resizable(resize => resize.Columns(true))
                        .Columns(columns =>
                        {

                            //  columns.Bound(c => c.CandidateProfileId).ClientTemplate("<div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown' >Actions</button><ul class='dropdown-menu' role='menu'><li><button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button></li><br><li><button class='btn btn-info' onclick='OnApplication(\"#=CandidateProfileId#\",\"#:ApplicationId#\");'><i class='far fa-address-card'></i>&nbsp;View</button></li><br><li><button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application Status Report</button></li><br/></ul></div>").Width(150).Title("Actions").HeaderHtmlAttributes(new { title = "Actions" }).HtmlAttributes(new { style = "text-align:center" }).Locked(true).Lockable(false);
                            columns.Bound(c => c.CandidateProfileId).ClientTemplate("<div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown' >Actions</button><ul class='dropdown-menu' role='menu'>" +
          "#if(ApplicationId!=null){#<li><button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application Status Report</button></li><br/>#}#" +
          " </ul></div>").Width(150).Title("Actions").HeaderHtmlAttributes(new { title = "Actions" }).Locked(true).Lockable(false);
                            columns.Bound(p => p.TaskNo).HeaderHtmlAttributes(new { title = "Service No" }).Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.PositionName).HeaderHtmlAttributes(new { title = "Position Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.OrganizationName).HeaderHtmlAttributes(new { title = "Organization Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.BatchName).HeaderHtmlAttributes(new { title = "Batch Name" }).Title("Batch Name").Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationNo).ClientTemplate("#if(ApplicationId!=null){#<a style='cursor:pointer;color:blue' onclick='OnApplication(\"#=CandidateProfileId#\",\"#:ApplicationId#\");'>#:ApplicationNo#</a>#}#").HeaderHtmlAttributes(new { title = "Application No" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.FirstName).HeaderHtmlAttributes(new { title = "First Name" }).Title("First Name").Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.LastName).HeaderHtmlAttributes(new { title = "Last Name" }).Title("Last Name").Width(150);
                            columns.Bound(p => p.Email).HeaderHtmlAttributes(new { title = "Email" }).Width(150);
                            columns.Bound(p => p.Step1).ClientTemplate("#if(StepNo1!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step1#\",\"\",\"Collect Applicant Information\")'>#:StepNo1#</a>#}#").Title("4.1 Collect Applicant Information").HeaderHtmlAttributes(new { title = "4.1 Collect Applicant Information" }).Width(150);
                            columns.Bound(p => p.Step2).ClientTemplate("#if(StepNo2!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step2#\",\"\",\"Fill Evaluation Form\")'>#:StepNo2#</a>#}#").Title("4.2 Fill Evaluation Form").HeaderHtmlAttributes(new { title = "4.2 Fill Evaluation Form" }).Width(150);



                        })
                         .ToolBar(toolbar =>
                         {
                             toolbar.ClientTemplate("<button type='button' class='btn btn-primary' onclick='OnCreateDirectHiring();'><i class='fa fas fa-plus'></i>&nbsp;Create Direct Hiring</button>");
                         })
                         //.Events(e => e.DataBound("OnDataBoundNot"))
                         .Events(e => e.DataBound("OnDataBound"))
                        .Scrollable().Height(700)
                        .Sortable()
                        .Resizable(resize => resize.Columns(true))
                        .Selectable(select => select.Enabled(false))
                        .Filterable(f => f.Extra(false)
                                          .Operators(o => o.ForString(s => s.Clear()
                                          .Contains("Contains")
                                          .IsEqualTo("Is equal to")
                                          )))
                        .Pageable(pageable => pageable
                        .Refresh(true)
                        .PageSizes(true)
                        .ButtonCount(5))
                        .AutoBind(true)
                        .DataSource(dataSource => dataSource
                        .Ajax()
                        .PageSize(10)
                        .Read(read => read.Action("GetDirectHiringData", "RecruitmentDashboard",new { jobAdvId = Model.JobId, orgId = Model.OrganizationId, permission = @ViewBag.Permissions }))
                        .Model(model => model.Id(p => p.Id))
                        )
          )
            }

            else if (Model.ApplicationState == "IntentToOffer")
            {
                @(Html.Kendo().Grid<ApplicationViewModel>
                        ().Name("kgrdCandInterview").Resizable(resize => resize.Columns(true))
                        .Columns(columns =>
                        {

                            columns.Bound(c => c.CandidateProfileId).ClientTemplate("<div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown' >Actions</button><ul class='dropdown-menu' role='menu'><li><button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button></li><br/>" +
           "<li><button class='btn btn-info' onclick='onReturnCandidatePool(\"#:ApplicationId#\",\"Rereviewed\",\"EMPLOYEE_APPOINTMENT\")'>Return to Candidate Pool</button></li><br/><li><button class='btn btn-info' onclick='OnApplication(\"#=CandidateProfileId#\",\"#:ApplicationId#\");'><i class='far fa-address-card'></i>&nbsp;View</button></li><br/><li><button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application Status Report</button></li><br/>" +
           "<li><button class='btn btn-info' onclick='onView(\"#:ApplicationId#\");'><i class='far fa-address-card btn-link'></i>&nbsp;View Intent To Offer</button></li></ul></div>").Width(150).Title("Actions").HeaderHtmlAttributes(new { title = "Actions" }).Locked(true).Lockable(false);
                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button>").Title("Comment").Width(150).Locked(true).Lockable(false);

                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<a href='javascript:OnApplication(\"#=CandidateProfileId#\");'><i class='far fa-address-card btn-link'></i>&nbsp;View</a>").Title("View").Width(100).Locked(true).Lockable(false);

                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application State Report</button>").Title("Application State Report").Width(180).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='UpdateStatus(\"#:CandidateType#\",\"#:ApplicationStatusCode#\",\"#:ApplicationId#\",\"#:CandidateProfileId#\",\"FinalOfferSent\")'>Move To Final Offer</button>").Title("Action").Width(280).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationNo).Title("Application No").HeaderHtmlAttributes(new { title = "Application No" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.PositionName).Title("Position Name").HeaderHtmlAttributes(new { title = "Position Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.OrganizationName).Title("Organization Name").HeaderHtmlAttributes(new { title = "Organization Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.BatchName).Title("Batch").HeaderHtmlAttributes(new { title = "Batch" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationStateName).Title("Application State").HeaderHtmlAttributes(new { title = "Application State" }).Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.FirstName).Title("First Name").HeaderHtmlAttributes(new { title = "First Name" }).Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.MiddleName).Title("Middle Name").HeaderHtmlAttributes(new { title = "Middle Name" }).Width(150);
                            columns.Bound(p => p.LastName).Title("Last Name").HeaderHtmlAttributes(new { title = "Last Name" }).Width(150);
                            columns.Bound(p => p.Email).Width(150);

                            columns.Bound(p => p.ApplicationStatus).HeaderHtmlAttributes(new { title = "Status" }).Title("Status").Width(150);
                            columns.Bound(p => p.Step1).ClientTemplate("#if(StepNo1!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step1#\",\"\",\"Recruiter–Prepare intent to offer\")'>#:StepNo1#</a>#}#").Title("5.1.1 Prepare intent to offer - Recruiter").HeaderHtmlAttributes(new { title = "5.1.1 Prepare intent to offer - Recruiter" }).Width(150);
                            columns.Bound(p => p.Step8).ClientTemplate("#if(StepNo8!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step8#\",\"\",\"HOD–Revising\")'>#:StepNo8#</a>#}#").Title("5.1.1.1 Revising - HOD").HeaderHtmlAttributes(new { title = "5.1.1.1 Revising - HOD" }).Width(150);

                            columns.Bound(p => p.Step2).ClientTemplate("#if(StepNo2!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step2#\",\"\",\"HR-Review intent to offer\")'>#:StepNo2#</a>#}#").Title("5.1.2 Review intent to offer - HR").HeaderHtmlAttributes(new { title = "5.1.2 Review intent to offer - HR" }).Width(150);
                            columns.Bound(p => p.Step3).ClientTemplate("#if(StepNo3!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step3#\",\"\",\"HR Head–Approva\")'>#:StepNo3#</a>#}#").Title("5.1.3 Approval - Hr Head").HeaderHtmlAttributes(new { title = "5.1.3 Approval - Hr Head" }).Width(150);
                            columns.Bound(p => p.Step4).ClientTemplate("#if(StepNo4!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step4#\",\"\",\"ED–Approval\")'>#:StepNo4#</a>#}#").Title("5.1.4 Approval - ED").HeaderHtmlAttributes(new { title = "5.1.4 Approval - ED" }).Width(150);

                            columns.Bound(p => p.Step5).ClientTemplate("#if(StepNo5!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step5#\",\"\",\"Candidate–Accept intent to offer\")'>#:StepNo5#</a>#}#").Title("5.1.5 Accept intent to offer - Candidate").HeaderHtmlAttributes(new { title = "5.1.5 Accept intent to offer - Candidate" }).Width(150);
                            //columns.Bound(p => p.Step5).ClientTemplate("#if(StepNo3!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step3#\",\"\",\"Planning Head–Approval\")'>#:StepNo3#</a>#}#").Title("4.1.3 Approval - Planning Head").HeaderHtmlAttributes(new { title = "4.1.3 Approval - Planning Head" }).Width(150);
                            columns.Bound(p => p.Step6).ClientTemplate("#if(StepNo6!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step6#\",\"\",\"HOD–Approval\")'>#:StepNo6#</a>#}#").Title("5.1.6 Approval - HOD").HeaderHtmlAttributes(new { title = "5.1.6 Approval - HOD" }).Width(150);
                            columns.Bound(p => p.Step7).ClientTemplate("#if(StepNo7!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step7#\",\"\",\"Review By HR\")'>#:StepNo7#</a>#}#").Title("5.1.7 Review By HR").HeaderHtmlAttributes(new { title = "5.1.7 Review By HR" }).Width(150);


                        })
                         //.ToolBar(toolbar =>
                         //{
                         //    toolbar.ClientTemplate("<button type='button' class='btn btn-primary' onclick='OnCreateMenuGroup();'><i class='fa fas fa-plus'></i>&nbsp;Create Menu Group</button>");
                         //})
                         //.Events(e => e.DataBound("OnDataBoundNot"))
                         .Events(e => e.DataBound("OnDataBound"))
                        .Scrollable().Height(700)
                        .Sortable().Resizable(resize => resize.Columns(true))
                        .Selectable(select => select.Enabled(false))
                        .Filterable(f => f.Extra(false)
                                          .Operators(o => o.ForString(s => s.Clear()
                                          .Contains("Contains")
                                          .IsEqualTo("Is equal to")
                                          )))
                        .Pageable(pageable => pageable
                        .Refresh(true)
                        .PageSizes(true)
                        .ButtonCount(5))
                        .AutoBind(true)
                        .DataSource(dataSource => dataSource
                        .Ajax()
                        .PageSize(10)
                         .Read(read => read.Action("GetJobAdvertismentApplication", "RecruitmentDashboard", new { jobAdvId = Model.JobId, orgId = Model.OrganizationId, state = Model.ApplicationState, tempcode = "EMPLOYEE_APPOINTMENT", permission = @ViewBag.Permissions }))
                        .Model(model => model.Id(p => p.Id))
                        )
          )
            }
            else if (Model.ApplicationState == "WorkerPool")
            {
                @(Html.Kendo().Grid<ApplicationViewModel>
                        ().Name("kgrdCandInterview").Resizable(resize => resize.Columns(true))
                        .Columns(columns =>
                        {

                            columns.Bound(c => c.CandidateProfileId).ClientTemplate("<div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown' >Actions</button><ul class='dropdown-menu' role='menu'><li><button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button></li><br/>" +
           "<li><button class='btn btn-info' onclick='onReturnCandidatePool(\"#:ApplicationId#\",\"Rereviewed\",\"WORKER_POOL_REQUEST\")'>Return to Candidate Pool</button></li><br/><li><button class='btn btn-info' onclick='OnApplication(\"#=CandidateProfileId#\",\"#:ApplicationId#\");'><i class='far fa-address-card'></i>&nbsp;View</button></li><br/><li><button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application Status Report</button></li><br/>" +
           "</ul></div>").Width(150).Title("Actions").HeaderHtmlAttributes(new { title = "Actions" }).Locked(true).Lockable(false);
                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button>").Title("Comment").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application State Report</button>").Title("Application State Report").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<a href='javascript:OnApplication(\"#=CandidateProfileId#\");'><i class='far fa-address-card btn-link'></i>&nbsp;View</a>").Title("View").Width(100).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='onAdd(\"#:ApplicationId#\")'>Edit</button>").Title("").Width(150).Locked(true).Lockable(false);
                            //if (Model.ManpowerTypeCode=="Staff")
                            //{
                            //    columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='OnFinalOffer(\"#:ApplicationId#\")'>Final Offer</button>").Title("Staff Offer").Width(120).Locked(true).Lockable(false);
                            //}else if (Model.ManpowerTypeCode=="Worker")
                            //{
                            //    columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='OnWorkerOffer(\"#:ApplicationId#\")'>Final Offer</button>").Title("Worker Offer").Width(120).Locked(true).Lockable(false);
                            //}
                            //else if (Model.ManpowerTypeCode == "DriverOperator")
                            //{
                            //    columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='OnDriverOffer(\"#:ApplicationId#\")'>Final Offer</button>").Title("Driver & Operater Offer").Width(120).Locked(true).Lockable(false);
                            //}

                            //columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='UpdateStatus(\"#:CandidateType#\",\"#:ApplicationStatusCode#\",\"#:ApplicationId#\",\"#:CandidateProfileId#\",\"FinalOfferAccepted\")'>Final Offer Accepted(behalf of candidate)</button>").Title("Action").Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationNo).HeaderHtmlAttributes(new { title = "ApplicationNo" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.PositionName).HeaderHtmlAttributes(new { title = "Position Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.OrganizationName).HeaderHtmlAttributes(new { title = "Organization Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.WorkerBatch).HeaderHtmlAttributes(new { title = "Worker Batch" }).Width(120).Title("Batch").Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationStateName).HeaderHtmlAttributes(new { title = "ApplicationStateName" }).Title("Application State").Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.FirstName).HeaderHtmlAttributes(new { title = "FirstName" }).Title("First Name").Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.MiddleName).HeaderHtmlAttributes(new { title = "MiddleName" }).Title("Middle Name").Width(150);
                            columns.Bound(p => p.LastName).HeaderHtmlAttributes(new { title = "LastName" }).Title("Last Name").Width(150);
                            columns.Bound(p => p.Email).HeaderHtmlAttributes(new { title = "Email" }).Width(150);
                            columns.Bound(p => p.ApplicationStatus).HeaderHtmlAttributes(new { title = "Status" }).Title("Status").Width(150);

                            columns.Bound(p => p.Step1).ClientTemplate("#if(StepNo1!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step1#\")'>#:StepNo1#</a>#}#").Title("6.1.1 Approval - HOD").HeaderHtmlAttributes(new { title = "6.1.1 Approval - HOD" }).Width(150);
                            //columns.Bound(p => p.Step2).ClientTemplate("#if(StepNo2!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step2#\")'>#:StepNo2#</a>#}#").Title("5.1.2 Approval - Planning Head").HeaderHtmlAttributes(new { title = "5.1.2 Approval - Planning Head" }).Width(150);
                            columns.Bound(p => p.Step2).ClientTemplate("#if(StepNo2!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step2#\")'>#:StepNo2#</a>#}#").Title("6.1.2 Review - Recruiter").HeaderHtmlAttributes(new { title = "6.1.2 Review - Recruiter" }).Width(150);
                            columns.Bound(p => p.Step3).ClientTemplate("#if(StepNo3!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step3#\")'>#:StepNo3#</a>#}#").Title("6.1.3 Approval - Hr Head").HeaderHtmlAttributes(new { title = "6.1.3 Approval - Hr Head" }).Width(150);
                            columns.Bound(p => p.Step4).ClientTemplate("#if(StepNo4!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step4#\")'>#:StepNo4#</a>#}#").Title("6.1.4 Approval - ED").HeaderHtmlAttributes(new { title = "6.1.4 Approval - ED" }).Width(150);
                            columns.Bound(p => p.Step5).ClientTemplate("#if(StepNo5!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step5#\")'>#:StepNo5#</a>#}#").Title("6.1.5 Approval - Recruiter").HeaderHtmlAttributes(new { title = "6.1.5 Salary Confirm - Recruiter" }).Width(150);
                            columns.Bound(p => p.Step6).ClientTemplate("#if(StepNo6!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step6#\")'>#:StepNo6#</a>#}#").Title("6.1.6 Approval - Agency").HeaderHtmlAttributes(new { title = "6.1.6 Worker Salary Acceptance" }).Width(150);



                            //columns.Bound(p => p.TotalWorkExperience).Width(150);
                            //columns.Bound(p => p.ContactPhoneHome).Title("Mobile").Width(150);
                            //columns.Bound(p => p.Score).Width(150);
                            //columns.Bound(p => p.Gender).Width(150);
                            //columns.Bound(p => p.BirthDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.Age).Width(150);
                            //columns.Bound(p => p.BirthPlace).Width(150);
                            //columns.Bound(p => p.Nationality).Width(150);
                            //columns.Bound(p => p.BloodGroup).Width(150);
                            //columns.Bound(p => p.MaritalStatus).Width(150);
                            //columns.Bound(p => p.PassportNumber).Width(150);
                            //columns.Bound(p => p.PassportIssueCountry).Width(150);
                            //columns.Bound(p => p.PassportExpiryDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.QatarId).Width(150);
                            //columns.Bound(p => p.CurrentAddressHouse).Width(150);
                            //columns.Bound(p => p.CurrentAddressStreet).Width(150);
                            //columns.Bound(p => p.CurrentAddressCity).Width(150);
                            //columns.Bound(p => p.CurrentAddressState).Width(150);
                            //columns.Bound(p => p.CurrentAddressCountryName).Width(150);
                            //columns.Bound(p => p.PermanentAddressHouse).Width(150);
                            //columns.Bound(p => p.PermanentAddressStreet).Width(150);
                            //columns.Bound(p => p.PermanentAddressCity).Width(150);
                            //columns.Bound(p => p.PermanentAddressState).Width(150);
                            //columns.Bound(p => p.PermanentAddressCountryName).Width(150);

                            //columns.Bound(p => p.ContactPhoneLocal).Width(150);
                            //columns.Bound(p => p.CurrentEmployer).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentLocation).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentPosition).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentStartDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.CurrentEmploymentEndDate).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentResponsibilities).Width(300);

                            //columns.Bound(p => p.SalaryCurrencyName).Title("Salary Currency").Width(150);
                            ////columns.Bound(p => p.IndianSalary).Width(150);
                            ////columns.Bound(p => p.OverseasSalary).Width(150);
                            //columns.Bound(p => p.NetSalary).Title("Net Salary After Income Tax").Width(150);
                            //columns.Bound(p => p.OtherAllowance).Width(150);

                        })
                         //.ToolBar(toolbar =>
                         //{
                         //    toolbar.ClientTemplate("<button type='button' class='btn btn-primary' onclick='OnCreateMenuGroup();'><i class='fa fas fa-plus'></i>&nbsp;Create Menu Group</button>");
                         //})
                         //.Events(e => e.DataBound("OnDataBoundNot"))
                         .Events(e => e.DataBound("OnDataBound"))
                        .Scrollable().Height(700)
                        .Sortable().Resizable(resize => resize.Columns(true))
                        .Selectable(select => select.Enabled(false))
                        .Filterable(f => f.Extra(false)
                                          .Operators(o => o.ForString(s => s.Clear()
                                          .Contains("Contains")
                                          .IsEqualTo("Is equal to")
                                          )))
                        .Pageable(pageable => pageable
                        .Refresh(true)
                        .PageSizes(true)
                        .ButtonCount(5))
                        .AutoBind(true)
                        .DataSource(dataSource => dataSource
                        .Ajax()
                        .PageSize(10)
                         .Read(read => read.Action("GetJobAdvertismentApplication", "RecruitmentDashboard", new { jobAdvId = Model.JobId, orgId = Model.OrganizationId, state = Model.ApplicationState, tempcode = "WORKER_POOL_REQUEST", permission = @ViewBag.Permissions }))
                        .Model(model => model.Id(p => p.Id))
                        )
          )
            }

            else if (Model.ApplicationState == "FinalOffer")
            {
                @(Html.Kendo().Grid<ApplicationViewModel>
                        ().Name("kgrdCandInterview").Resizable(resize => resize.Columns(true))
                        .Columns(columns =>
                        {

                            columns.Bound(c => c.CandidateProfileId).ClientTemplate("<div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown' >Actions</button><ul class='dropdown-menu' role='menu'><li><button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button></li><br/>" +
           "<li><button class='btn btn-info' onclick='onReturnCandidatePool(\"#:ApplicationId#\",\"Rereviewed\",\"PREPARE_FINAL_OFFER\")'>Return to Candidate Pool</button></li><br/><li><button class='btn btn-info' onclick='OnApplication(\"#=CandidateProfileId#\",\"#:ApplicationId#\");'><i class='far fa-address-card'></i>&nbsp;View</button></li><br/><li><button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application Status Report</button></li><br/>" +
           "<li><button class='btn btn-info' onclick='OnFinalOffer(\"#:ApplicationId#\");'><i class='far fa-address-card btn-link'></i>&nbsp;View Final Offer</button></li></ul></div>").Width(150).Title("Actions").HeaderHtmlAttributes(new { title = "Actions" }).HtmlAttributes(new { style = "text-align:center" }).Locked(true).Lockable(false);
                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button>").Title("Comment").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application State Report</button>").Title("Application State Report").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<a href='javascript:OnApplication(\"#=CandidateProfileId#\");'><i class='far fa-address-card btn-link'></i>&nbsp;View</a>").Title("View").Width(100).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='onAdd(\"#:ApplicationId#\")'>Edit</button>").Title("").Width(150).Locked(true).Lockable(false);
                            //if (Model.ManpowerTypeCode=="Staff")
                            //{
                            //    columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='OnFinalOffer(\"#:ApplicationId#\")'>Final Offer</button>").Title("Staff Offer").Width(120).Locked(true).Lockable(false);
                            //}else if (Model.ManpowerTypeCode=="Worker")
                            //{
                            //    columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='OnWorkerOffer(\"#:ApplicationId#\")'>Final Offer</button>").Title("Worker Offer").Width(120).Locked(true).Lockable(false);
                            //}
                            //else if (Model.ManpowerTypeCode == "DriverOperator")
                            //{
                            //    columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='OnDriverOffer(\"#:ApplicationId#\")'>Final Offer</button>").Title("Driver & Operater Offer").Width(120).Locked(true).Lockable(false);
                            //}

                            //columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='UpdateStatus(\"#:CandidateType#\",\"#:ApplicationStatusCode#\",\"#:ApplicationId#\",\"#:CandidateProfileId#\",\"FinalOfferAccepted\")'>Final Offer Accepted(behalf of candidate)</button>").Title("Action").Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationNo).Title("Application No").HeaderHtmlAttributes(new { title = "Application No" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.PositionName).Title("Position Name").HeaderHtmlAttributes(new { title = "Position Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.OrganizationName).Title("Organization Name").HeaderHtmlAttributes(new { title = "Organization Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.BatchName).Title("Batch").HeaderHtmlAttributes(new { title = "Batch" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationStateName).Title("Application State").HeaderHtmlAttributes(new { title = "Application State" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.FirstName).Title("First Name").HeaderHtmlAttributes(new { title = "First Name" }).Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.MiddleName).Title("Middle Name").HeaderHtmlAttributes(new { title = "Middle Name" }).Width(150);
                            columns.Bound(p => p.LastName).Title("Last Name").HeaderHtmlAttributes(new { title = "Last Name" }).Width(150);
                            columns.Bound(p => p.Email).HeaderHtmlAttributes(new { title = "Email" }).Width(150);
                            columns.Bound(p => p.ApplicationStatus).Title("Status").HeaderHtmlAttributes(new { title = "Status" }).Width(150);

                            columns.Bound(p => p.Step1).ClientTemplate("#if(StepNo1!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step1#\",\"\",\"Recruiter–Prepare Final Offer\")'>#:StepNo1#</a>#}#").Title("7.1.1 Prepare Final Offer - Recruiter").HeaderHtmlAttributes(new { title = "7.1.1 Prepare Final Offer - Recruiter" }).Width(150);
                            columns.Bound(p => p.Step2).ClientTemplate("#if(StepNo2!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step2#\",\"\",\"HR Review\")'>#:StepNo2#</a>#}#").Title("7.1.2 HR Review").HeaderHtmlAttributes(new { title = "7.1.2 HR Review" }).Width(150);
                            columns.Bound(p => p.Step3).ClientTemplate("#if(StepNo3!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step3#\",\"\",\"HOD–Approval\")'>#:StepNo3#</a>#}#").Title("7.1.3 Approval - HR Head").HeaderHtmlAttributes(new { title = "7.1.3 Approval - HR Head" }).Width(150);
                            columns.Bound(p => p.Step4).ClientTemplate("#if(StepNo4!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step4#\",\"\",\"ED–Approval\")'>#:StepNo4#</a>#}#").Title("7.1.4 ED–Approval").HeaderHtmlAttributes(new { title = "ED–Approval" }).Width(150);
                            columns.Bound(p => p.Step5).ClientTemplate("#if(StepNo5!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step5#\",\"\",\"Candidate–Final Offer Acceptance\")'>#:StepNo5#</a>#}#").Title("7.1.5 Final Offer Acceptance - Candidate").HeaderHtmlAttributes(new { title = "Final Offer Acceptance - Candidate" }).Width(150);
                            columns.Bound(p => p.Step6).ClientTemplate("#if(StepNo6!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step6#\",\"\",\"HR Review–Final Offer Acceptance\")'>#:StepNo6#</a>#}#").Title("7.1.6 HR Review–Final Offer Acceptance").HeaderHtmlAttributes(new { title = "HR Review–Final Offer Acceptance" }).Width(150);


                            //columns.Bound(p => p.TotalWorkExperience).Width(150);
                            //columns.Bound(p => p.ContactPhoneHome).Title("Mobile").Width(150);
                            //columns.Bound(p => p.Score).Width(150);
                            //columns.Bound(p => p.Gender).Width(150);
                            //columns.Bound(p => p.BirthDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.Age).Width(150);
                            //columns.Bound(p => p.BirthPlace).Width(150);
                            //columns.Bound(p => p.Nationality).Width(150);
                            //columns.Bound(p => p.BloodGroup).Width(150);
                            //columns.Bound(p => p.MaritalStatus).Width(150);
                            //columns.Bound(p => p.PassportNumber).Width(150);
                            //columns.Bound(p => p.PassportIssueCountry).Width(150);
                            //columns.Bound(p => p.PassportExpiryDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.QatarId).Width(150);
                            //columns.Bound(p => p.CurrentAddressHouse).Width(150);
                            //columns.Bound(p => p.CurrentAddressStreet).Width(150);
                            //columns.Bound(p => p.CurrentAddressCity).Width(150);
                            //columns.Bound(p => p.CurrentAddressState).Width(150);
                            //columns.Bound(p => p.CurrentAddressCountryName).Width(150);
                            //columns.Bound(p => p.PermanentAddressHouse).Width(150);
                            //columns.Bound(p => p.PermanentAddressStreet).Width(150);
                            //columns.Bound(p => p.PermanentAddressCity).Width(150);
                            //columns.Bound(p => p.PermanentAddressState).Width(150);
                            //columns.Bound(p => p.PermanentAddressCountryName).Width(150);

                            //columns.Bound(p => p.ContactPhoneLocal).Width(150);
                            //columns.Bound(p => p.CurrentEmployer).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentLocation).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentPosition).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentStartDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.CurrentEmploymentEndDate).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentResponsibilities).Width(300);

                            //columns.Bound(p => p.SalaryCurrencyName).Title("Salary Currency").Width(150);
                            ////columns.Bound(p => p.IndianSalary).Width(150);
                            ////columns.Bound(p => p.OverseasSalary).Width(150);
                            //columns.Bound(p => p.NetSalary).Title("Net Salary After Income Tax").Width(150);
                            //columns.Bound(p => p.OtherAllowance).Width(150);

                        })
                         //.ToolBar(toolbar =>
                         //{
                         //    toolbar.ClientTemplate("<button type='button' class='btn btn-primary' onclick='OnCreateMenuGroup();'><i class='fa fas fa-plus'></i>&nbsp;Create Menu Group</button>");
                         //})
                         //.Events(e => e.DataBound("OnDataBoundNot"))
                         .Events(e => e.DataBound("OnDataBound"))
                        .Scrollable().Height(700)
                        .Sortable().Resizable(resize => resize.Columns(true))
                        .Selectable(select => select.Enabled(false))
                        .Filterable(f => f.Extra(false)
                                          .Operators(o => o.ForString(s => s.Clear()
                                          .Contains("Contains")
                                          .IsEqualTo("Is equal to")
                                          )))
                        .Pageable(pageable => pageable
                        .Refresh(true)
                        .PageSizes(true)
                        .ButtonCount(5))
                        .AutoBind(true)
                        .DataSource(dataSource => dataSource
                        .Ajax()
                        .PageSize(10)
                         .Read(read => read.Action("GetJobAdvertismentApplication", "RecruitmentDashboard", new { jobAdvId = Model.JobId, orgId = Model.OrganizationId, state = Model.ApplicationState, tempcode = "PREPARE_FINAL_OFFER", permission = @ViewBag.Permissions }))
                        .Model(model => model.Id(p => p.Id))
                        )
          )
            }

            else if (Model.ApplicationState == "BusinessVisa")
            {
                @(Html.Kendo().Grid<ApplicationViewModel>
                        ().Name("kgrdCandInterview").Resizable(resize => resize.Columns(true))
                        .Columns(columns =>
                        {

                            //                columns.Bound(c => c.CandidateProfileId).ClientTemplate("<div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown' >Actions</button><ul class='dropdown-menu' role='menu'><li><button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button></li><br/>" +
                            //"<li><button class='btn btn-info' onclick='OnApplication(\"#=CandidateProfileId#\");'><i class='far fa-address-card btn-link'></i>&nbsp;View</button></li><br/><li><button class='btn btn-info' onclick='OnFinalOffer(\"#:ApplicationId#\")'>View Final Offer</button></li><br/><li><button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application Status Report</button></li><br/>#if(TaskStatusCode=='COMPLETED'){#<li><button class='btn btn-info' onclick='UpdateStatus(\"#:CandidateType#\",\"#:ApplicationStatusCode#\",\"#:ApplicationId#\",\"#:CandidateProfileId#\",\"MedicalCompleted\")'>Move To Medical Complete</button></li><br/>#}# #if(NextTaskStatusCode=='COMPLETED'){#<li><button class='btn btn-info' onclick='UpdateStatus(\"#:CandidateType#\",\"#:ApplicationStatusCode#\",\"#:ApplicationId#\",\"#:CandidateProfileId#\",\"VisaAppointmentTaken\")'>Move To Visa Apply</button></li><br/>#}#"+
                            //"<li>#if(IsLocalCandidate!=true){if(VisaCategoryCode=='BUSINESS_VISA'){if(TaskId==null){ #<button class='btn btn-info' onclick='onRaiseServiceAppUser(\"#:ApplicationId#\",\"BUSINESS_VISA_MEDICAL\",\"#:ApplicationUserId#\",\"Medical Business Visa\")'>Medical Request</button>#}else{#<button class='btn btn-info' onclick='onViewService(\"#:TaskId#\",\"BUSINESS_VISA_MEDICAL\",\"Medical Business Visa\")'>View Employee Appointment Request</button>#}} else{ if(NextTaskId==null){#<button class='btn btn-info' onclick='onRaiseServiceAppUser(\"#:ApplicationId#\",\"VISA_APPLY\",\"#:ApplicationUserId#\",\"Visa Apply/Appointments Taken\")'>Visa Apply Request</button>#} else {#<button class='btn btn-info' onclick='onViewService(\"#:NextTaskId#\",\"VISA_APPLY\",\"Visa Apply/Appointments Taken\")'>View Request</button>#}}}#</li><br/>" +
                            //"<li>#if(IsLocalCandidate==true){if(VisaTaskId==null){if(SourceFrom=='Agency' && AgencyId!=null){#<button class='btn btn-info' onclick='onRaiseServiceAppUser(\"#:ApplicationId#\",\"VISA_TRANSFER\",\"#:AgencyId#\",\"Visa Transfer Request\")'>Raise Visa Transfer Task</button>#}else{#<button class='btn btn-info' onclick='onRaiseServiceAppUser(\"#:ApplicationId#\",\"VISA_TRANSFER\",\"#:ApplicationUserId#\",\"Visa Transfer Request\")'>Raise Visa Transfer Task</button>#}}else{#<button class='btn btn-info' onclick='onViewService(\"#:VisaTaskId#\",\"#:VisaTaskTemplateCode#\",\"Visa Transfer Request\")'>View Visa Trasfer Task</button>#}}#</li>#if(VisaTaskStatusCode=='COMPLETED'){#<li><button class='btn btn-info' onclick='UpdateStatus(\"#:CandidateType#\",\"#:ApplicationStatusCode#\",\"#:ApplicationId#\",\"#:CandidateProfileId#\",\"VisaTransfer\")'>Move To Visa Transfer</button></li><br/>#}#</ul></div>").Width(150).Title("Actions").HtmlAttributes(new { style = "text-align:center" }).Locked(true).Lockable(false);


                            columns.Bound(c => c.CandidateProfileId).ClientTemplate("<div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown' >Actions</button><ul class='dropdown-menu' role='menu'><li><button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button></li><br/>" +
           "<li><button class='btn btn-info' onclick='onReturnCandidatePool(\"#:ApplicationId#\",\"Rereviewed\",\"BUSINESS_VISA_MEDICAL\")'>Return to Candidate Pool</button></li><br/><li><button class='btn btn-info' onclick='OnApplication(\"#=CandidateProfileId#\",\"#:ApplicationId#\");'><i class='far fa-address-card'></i>&nbsp;View</button></li><br/><li><button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application Status Report</button></li><br/>" +
           "</ul></div>").Width(150).Title("Actions").HeaderHtmlAttributes(new { title = "Actions" }).Locked(true).Lockable(false);








                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button>").Title("Comment").Width(150).Locked(true).Lockable(false);

                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<a href='javascript:OnApplication(\"#=CandidateProfileId#\");'><i class='far fa-address-card btn-link'></i>&nbsp;View</a>").Title("View").Width(100).Locked(true).Lockable(false);
                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<button class='btn btn-info' onclick='OnOffer(\"#:ApplicationId#\")'>View Final Offer</button>").Title("Action").Width(120).Locked(true).Lockable(false);

                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application State Report</button>").Title("Application State Report").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='UpdateStatus(\"#:CandidateType#\",\"#:ApplicationStatusCode#\",\"#:ApplicationId#\",\"#:CandidateProfileId#\",\"MedicalCompleted\")'>Move To Medical Complete</button>").Title("Action").Width(120).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("#if(TaskId==null){#<button class='btn btn-info' onclick='onRaiseTaskMedical(\"#:ApplicationId#\")'>Raise</button>#}else{#<button class='btn btn-info' onclick='onViewTask(\"#:TaskId#\",\"#:TaskTemplateCode#\")'>View</button>#}#").Title("Task").Width(100).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationNo).Title("Application No").HeaderHtmlAttributes(new { title = "Application No" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.PositionName).Title("Position Name").HeaderHtmlAttributes(new { title = "Position Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.OrganizationName).Title("Organization Name").HeaderHtmlAttributes(new { title = "Organization Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.BatchName).Title("Batch").HeaderHtmlAttributes(new { title = "Batch" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationStateName).HeaderHtmlAttributes(new { title = "ApplicationStateName" }).Title("Application State").Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.FirstName).HeaderHtmlAttributes(new { title = "FirstName" }).Title("First Name").Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.MiddleName).HeaderHtmlAttributes(new { title = "MiddleName" }).Title("Middle Name").Width(150);
                            columns.Bound(p => p.LastName).HeaderHtmlAttributes(new { title = "LastName" }).Title("Last Name").Width(150);
                            columns.Bound(p => p.Email).HeaderHtmlAttributes(new { title = "Email" }).Width(150);
                            columns.Bound(p => p.ApplicationStatus).HeaderHtmlAttributes(new { title = "ApplicationStatus" }).Title("Status").Width(150);

                            columns.Bound(p => p.Step1).ClientTemplate("#if(StepNo1!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step1#\")'>#:StepNo1#</a>#}#").Title("8.1.1 Submit medical report - Candidate").HeaderHtmlAttributes(new { title = "8.1.1 Submit medical report - Candidate" }).Width(150);
                            columns.Bound(p => p.Step2).ClientTemplate("#if(StepNo2!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step2#\")'>#:StepNo2#</a>#}#").Title("8.1.2 Check Medical report & inform PRO - Recruiter").HeaderHtmlAttributes(new { title = "8.1.2 Check Medical report & inform PRO - Recruiter" }).Width(150);
                            columns.Bound(p => p.Step3).ClientTemplate("#if(StepNo3!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step3#\")'>#:StepNo3#</a>#}#").Title("8.1.3 Obtain Business Visa & Attach - PRO ").HeaderHtmlAttributes(new { title = "8.1.3 Obtain Business Visa & Attach - PRO" }).Width(150);
                            columns.Bound(p => p.Step4).ClientTemplate("#if(StepNo4!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step4#\")'>#:StepNo4#</a>#}#").Title("8.1.4 HR– Approval Business Visa").HeaderHtmlAttributes(new { title = "8.1.4 HR– Approval Business Visa " }).Width(150);
                            columns.Bound(p => p.Step5).ClientTemplate("#if(StepNo5!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step5#\")'>#:StepNo5#</a>#}#").Title("8.1.5 Receive Visa Copy & advise traveling date - Candidate").HeaderHtmlAttributes(new { title = "8.1.5 Receive Visa Copy & advise traveling date - Candidate" }).Width(150);

                            columns.Bound(p => p.Step6).ClientTemplate("#if(StepNo6!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step6#\")'>#:StepNo5#</a>#}#").Title("8.1.5.1 Confirm traveling date - Recruiter").HeaderHtmlAttributes(new { title = "8.1.5.1 Confirm traveling date - Recruiter" }).Width(150);
                            columns.Bound(p => p.Step7).ClientTemplate("#if(StepNo7!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step7#\")'>#:StepNo6#</a>#}#").Title("8.1.5.2 Send email for ticket booking - Ticketing team").HeaderHtmlAttributes(new { title = "8.1.5.2 Send email for ticket booking - Ticketing team" }).Width(150);
                            columns.Bound(p => p.Step8).ClientTemplate("#if(StepNo8!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step8#\")'>#:StepNo7#</a>#}#").Title("8.1.5.3 Receive & Attach Ticket, Attach Hotel quarantine booking - Ticketing team").HeaderHtmlAttributes(new { title = "8.1.5.3 Receive & Attach Ticket, Attach Hotel quarantine booking - Ticketing team" }).Width(150);
                            columns.Bound(p => p.Step9).ClientTemplate("#if(StepNo9!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step9#\")'>#:StepNo7#</a>#}#").Title("8.1.5.4 HR – Approval Ticket,  Hotel quarantine booking ").HeaderHtmlAttributes(new { title = "8.1.5.4 HR – Approval Ticket,  Hotel quarantine booking" }).Width(150);
                            columns.Bound(p => p.Step10).ClientTemplate("#if(StepNo10!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step10#\")'>#:StepNo8#</a>#}#").Title("8.1.5.5 Confirm receipt of ticket & date of travel - Candidate").HeaderHtmlAttributes(new { title = "8.1.5.5 Confirm receipt of ticket & date of travel - Candidate" }).Width(150);
                            columns.Bound(p => p.Step11).ClientTemplate("#if(StepNo11!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step11#\")'>#:StepNo9#</a>#}#").Title("8.1.5.6 Arrange Accommodation - Admin").HeaderHtmlAttributes(new { title = "8.1.5.6 Arrange Accommodation - Admin" }).Width(150);
                            columns.Bound(p => p.Step12).ClientTemplate("#if(StepNo12!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step12#\")'>#:StepNo10#</a>#}#").Title("8.1.5.7 Arrange Vehicle for airport pickup - Plant").HeaderHtmlAttributes(new { title = "8.1.5.7 Arrange Vehicle for airport pickup - Plant" }).Width(150);


                            //columns.Bound(p => p.TotalWorkExperience).Width(150);
                            //columns.Bound(p => p.ContactPhoneHome).Title("Mobile").Width(150);
                            //columns.Bound(p => p.Score).Width(150);
                            //columns.Bound(p => p.Gender).Width(150);
                            //columns.Bound(p => p.BirthDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.Age).Width(150);
                            //columns.Bound(p => p.BirthPlace).Width(150);
                            //columns.Bound(p => p.Nationality).Width(150);
                            //columns.Bound(p => p.BloodGroup).Width(150);
                            //columns.Bound(p => p.MaritalStatus).Width(150);
                            //columns.Bound(p => p.PassportNumber).Width(150);
                            //columns.Bound(p => p.PassportIssueCountry).Width(150);
                            //columns.Bound(p => p.PassportExpiryDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.QatarId).Width(150);
                            //columns.Bound(p => p.CurrentAddressHouse).Width(150);
                            //columns.Bound(p => p.CurrentAddressStreet).Width(150);
                            //columns.Bound(p => p.CurrentAddressCity).Width(150);
                            //columns.Bound(p => p.CurrentAddressState).Width(150);
                            //columns.Bound(p => p.CurrentAddressCountryName).Width(150);
                            //columns.Bound(p => p.PermanentAddressHouse).Width(150);
                            //columns.Bound(p => p.PermanentAddressStreet).Width(150);
                            //columns.Bound(p => p.PermanentAddressCity).Width(150);
                            //columns.Bound(p => p.PermanentAddressState).Width(150);
                            //columns.Bound(p => p.PermanentAddressCountryName).Width(150);

                            //columns.Bound(p => p.ContactPhoneLocal).Width(150);
                            //columns.Bound(p => p.CurrentEmployer).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentLocation).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentPosition).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentStartDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.CurrentEmploymentEndDate).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentResponsibilities).Width(300);

                            //columns.Bound(p => p.SalaryCurrencyName).Title("Salary Currency").Width(150);
                            //// columns.Bound(p => p.IndianSalary).Width(150);
                            ////columns.Bound(p => p.OverseasSalary).Width(150);
                            //columns.Bound(p => p.NetSalary).Title("Net Salary After Income Tax").Width(150);
                            //columns.Bound(p => p.OtherAllowance).Width(150);

                        })
                         //.ToolBar(toolbar =>
                         //{
                         //    toolbar.ClientTemplate("<button type='button' class='btn btn-primary' onclick='OnCreateMenuGroup();'><i class='fa fas fa-plus'></i>&nbsp;Create Menu Group</button>");
                         //})
                         //.Events(e => e.DataBound("OnDataBoundNot"))
                         .Events(e => e.DataBound("OnDataBound"))
                        .Scrollable().Height(700)
                        .Sortable().Resizable(resize => resize.Columns(true))
                        .Selectable(select => select.Enabled(false))
                        .Filterable(f => f.Extra(false)
                                          .Operators(o => o.ForString(s => s.Clear()
                                          .Contains("Contains")
                                          .IsEqualTo("Is equal to")
                                          )))
                        .Pageable(pageable => pageable
                        .Refresh(true)
                        .PageSizes(true)
                        .ButtonCount(5))
                        .AutoBind(true)
                        .DataSource(dataSource => dataSource
                        .Ajax()
                        .PageSize(10)
                         .Read(read => read.Action("GetJobAdvertismentApplication", "RecruitmentDashboard", new { jobAdvId = Model.JobId, orgId = Model.OrganizationId, state = Model.ApplicationState,tempcode= "BUSINESS_VISA_MEDICAL",tempCodeOther="TRAVEL", permission = @ViewBag.Permissions /*, nexttempcode= "VISA_APPLY", visatempcode = "VISA_TRANSFER" */}))
                        .Model(model => model.Id(p => p.Id))
                        )
          )
            }
            else if (Model.ApplicationState == "WorkVisa")
            {
                @(Html.Kendo().Grid<ApplicationViewModel>
                        ().Name("kgrdCandInterview").Resizable(resize => resize.Columns(true))
                        .Columns(columns =>
                        {

                            columns.Bound(c => c.CandidateProfileId).ClientTemplate("<div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown' >Actions</button><ul class='dropdown-menu' role='menu'><li><button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button></li><br/>" +
           "<li><button class='btn btn-info' onclick='onReturnCandidatePool(\"#:ApplicationId#\",\"Rereviewed\",\"WORKER_VISA_MEDICAL\")'>Return to Candidate Pool</button></li><br/><li><button class='btn btn-info' onclick='OnApplication(\"#=CandidateProfileId#\",\"#:ApplicationId#\");'><i class='far fa-address-card'></i>&nbsp;View</button></li><br/><li><button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application Status Report</button></li><br/>" +
           "</ul></div>").Width(150).Title("Actions").HeaderHtmlAttributes(new { title = "Actions" }).Locked(true).Lockable(false);
                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button>").Title("Comment").Width(150).Locked(true).Lockable(false);

                            // columns.Bound(c => c.CandidateProfileId).ClientTemplate("<a href='javascript:OnApplication(\"#=CandidateProfileId#\");'><i class='far fa-address-card btn-link'></i>&nbsp;View</a>").Title("View").Width(100).Locked(true).Lockable(false);

                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application State Report</button>").Title("Application State Report").Width(180).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='UpdateStatus(\"#:CandidateType#\",\"#:ApplicationStatusCode#\",\"#:ApplicationId#\",\"#:CandidateProfileId#\",\"VisaAppointmentTaken\")'>Move To Visa Appointment Taken</button>").Title("Action").Width(280).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("#if(TaskId!=null){#<button class='btn btn-info' onclick='onViewTask(\"#:TaskId#\",\"#:TaskTemplateCode#\")'>View</button>#}#").Title("Task").Width(100).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("#if(NextTaskId!=null){#<button class='btn btn-info' onclick='onViewTask(\"#:NextTaskId#\",\"#:NextTaskTemplateCode#\")'>View</button>#}#").Title("Next Task").Width(100).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationNo).Title("Application No").HeaderHtmlAttributes(new { title = "Application No" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.PositionName).Title("Position Name").HeaderHtmlAttributes(new { title = "Position Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.OrganizationName).Title("Organization Name").HeaderHtmlAttributes(new { title = "Organization Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.BatchName).Title("Batch").HeaderHtmlAttributes(new { title = "Batch" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationStateName).HeaderHtmlAttributes(new { title = "Application State" }).Title("Application State").Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.FirstName).HeaderHtmlAttributes(new { title = "First Name" }).Title("First Name").Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.MiddleName).HeaderHtmlAttributes(new { title = "Middle Name" }).Title("Middle Name").Width(150);
                            columns.Bound(p => p.LastName).HeaderHtmlAttributes(new { title = "Last Name" }).Title("Last Name").Width(150);
                            columns.Bound(p => p.Email).HeaderHtmlAttributes(new { title = "Email" }).Width(150);
                            columns.Bound(p => p.ApplicationStatus).HeaderHtmlAttributes(new { title = "Application Status" }).Title("Status").Width(150);

                            // columns.Bound(p => p.Step1).ClientTemplate("<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step1#\",\"\",\"PRO–Obtain Work Visa & Attach\")'>#:StepNo1#</a>").Title("7.2.1 Obtain Work Visa & Attach - PRO").Width(150);

                            columns.Bound(p => p.Step1).ClientTemplate("#if(StepNo1!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step1#\",\"\",\"APPLY_WORK_VISA_THROUGH_MOL\")'>#:StepNo1#</a>#}#").Title("8.2.1 Apply Work Visa Through MOL").HeaderHtmlAttributes(new { title = "8.2.1 Book QVC Appointment -PRO" }).Width(150);
                            columns.Bound(p => p.Step2).ClientTemplate("#if(StepNo2!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step2#\",\"\",\"PRO–Book QVC Appointment\")'>#:StepNo2#</a>#}#").Title("8.2.2 Book QVC Appointment -PRO").HeaderHtmlAttributes(new { title = "8.2.2 Book QVC Appointment -PRO" }).Width(150);
                            columns.Bound(p => p.Step3).ClientTemplate("#if(StepNo3!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step3#\",\"\",\"Candidate–Conduct Medical & Fingerprint as per QVC appointment date/time\")'>#:StepNo3#</a>#}#").Title("7.2.3 Conduct Medical & Fingerprint - Candidate").HeaderHtmlAttributes(new { title = "8.2.3 Conduct Medical & Fingerprint - Candidate" }).Width(150);
                            columns.Bound(p => p.Step4).ClientTemplate("#if(StepNo4!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step4#\",\"\",\"PRO–Select Fit/Unfit & attach visa copy if fit\")'>#:StepNo4#</a>#}#").Title("8.2.4 Specify Fit/Unfit & attach visa copy if fit - PRO").HeaderHtmlAttributes(new { title = "8.2.4 Specify Fit/Unfit & attach visa copy if fit - PRO" }).Width(150);
                            columns.Bound(p => p.Step5).ClientTemplate("#if(StepNo5!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step5#\",\"\",\"Candidate–Receive Visa Copy & advise traveling date\")'>#:StepNo5#</a>#}#").Title("8.2.5 Receive Visa Copy & advise traveling date - Candidate").HeaderHtmlAttributes(new { title = "8.2.5 Receive Visa Copy & advise traveling date - Candidate" }).Width(150);
                            columns.Bound(p => p.Step6).ClientTemplate("#if(StepNo6!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step6#\",\"\",\"Recruiter–Confirm traveling date\")'>#:StepNo6#</a>#}#").Title("8.2.6.1 Confirm traveling date - Recruiter").HeaderHtmlAttributes(new { title = "8.2.6.1 Confirm traveling date - Recruiter" }).Width(150);
                            columns.Bound(p => p.Step7).ClientTemplate("#if(StepNo7!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step7#\")'>#:StepNo7#</a>#}#").Title("8.2.6.2 Send email for ticket booking - Ticketing team").HeaderHtmlAttributes(new { title = "8.2.6.2 Send email for ticket booking - Ticketing team" }).Width(150);
                            columns.Bound(p => p.Step8).ClientTemplate("#if(StepNo8!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step8#\")'>#:StepNo8#</a>#}#").Title("8.2.6.3 Receive & Attach Ticket, Attach Hotel quarantine booking - Ticketing team").HeaderHtmlAttributes(new { title = "8.2.6.3 Receive & Attach Ticket, Attach Hotel quarantine booking - Ticketing team" }).Width(150);
                            columns.Bound(p => p.Step9).ClientTemplate("#if(StepNo9!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step9#\")'>#:StepNo9#</a>#}#").Title("8.2.6.4 Confirm receipt of ticket & date of travel - Candidate").HeaderHtmlAttributes(new { title = "8.2.6.4 Confirm receipt of ticket & date of travel - Candidate" }).Width(150);
                            columns.Bound(p => p.Step10).ClientTemplate("#if(StepNo10!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step10#\")'>#:StepNo10#</a>#}#").Title("8.2.6.5 Arrange Accommodation - Admin").HeaderHtmlAttributes(new { title = "8.2.6.5 Arrange Accommodation - Admin" }).Width(150);
                            columns.Bound(p => p.Step11).ClientTemplate("#if(StepNo11!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step11#\")'>#:StepNo11#</a>#}#").Title("8.2.6.6 Arrange Vehicle for airport pickup - Plant").HeaderHtmlAttributes(new { title = "8.2.6.6 Arrange Vehicle for airport pickup - Plant" }).Width(150);



                            //columns.Bound(p => p.TotalWorkExperience).Width(150);
                            //columns.Bound(p => p.ContactPhoneHome).Title("Mobile").Width(150);
                            //columns.Bound(p => p.Score).Width(150);
                            //columns.Bound(p => p.Gender).Width(150);
                            //columns.Bound(p => p.BirthDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.Age).Width(150);
                            //columns.Bound(p => p.BirthPlace).Width(150);
                            //columns.Bound(p => p.Nationality).Width(150);
                            //columns.Bound(p => p.BloodGroup).Width(150);
                            //columns.Bound(p => p.MaritalStatus).Width(150);
                            //columns.Bound(p => p.PassportNumber).Width(150);
                            //columns.Bound(p => p.PassportIssueCountry).Width(150);
                            //columns.Bound(p => p.PassportExpiryDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.QatarId).Width(150);
                            //columns.Bound(p => p.CurrentAddressHouse).Width(150);
                            //columns.Bound(p => p.CurrentAddressStreet).Width(150);
                            //columns.Bound(p => p.CurrentAddressCity).Width(150);
                            //columns.Bound(p => p.CurrentAddressState).Width(150);
                            //columns.Bound(p => p.CurrentAddressCountryName).Width(150);
                            //columns.Bound(p => p.PermanentAddressHouse).Width(150);
                            //columns.Bound(p => p.PermanentAddressStreet).Width(150);
                            //columns.Bound(p => p.PermanentAddressCity).Width(150);
                            //columns.Bound(p => p.PermanentAddressState).Width(150);
                            //columns.Bound(p => p.PermanentAddressCountryName).Width(150);

                            //columns.Bound(p => p.ContactPhoneLocal).Width(150);
                            //columns.Bound(p => p.CurrentEmployer).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentLocation).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentPosition).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentStartDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.CurrentEmploymentEndDate).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentResponsibilities).Width(300);

                            //columns.Bound(p => p.SalaryCurrencyName).Title("Salary Currency").Width(150);
                            ////columns.Bound(p => p.IndianSalary).Width(150);
                            ////columns.Bound(p => p.OverseasSalary).Width(150);
                            //columns.Bound(p => p.NetSalary).Title("Net Salary After Income Tax").Width(150);
                            //columns.Bound(p => p.OtherAllowance).Width(150);

                        })
                         //.ToolBar(toolbar =>
                         //{
                         //    toolbar.ClientTemplate("<button type='button' class='btn btn-primary' onclick='OnCreateMenuGroup();'><i class='fa fas fa-plus'></i>&nbsp;Create Menu Group</button>");
                         //})
                         //.Events(e => e.DataBound("OnDataBoundNot"))
                         .Events(e => e.DataBound("OnDataBound"))
                        .Scrollable().Height(700)
                        .Sortable().Resizable(resize => resize.Columns(true))
                        .Selectable(select => select.Enabled(false))
                        .Filterable(f => f.Extra(false)
                                          .Operators(o => o.ForString(s => s.Clear()
                                          .Contains("Contains")
                                          .IsEqualTo("Is equal to")
                                          )))
                        .Pageable(pageable => pageable
                        .Refresh(true)
                        .PageSizes(true)
                        .ButtonCount(5))
                        .AutoBind(true)
                        .DataSource(dataSource => dataSource
                        .Ajax()
                        .PageSize(10)
                         .Read(read => read.Action("GetJobAdvertismentApplication", "RecruitmentDashboard", new { jobAdvId = Model.JobId, orgId = Model.OrganizationId, state = Model.ApplicationState, tempcode= "WORKER_VISA_MEDICAL", tempCodeOther = "TRAVEL", permission = @ViewBag.Permissions }))
                        .Model(model => model.Id(p => p.Id))
                        )
          )
            }

            else if (Model.ApplicationState == "VisaTransfer")
            {
                @(Html.Kendo().Grid<ApplicationViewModel>
                        ().Name("kgrdCandInterview").Resizable(resize => resize.Columns(true))
                        .Columns(columns =>
                        {

                            columns.Bound(c => c.CandidateProfileId).ClientTemplate("<div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown' >Actions</button><ul class='dropdown-menu' role='menu'><li><button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button></li><br/>" +
           "<li><button class='btn btn-info' onclick='onReturnCandidatePool(\"#:ApplicationId#\",\"Rereviewed\",\"VISA_TRANSFER\")'>Return to Candidate Pool</button></li><br/><li><button class='btn btn-info' onclick='OnApplication(\"#=CandidateProfileId#\",\"#:ApplicationId#\");'><i class='far fa-address-card'></i>&nbsp;View</button></li><br/><li><button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application Status Report</button></li><br/>" +
           "</ul></div>").Width(150).Title("Actions").HeaderHtmlAttributes(new { title = "Actions" }).Locked(true).Lockable(false);
                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button>").Title("Comment").Width(150).Locked(true).Lockable(false);

                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<a href='javascript:OnApplication(\"#=CandidateProfileId#\");'><i class='far fa-address-card btn-link'></i>&nbsp;View</a>").Title("View").Width(100).Locked(true).Lockable(false);
                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<button class='btn btn-info' onclick='OnOffer(\"#:ApplicationId#\")'>View Final Offer</button>").Title("Action").Width(120).Locked(true).Lockable(false);

                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application State Report</button>").Title("Application State Report").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='UpdateStatus(\"#:CandidateType#\",\"#:ApplicationStatusCode#\",\"#:ApplicationId#\",\"#:CandidateProfileId#\",\"MedicalCompleted\")'>Move To Medical Complete</button>").Title("Action").Width(120).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("#if(TaskId==null){#<button class='btn btn-info' onclick='onRaiseTaskMedical(\"#:ApplicationId#\")'>Raise</button>#}else{#<button class='btn btn-info' onclick='onViewTask(\"#:TaskId#\",\"#:TaskTemplateCode#\")'>View</button>#}#").Title("Task").Width(100).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationNo).Title("Application No").HeaderHtmlAttributes(new { title = "Application No" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.PositionName).Title("Position Name").HeaderHtmlAttributes(new { title = "Position Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.OrganizationName).Title("Organization Name").HeaderHtmlAttributes(new { title = "Organization Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.BatchName).Title("Batch").HeaderHtmlAttributes(new { title = "Batch" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationStateName).HeaderHtmlAttributes(new { title = "Application State" }).Title("Application State").Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.FirstName).HeaderHtmlAttributes(new { title = "First Name" }).Title("First Name").Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.MiddleName).HeaderHtmlAttributes(new { title = "Middle Name" }).Title("Middle Name").Width(150);
                            columns.Bound(p => p.LastName).HeaderHtmlAttributes(new { title = "Last Name" }).Title("Last Name").Width(150);
                            columns.Bound(p => p.Email).HeaderHtmlAttributes(new { title = "Email" }).Width(150);
                            columns.Bound(p => p.ApplicationStatus).HeaderHtmlAttributes(new { title = "Status" }).Title("Status").Width(150);

                            columns.Bound(p => p.Step1).ClientTemplate("#if(StepNo1!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step1#\")'>#:StepNo1#</a>#}#").Title("8.3.1 Submit Visa transfer documents - Candidate").HeaderHtmlAttributes(new { title = "8.3.1 Submit Visa transfer documents - Candidate" }).Width(150);
                            columns.Bound(p => p.Step2).ClientTemplate("#if(StepNo2!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step2#\")'>#:StepNo2#</a>#}#").Title("8.3.2 Verify documents - Recruiter").HeaderHtmlAttributes(new { title = "8.3.2 Verify documents - Recruiter" }).Width(150);
                            columns.Bound(p => p.Step3).ClientTemplate("#if(StepNo3!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step3#\")'>#:StepNo3#</a>#}#").Title("8.3.3 Submit visa transfer & confirm sponsorship change - PRO").HeaderHtmlAttributes(new { title = "8.3.3 Submit visa transfer & confirm sponsorship change - PRO" }).Width(150);
                            columns.Bound(p => p.Step4).ClientTemplate("#if(StepNo4!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step4#\")'>#:StepNo4#</a>#}#").Title("8.3.4 Verify visa transfer completed - Recruiter").HeaderHtmlAttributes(new { title = "8.3.4 Verify visa transfer completed - Recruiter" }).Width(150);
                            columns.Bound(p => p.Step5).ClientTemplate("#if(StepNo5!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step5#\")'>#:StepNo5#</a>#}#").Title("8.3.5 Receive visa transfer Confirmation, inform joining date - Candidate").HeaderHtmlAttributes(new { title = "8.3.5 Receive visa transfer Confirmation, inform joining date - Candidate" }).Width(150);

                            //columns.Bound(p => p.TotalWorkExperience).Width(150);
                            //columns.Bound(p => p.ContactPhoneHome).Title("Mobile").Width(150);
                            //columns.Bound(p => p.Score).Width(150);
                            //columns.Bound(p => p.Gender).Width(150);
                            //columns.Bound(p => p.BirthDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.Age).Width(150);
                            //columns.Bound(p => p.BirthPlace).Width(150);
                            //columns.Bound(p => p.Nationality).Width(150);
                            //columns.Bound(p => p.BloodGroup).Width(150);
                            //columns.Bound(p => p.MaritalStatus).Width(150);
                            //columns.Bound(p => p.PassportNumber).Width(150);
                            //columns.Bound(p => p.PassportIssueCountry).Width(150);
                            //columns.Bound(p => p.PassportExpiryDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.QatarId).Width(150);
                            //columns.Bound(p => p.CurrentAddressHouse).Width(150);
                            //columns.Bound(p => p.CurrentAddressStreet).Width(150);
                            //columns.Bound(p => p.CurrentAddressCity).Width(150);
                            //columns.Bound(p => p.CurrentAddressState).Width(150);
                            //columns.Bound(p => p.CurrentAddressCountryName).Width(150);
                            //columns.Bound(p => p.PermanentAddressHouse).Width(150);
                            //columns.Bound(p => p.PermanentAddressStreet).Width(150);
                            //columns.Bound(p => p.PermanentAddressCity).Width(150);
                            //columns.Bound(p => p.PermanentAddressState).Width(150);
                            //columns.Bound(p => p.PermanentAddressCountryName).Width(150);

                            //columns.Bound(p => p.ContactPhoneLocal).Width(150);
                            //columns.Bound(p => p.CurrentEmployer).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentLocation).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentPosition).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentStartDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.CurrentEmploymentEndDate).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentResponsibilities).Width(300);

                            //columns.Bound(p => p.SalaryCurrencyName).Title("Salary Currency").Width(150);
                            //// columns.Bound(p => p.IndianSalary).Width(150);
                            ////columns.Bound(p => p.OverseasSalary).Width(150);
                            //columns.Bound(p => p.NetSalary).Title("Net Salary After Income Tax").Width(150);
                            //columns.Bound(p => p.OtherAllowance).Width(150);

                        })
                         //.ToolBar(toolbar =>
                         //{
                         //    toolbar.ClientTemplate("<button type='button' class='btn btn-primary' onclick='OnCreateMenuGroup();'><i class='fa fas fa-plus'></i>&nbsp;Create Menu Group</button>");
                         //})
                         //.Events(e => e.DataBound("OnDataBoundNot"))
                         .Events(e => e.DataBound("OnDataBound"))
                        .Scrollable().Height(700)
                        .Sortable().Resizable(resize => resize.Columns(true))
                        .Selectable(select => select.Enabled(false))
                        .Filterable(f => f.Extra(false)
                                          .Operators(o => o.ForString(s => s.Clear()
                                          .Contains("Contains")
                                          .IsEqualTo("Is equal to")
                                          )))
                        .Pageable(pageable => pageable
                        .Refresh(true)
                        .PageSizes(true)
                        .ButtonCount(5))
                        .AutoBind(true)
                        .DataSource(dataSource => dataSource
                        .Ajax()
                        .PageSize(10)
                         .Read(read => read.Action("GetJobAdvertismentApplication", "RecruitmentDashboard", new { jobAdvId = Model.JobId, orgId = Model.OrganizationId, state = Model.ApplicationState, tempcode = "VISA_TRANSFER", permission = @ViewBag.Permissions }))
                        .Model(model => model.Id(p => p.Id))
                        )
          )
            }
            else if (Model.ApplicationState == "WorkPermit")
            {
                @(Html.Kendo().Grid<ApplicationViewModel>
                        ().Name("kgrdCandInterview").Resizable(resize => resize.Columns(true))
                        .Columns(columns =>
                        {

                            columns.Bound(c => c.CandidateProfileId).ClientTemplate("<div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown' >Actions</button><ul class='dropdown-menu' role='menu'><li><button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button></li><br/>" +
           "<li><button class='btn btn-info' onclick='onReturnCandidatePool(\"#:ApplicationId#\",\"Rereviewed\",\"LOCAL_WORK_PERMIT\")'>Return to Candidate Pool</button></li><br/><li><button class='btn btn-info' onclick='OnApplication(\"#=CandidateProfileId#\",\"#:ApplicationId#\");'><i class='far fa-address-card'></i>&nbsp;View</button></li><br/><li><button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application Status Report</button></li><br/>" +
           "</ul></div>").Width(150).Title("Actions").HeaderHtmlAttributes(new { title = "Actions" }).Locked(true).Lockable(false);
                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button>").Title("Comment").Width(150).Locked(true).Lockable(false);

                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<a href='javascript:OnApplication(\"#=CandidateProfileId#\");'><i class='far fa-address-card btn-link'></i>&nbsp;View</a>").Title("View").Width(100).Locked(true).Lockable(false);
                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<button class='btn btn-info' onclick='OnOffer(\"#:ApplicationId#\")'>View Final Offer</button>").Title("Action").Width(120).Locked(true).Lockable(false);

                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application State Report</button>").Title("Application State Report").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='UpdateStatus(\"#:CandidateType#\",\"#:ApplicationStatusCode#\",\"#:ApplicationId#\",\"#:CandidateProfileId#\",\"MedicalCompleted\")'>Move To Medical Complete</button>").Title("Action").Width(120).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("#if(TaskId==null){#<button class='btn btn-info' onclick='onRaiseTaskMedical(\"#:ApplicationId#\")'>Raise</button>#}else{#<button class='btn btn-info' onclick='onViewTask(\"#:TaskId#\",\"#:TaskTemplateCode#\")'>View</button>#}#").Title("Task").Width(100).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationNo).Title("Application No").HeaderHtmlAttributes(new { title = "Application No" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.PositionName).Title("Position Name").HeaderHtmlAttributes(new { title = "Position Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.OrganizationName).Title("Organization Name").HeaderHtmlAttributes(new { title = "Organization Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.BatchName).Title("Batch").HeaderHtmlAttributes(new { title = "Batch" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationStateName).HeaderHtmlAttributes(new { title = "Application State" }).Title("Application State").Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.FirstName).HeaderHtmlAttributes(new { title = "First Name" }).Title("First Name").Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.MiddleName).HeaderHtmlAttributes(new { title = "Middle Name" }).Title("Middle Name").Width(150);
                            columns.Bound(p => p.LastName).HeaderHtmlAttributes(new { title = "Last Name" }).Title("Last Name").Width(150);
                            columns.Bound(p => p.Email).HeaderHtmlAttributes(new { title = "Email" }).Width(150);
                            columns.Bound(p => p.ApplicationStatus).HeaderHtmlAttributes(new { title = "Status" }).Title("Status").Width(150);

                            columns.Bound(p => p.Step1).ClientTemplate("#if(StepNo1!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step1#\")'>#:StepNo1#</a>#}#").Title("8.4.1 Submit Work Permit Documents – Candidate").HeaderHtmlAttributes(new { title = "8.4.1 Submit Work Permit Documents – Candidate" }).Width(150);
                            columns.Bound(p => p.Step2).ClientTemplate("#if(StepNo2!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step2#\")'>#:StepNo2#</a>#}#").Title("8.4.2 Verify Documents – Recruiter").HeaderHtmlAttributes(new { title = "8.4.2 Verify Documents – Recruiter" }).Width(150);
                            columns.Bound(p => p.Step3).ClientTemplate("#if(StepNo3!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step3#\")'>#:StepNo3#</a>#}#").Title("8.4.3 Obtain Work Permit & Attach – PRO").HeaderHtmlAttributes(new { title = "8.4.3 Obtain Work Permit & Attach – PRO" }).Width(150);
                            columns.Bound(p => p.Step4).ClientTemplate("#if(StepNo4!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step4#\")'>#:StepNo4#</a>#}#").Title("8.4.4 Verify visa transfer completed - Recruiter").HeaderHtmlAttributes(new { title = "8.4.4 Verify visa transfer completed - Recruiter" }).Width(150);
                            columns.Bound(p => p.Step5).ClientTemplate("#if(StepNo5!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step5#\")'>#:StepNo5#</a>#}#").Title("8.4.5 Receive work permit, inform joining date - Candidate").HeaderHtmlAttributes(new { title = "8.4.5 Receive work permit, inform joining date - Candidate" }).Width(150);

                            //columns.Bound(p => p.TotalWorkExperience).Width(150);
                            //columns.Bound(p => p.ContactPhoneHome).Title("Mobile").Width(150);
                            //columns.Bound(p => p.Score).Width(150);
                            //columns.Bound(p => p.Gender).Width(150);
                            //columns.Bound(p => p.BirthDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.Age).Width(150);
                            //columns.Bound(p => p.BirthPlace).Width(150);
                            //columns.Bound(p => p.Nationality).Width(150);
                            //columns.Bound(p => p.BloodGroup).Width(150);
                            //columns.Bound(p => p.MaritalStatus).Width(150);
                            //columns.Bound(p => p.PassportNumber).Width(150);
                            //columns.Bound(p => p.PassportIssueCountry).Width(150);
                            //columns.Bound(p => p.PassportExpiryDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.QatarId).Width(150);
                            //columns.Bound(p => p.CurrentAddressHouse).Width(150);
                            //columns.Bound(p => p.CurrentAddressStreet).Width(150);
                            //columns.Bound(p => p.CurrentAddressCity).Width(150);
                            //columns.Bound(p => p.CurrentAddressState).Width(150);
                            //columns.Bound(p => p.CurrentAddressCountryName).Width(150);
                            //columns.Bound(p => p.PermanentAddressHouse).Width(150);
                            //columns.Bound(p => p.PermanentAddressStreet).Width(150);
                            //columns.Bound(p => p.PermanentAddressCity).Width(150);
                            //columns.Bound(p => p.PermanentAddressState).Width(150);
                            //columns.Bound(p => p.PermanentAddressCountryName).Width(150);

                            //columns.Bound(p => p.ContactPhoneLocal).Width(150);
                            //columns.Bound(p => p.CurrentEmployer).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentLocation).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentPosition).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentStartDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.CurrentEmploymentEndDate).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentResponsibilities).Width(300);

                            //columns.Bound(p => p.SalaryCurrencyName).Title("Salary Currency").Width(150);
                            //// columns.Bound(p => p.IndianSalary).Width(150);
                            ////columns.Bound(p => p.OverseasSalary).Width(150);
                            //columns.Bound(p => p.NetSalary).Title("Net Salary After Income Tax").Width(150);
                            //columns.Bound(p => p.OtherAllowance).Width(150);

                        })
                         //.ToolBar(toolbar =>
                         //{
                         //    toolbar.ClientTemplate("<button type='button' class='btn btn-primary' onclick='OnCreateMenuGroup();'><i class='fa fas fa-plus'></i>&nbsp;Create Menu Group</button>");
                         //})
                         //.Events(e => e.DataBound("OnDataBoundNot"))
                         .Events(e => e.DataBound("OnDataBound"))
                        .Scrollable().Height(700)
                        .Sortable().Resizable(resize => resize.Columns(true))
                        .Selectable(select => select.Enabled(false))
                        .Filterable(f => f.Extra(false)
                                          .Operators(o => o.ForString(s => s.Clear()
                                          .Contains("Contains")
                                          .IsEqualTo("Is equal to")
                                          )))
                        .Pageable(pageable => pageable
                        .Refresh(true)
                        .PageSizes(true)
                        .ButtonCount(5))
                        .AutoBind(true)
                        .DataSource(dataSource => dataSource
                        .Ajax()
                        .PageSize(10)
                         .Read(read => read.Action("GetJobAdvertismentApplication", "RecruitmentDashboard", new { jobAdvId = Model.JobId, orgId = Model.OrganizationId, state = Model.ApplicationState, tempcode = "LOCAL_WORK_PERMIT", permission = @ViewBag.Permissions }))
                        .Model(model => model.Id(p => p.Id))
                        )
          )
            }



            else if (Model.ApplicationState == "StaffJoined")
            {
                @(Html.Kendo().Grid<ApplicationViewModel>
                        ().Name("kgrdCandInterview").Resizable(resize => resize.Columns(true))
                        .Columns(columns =>
                        {

                            columns.Bound(c => c.CandidateProfileId).ClientTemplate("<div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown' >Actions</button><ul class='dropdown-menu' role='menu'><li><button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button></li><br/>" +
           "<li><button class='btn btn-info' onclick='onReturnCandidatePool(\"#:ApplicationId#\",\"Rereviewed\",\"STAFF_JOINING_FORMALITIES\")'>Return to Candidate Pool</button></li><br/><li><button class='btn btn-info' onclick='OnApplication(\"#=CandidateProfileId#\",\"#:ApplicationId#\");'><i class='far fa-address-card'></i>&nbsp;View</button></li><br/><li><button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application Status Report</button></li><br/>" +
            "<li><button class='btn btn-info' onclick='onViewWorker(\"#:ApplicationId#\")'>Joining Report</button></li>" +
                 "<li><button class='btn btn-info' onclick='onViewPersonal(\"#:ApplicationId#\")'>PersonalData</button></li>" +
                 "<li><button class='btn btn-info' onclick='onViewDeclaration(\"#:ApplicationId#\")'>Nomination for Benefits</button></li>" +
                 "<li><button class='btn btn-info' onclick='onConfAgreement(\"#:ApplicationId#\")'>Confidentiality Agreement</button></li>" +
                 "<li><button class='btn btn-info' onclick='onViewCompetenceMatrix(\"#:ApplicationId#\")'>Competence Matrix Report</button></li>"+
           "</ul></div>").Width(150).Title("Actions").HeaderHtmlAttributes(new { title = "Actions" }).Locked(true).Lockable(false);
                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button>").Title("Comment").Width(150).Locked(true).Lockable(false);

                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<a href='javascript:OnApplication(\"#=CandidateProfileId#\");'><i class='far fa-address-card btn-link'></i>&nbsp;View</a>").Title("View").Width(100).Locked(true).Lockable(false);

                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application State Report</button>").Title("Application State Report").Width(180).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='onAddSourcing(\"#:ApplicationId#\")'>Edit</button>").Title("").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='onViewWorker(\"#:ApplicationId#\")'>Workers</button>").Title("").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='onViewPersonal(\"#:ApplicationId#\")'>PersonalData</button>").Title("").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='onViewDeclaration(\"#:ApplicationId#\")'>Declaration</button>").Title("").Width(150).Locked(true).Lockable(false);

                            // columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='UpdateStatus(\"#:CandidateType#\",\"#:ApplicationStatusCode#\",\"#:ApplicationId#\",\"#:CandidateProfileId#\",\"Joined\")'>Joined</button>").Title("Action").Width(280).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationNo).Title("Application No").HeaderHtmlAttributes(new { title = "Application No" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.PositionName).Title("Position Name").HeaderHtmlAttributes(new { title = "Position Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.OrganizationName).Title("Organization Name").HeaderHtmlAttributes(new { title = "Organization Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.BatchName).Title("Batch").HeaderHtmlAttributes(new { title = "Batch" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationStateName).HeaderHtmlAttributes(new { title = "Application State Name" }).Title("Application State").Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.FirstName).HeaderHtmlAttributes(new { title = "First Name" }).Title("First Name").Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.MiddleName).HeaderHtmlAttributes(new { title = "Middle Name" }).Title("Middle Name").Width(150);
                            columns.Bound(p => p.LastName).HeaderHtmlAttributes(new { title = "Last Name" }).HeaderHtmlAttributes(new { title = "Name" }).Title("Last Name").Width(150);
                            columns.Bound(p => p.Email).HeaderHtmlAttributes(new { title = "Email" }).Width(150);
                            columns.Bound(p => p.ApplicationStatus).HeaderHtmlAttributes(new { title = "Application Status" }).Title("Status").Width(150);

                            columns.Bound(p => p.Step1).ClientTemplate("#if(StepNo1!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step1#\")'>#:StepNo1#</a>#}#").Title("9.1.1 Fill forms, Sign documents - HR").HeaderHtmlAttributes(new { title = "9.1.1 Fill forms, Sign documents - HR" }).Width(150);
                            //columns.Bound(p => p.Step2).ClientTemplate("#if(StepNo2!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step2#\")'>#:StepNo2#</a>#}#").Title("8.1.2 Provide cash voucher - HR").HeaderHtmlAttributes(new { title = "8.1.2 Provide cash voucher - HR" }).Width(150);
                            //columns.Bound(p => p.Step3).ClientTemplate("#if(StepNo3!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step3#\")'>#:StepNo3#</a>#}#").Title("8.1.3 Send intimation email to Org Unit HO copying IT– HR").HeaderHtmlAttributes(new { title = "8.1.3 Send intimation email to Org Unit HO copying IT– HR" }).Width(150);
                            //columns.Bound(p => p.Step4).ClientTemplate("#if(StepNo4!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step4#\")'>#:StepNo4#</a>#}#").Title("8.1.4 Send FRA/HRA Request to Finance via email – HR").HeaderHtmlAttributes(new { title = "8.1.4 Send FRA/HRA Request to Finance via email – HR" }).Width(150);
                            //columns.Bound(p => p.Step5).ClientTemplate("#if(StepNo5!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step5#\")'>#:StepNo5#</a>#}#").Title("8.1.5 Upload Passport, Visa/Qatar ID in System - HR").HeaderHtmlAttributes(new { title = "8.1.5 Upload Passport, Visa/Qatar ID in System - HR" }).Width(150);
                            //columns.Bound(p => p.Step6).ClientTemplate("#if(StepNo6!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step6#\")'>#:StepNo6#</a>#}#").Title("8.1.6 Update employee file in SAP – HR").HeaderHtmlAttributes(new { title = "8.1.6 Update employee file in SAP – HR" }).Width(150);
                            //columns.Bound(p => p.Step7).ClientTemplate("#if(StepNo7!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step7#\")'>#:StepNo7#</a>#}#").Title("8.1.7 Confirm induction date to candidate – HR").HeaderHtmlAttributes(new { title = "8.1.7 Confirm induction date to candidate – HR" }).Width(150);

                            //columns.Bound(p => p.TotalWorkExperience).Width(150);
                            //columns.Bound(p => p.ContactPhoneHome).Title("Mobile").Width(150);
                            //columns.Bound(p => p.Score).Width(150);
                            //columns.Bound(p => p.Gender).Width(150);
                            //columns.Bound(p => p.BirthDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.Age).Width(150);
                            //columns.Bound(p => p.BirthPlace).Width(150);
                            //columns.Bound(p => p.Nationality).Width(150);
                            //columns.Bound(p => p.BloodGroup).Width(150);
                            //columns.Bound(p => p.MaritalStatus).Width(150);
                            //columns.Bound(p => p.PassportNumber).Width(150);
                            //columns.Bound(p => p.PassportIssueCountry).Width(150);
                            //columns.Bound(p => p.PassportExpiryDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.QatarId).Width(150);
                            //columns.Bound(p => p.CurrentAddressHouse).Width(150);
                            //columns.Bound(p => p.CurrentAddressStreet).Width(150);
                            //columns.Bound(p => p.CurrentAddressCity).Width(150);
                            //columns.Bound(p => p.CurrentAddressState).Width(150);
                            //columns.Bound(p => p.CurrentAddressCountryName).Width(150);
                            //columns.Bound(p => p.PermanentAddressHouse).Width(150);
                            //columns.Bound(p => p.PermanentAddressStreet).Width(150);
                            //columns.Bound(p => p.PermanentAddressCity).Width(150);
                            //columns.Bound(p => p.PermanentAddressState).Width(150);
                            //columns.Bound(p => p.PermanentAddressCountryName).Width(150);

                            //columns.Bound(p => p.ContactPhoneLocal).Width(150);
                            //columns.Bound(p => p.CurrentEmployer).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentLocation).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentPosition).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentStartDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.CurrentEmploymentEndDate).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentResponsibilities).Width(300);

                            //columns.Bound(p => p.SalaryCurrencyName).Title("Salary Currency").Width(150);
                            ////columns.Bound(p => p.IndianSalary).Width(150);
                            ////columns.Bound(p => p.OverseasSalary).Width(150);
                            //columns.Bound(p => p.NetSalary).Title("Net Salary After Income Tax").Width(150);
                            //columns.Bound(p => p.OtherAllowance).Width(150);

                        })
                         //.ToolBar(toolbar =>
                         //{
                         //    toolbar.ClientTemplate("<button type='button' class='btn btn-primary' onclick='OnCreateMenuGroup();'><i class='fa fas fa-plus'></i>&nbsp;Create Menu Group</button>");
                         //})
                         //.Events(e => e.DataBound("OnDataBoundNot"))
                         .Events(e => e.DataBound("OnDataBound"))
                        .Scrollable().Height(700)
                        .Sortable()
                        .Resizable(resize => resize.Columns(true))
                        .Selectable(select => select.Enabled(false))
                        .Filterable(f => f.Extra(false)
                                          .Operators(o => o.ForString(s => s.Clear()
                                          .Contains("Contains")
                                          .IsEqualTo("Is equal to")
                                          )))
                        .Pageable(pageable => pageable
                        .Refresh(true)
                        .PageSizes(true)
                        .ButtonCount(5))
                        .AutoBind(true)
                        .DataSource(dataSource => dataSource
                        .Ajax()
                        .PageSize(10)
                         .Read(read => read.Action("GetJobAdvertismentApplication", "RecruitmentDashboard", new { jobAdvId = Model.JobId, orgId = Model.OrganizationId, state = Model.ApplicationState, tempcode = "STAFF_JOINING_FORMALITIES", permission = @ViewBag.Permissions }))
                        .Model(model => model.Id(p => p.Id))
                        )
          )
            }

            else if (Model.ApplicationState == "PostStaffJoined")
            {
                @(Html.Kendo().Grid<ApplicationViewModel>
                        ().Name("kgrdCandInterview").Resizable(resize => resize.Columns(true))
                        .Columns(columns =>
                        {

                            columns.Bound(c => c.CandidateProfileId).ClientTemplate("<div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown' >Actions</button><ul class='dropdown-menu' role='menu'><li><button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button></li><br/>" +
           "<li><button class='btn btn-info' onclick='onReturnCandidatePool(\"#:ApplicationId#\",\"Rereviewed\",\"STAFF_JOINING_FORMALITIES\")'>Return to Candidate Pool</button></li><br/><li><button class='btn btn-info' onclick='OnApplication(\"#=CandidateProfileId#\",\"#:ApplicationId#\");'><i class='far fa-address-card'></i>&nbsp;View</button></li><br/><li><button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application Status Report</button></li><br/>" +
            "<li><button class='btn btn-info' onclick='onViewWorker(\"#:ApplicationId#\")'>Joining Report</button></li>" +
                 "<li><button class='btn btn-info' onclick='onViewPersonal(\"#:ApplicationId#\")'>PersonalData</button></li>" +
                 "<li><button class='btn btn-info' onclick='onViewDeclaration(\"#:ApplicationId#\")'>Nomination for Benefits</button></li>" +
                 "<li><button class='btn btn-info' onclick='onConfAgreement(\"#:ApplicationId#\")'>Confidentiality Agreement</button></li>" +
                 "<li><button class='btn btn-info' onclick='onViewCompetenceMatrix(\"#:ApplicationId#\")'>Competence Matrix Report</button></li>"+
           "</ul></div>").Width(150).Title("Actions").HeaderHtmlAttributes(new { title = "Actions" }).Locked(true).Lockable(false);
                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button>").Title("Comment").Width(150).Locked(true).Lockable(false);

                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<a href='javascript:OnApplication(\"#=CandidateProfileId#\");'><i class='far fa-address-card btn-link'></i>&nbsp;View</a>").Title("View").Width(100).Locked(true).Lockable(false);

                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application State Report</button>").Title("Application State Report").Width(180).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='onAddSourcing(\"#:ApplicationId#\")'>Edit</button>").Title("").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='onViewWorker(\"#:ApplicationId#\")'>Workers</button>").Title("").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='onViewPersonal(\"#:ApplicationId#\")'>PersonalData</button>").Title("").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='onViewDeclaration(\"#:ApplicationId#\")'>Declaration</button>").Title("").Width(150).Locked(true).Lockable(false);

                            // columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='UpdateStatus(\"#:CandidateType#\",\"#:ApplicationStatusCode#\",\"#:ApplicationId#\",\"#:CandidateProfileId#\",\"Joined\")'>Joined</button>").Title("Action").Width(280).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationNo).Title("Application No").HeaderHtmlAttributes(new { title = "Application No" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.PositionName).Title("Position Name").HeaderHtmlAttributes(new { title = "Position Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.OrganizationName).Title("Organization Name").HeaderHtmlAttributes(new { title = "Organization Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.BatchName).Title("Batch").HeaderHtmlAttributes(new { title = "Batch" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationStateName).HeaderHtmlAttributes(new { title = "Application State Name" }).Title("Application State").Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.FirstName).HeaderHtmlAttributes(new { title = "First Name" }).Title("First Name").Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.MiddleName).HeaderHtmlAttributes(new { title = "Middle Name" }).Title("Middle Name").Width(150);
                            columns.Bound(p => p.LastName).HeaderHtmlAttributes(new { title = "Last Name" }).HeaderHtmlAttributes(new { title = "Name" }).Title("Last Name").Width(150);
                            columns.Bound(p => p.Email).HeaderHtmlAttributes(new { title = "Email" }).Width(150);
                            columns.Bound(p => p.ApplicationStatus).HeaderHtmlAttributes(new { title = "Application Status" }).Title("Status").Width(150);

                            //columns.Bound(p => p.Step1).ClientTemplate("#if(StepNo1!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step1#\")'>#:StepNo1#</a>#}#").Title("8.1.1 Fill forms, Sign documents - HR").HeaderHtmlAttributes(new { title = "8.1.1 Fill forms, Sign documents - HR" }).Width(150);
                            columns.Bound(p => p.Step2).ClientTemplate("#if(StepNo2!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step2#\")'>#:StepNo2#</a>#}#").Title("12.1.1 Provide cash voucher - HR").HeaderHtmlAttributes(new { title = "12.1.1 Provide cash voucher - HR" }).Width(150);
                            columns.Bound(p => p.Step3).ClientTemplate("#if(StepNo3!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step3#\")'>#:StepNo3#</a>#}#").Title("12.1.2 Send intimation email to Org Unit HO copying IT– HR").HeaderHtmlAttributes(new { title = "12.1.2 Send intimation email to Org Unit HO copying IT– HR" }).Width(150);
                            columns.Bound(p => p.Step4).ClientTemplate("#if(StepNo4!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step4#\")'>#:StepNo4#</a>#}#").Title("12.1.3 Send FRA/HRA Request to Finance via email – HR").HeaderHtmlAttributes(new { title = "12.1.3 Send FRA/HRA Request to Finance via email – HR" }).Width(150);
                            columns.Bound(p => p.Step5).ClientTemplate("#if(StepNo5!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step5#\")'>#:StepNo5#</a>#}#").Title("12.1.4 Upload Passport, Visa/Qatar ID in System - HR").HeaderHtmlAttributes(new { title = "12.1.4 Upload Passport, Visa/Qatar ID in System - HR" }).Width(150);
                            columns.Bound(p => p.Step6).ClientTemplate("#if(StepNo6!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step6#\")'>#:StepNo6#</a>#}#").Title("12.1.5 Update employee file in SAP – HR").HeaderHtmlAttributes(new { title = "12.1.5 Update employee file in SAP – HR" }).Width(150);
                            columns.Bound(p => p.Step7).ClientTemplate("#if(StepNo7!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step7#\")'>#:StepNo7#</a>#}#").Title("12.1.6 Confirm induction date to candidate – HR").HeaderHtmlAttributes(new { title = "12.1.6 Confirm induction date to candidate – HR" }).Width(150);
                            columns.Bound(p => p.Step8).ClientTemplate("#if(StepNo8!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step8#\")'>#:StepNo8#</a>#}#").Title("12.1.7 Confirm/Reject/Extend Probation Date – HM").HeaderHtmlAttributes(new { title = "12.1.7 Confirm/Reject/Extend Probation Date – HM" }).Width(150);
                            columns.Bound(p => p.Step9).ClientTemplate("#if(StepNo9!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step9#\")'>#:StepNo9#</a>#}#").Title("12.1.8 Confirm/Reject/Extend Probation Date – HR").HeaderHtmlAttributes(new { title = "12.1.8 Confirm/Reject/Extend Probation Date – HR" }).Width(150);

                            //columns.Bound(p => p.TotalWorkExperience).Width(150);
                            //columns.Bound(p => p.ContactPhoneHome).Title("Mobile").Width(150);
                            //columns.Bound(p => p.Score).Width(150);
                            //columns.Bound(p => p.Gender).Width(150);
                            //columns.Bound(p => p.BirthDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.Age).Width(150);
                            //columns.Bound(p => p.BirthPlace).Width(150);
                            //columns.Bound(p => p.Nationality).Width(150);
                            //columns.Bound(p => p.BloodGroup).Width(150);
                            //columns.Bound(p => p.MaritalStatus).Width(150);
                            //columns.Bound(p => p.PassportNumber).Width(150);
                            //columns.Bound(p => p.PassportIssueCountry).Width(150);
                            //columns.Bound(p => p.PassportExpiryDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.QatarId).Width(150);
                            //columns.Bound(p => p.CurrentAddressHouse).Width(150);
                            //columns.Bound(p => p.CurrentAddressStreet).Width(150);
                            //columns.Bound(p => p.CurrentAddressCity).Width(150);
                            //columns.Bound(p => p.CurrentAddressState).Width(150);
                            //columns.Bound(p => p.CurrentAddressCountryName).Width(150);
                            //columns.Bound(p => p.PermanentAddressHouse).Width(150);
                            //columns.Bound(p => p.PermanentAddressStreet).Width(150);
                            //columns.Bound(p => p.PermanentAddressCity).Width(150);
                            //columns.Bound(p => p.PermanentAddressState).Width(150);
                            //columns.Bound(p => p.PermanentAddressCountryName).Width(150);

                            //columns.Bound(p => p.ContactPhoneLocal).Width(150);
                            //columns.Bound(p => p.CurrentEmployer).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentLocation).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentPosition).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentStartDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.CurrentEmploymentEndDate).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentResponsibilities).Width(300);

                            //columns.Bound(p => p.SalaryCurrencyName).Title("Salary Currency").Width(150);
                            ////columns.Bound(p => p.IndianSalary).Width(150);
                            ////columns.Bound(p => p.OverseasSalary).Width(150);
                            //columns.Bound(p => p.NetSalary).Title("Net Salary After Income Tax").Width(150);
                            //columns.Bound(p => p.OtherAllowance).Width(150);

                        })
                         //.ToolBar(toolbar =>
                         //{
                         //    toolbar.ClientTemplate("<button type='button' class='btn btn-primary' onclick='OnCreateMenuGroup();'><i class='fa fas fa-plus'></i>&nbsp;Create Menu Group</button>");
                         //})
                         //.Events(e => e.DataBound("OnDataBoundNot"))
                         .Events(e => e.DataBound("OnDataBound"))
                        .Scrollable().Height(700)
                        .Sortable()
                        .Resizable(resize => resize.Columns(true))
                        .Selectable(select => select.Enabled(false))
                        .Filterable(f => f.Extra(false)
                                          .Operators(o => o.ForString(s => s.Clear()
                                          .Contains("Contains")
                                          .IsEqualTo("Is equal to")
                                          )))
                        .Pageable(pageable => pageable
                        .Refresh(true)
                        .PageSizes(true)
                        .ButtonCount(5))
                        .AutoBind(true)
                        .DataSource(dataSource => dataSource
                        .Ajax()
                        .PageSize(10)
                         .Read(read => read.Action("GetJobAdvertismentApplication", "RecruitmentDashboard", new { jobAdvId = Model.JobId, orgId = Model.OrganizationId, state = Model.ApplicationState, tempcode = "STAFF_JOINING_FORMALITIES", tempCodeOther= "STAFF_CONFIRM_PROBATION_DATE", permission = @ViewBag.Permissions }))
                        .Model(model => model.Id(p => p.Id))
                        )
          )
            }

            else if (Model.ApplicationState == "WorkerJoined")
            {
                @(Html.Kendo().Grid<ApplicationViewModel>
                        ().Name("kgrdCandInterview").Resizable(resize => resize.Columns(true))
                        .Columns(columns =>
                        {

                            columns.Bound(c => c.CandidateProfileId).ClientTemplate("<div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown' >Actions</button><ul class='dropdown-menu' role='menu'><li><button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button></li><br/>" +
           "<li><button class='btn btn-info' onclick='onReturnCandidatePool(\"#:ApplicationId#\",\"Rereviewed\",\"WORKER_JOINING_FORMALITIES\")'>Return to Candidate Pool</button></li><br/><li><button class='btn btn-info' onclick='OnApplication(\"#=CandidateProfileId#\",\"#:ApplicationId#\");'><i class='far fa-address-card'></i>&nbsp;View</button></li><br/><li><button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application Status Report</button></li><br/>" +
           "<li><button class='btn btn-info' onclick='onViewWorker(\"#:ApplicationId#\")'>Joining Report</button></li>" +
                 "<li><button class='btn btn-info' onclick='onViewPersonal(\"#:ApplicationId#\")'>PersonalData</button></li>"+
                 "<li><button class='btn btn-info' onclick='onViewDeclaration(\"#:ApplicationId#\")'>Nomination for Benefits</button></li>"+
                 "<li><button class='btn btn-info' onclick='onConfAgreement(\"#:ApplicationId#\")'>Confidentiality Agreement</button></li>"+
                 "<li><button class='btn btn-info' onclick='onViewCompetenceMatrix(\"#:ApplicationId#\")'>Competence Matrix Report</button></li></ul></div>").Width(150).Title("Actions").HeaderHtmlAttributes(new { title = "Actions" }).Locked(true).Lockable(false);
                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button>").Title("Comment").Width(150).Locked(true).Lockable(false);

                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<a href='javascript:OnApplication(\"#=CandidateProfileId#\");'><i class='far fa-address-card btn-link'></i>&nbsp;View</a>").Title("View").Width(100).Locked(true).Lockable(false);

                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application State Report</button>").Title("Application State Report").Width(180).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='onAddSourcing(\"#:ApplicationId#\")'>Edit</button>").Title("").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='onViewWorker(\"#:ApplicationId#\")'>Workers</button>").Title("").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='onViewPersonal(\"#:ApplicationId#\")'>PersonalData</button>").Title("").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='onViewDeclaration(\"#:ApplicationId#\")'>Declaration</button>").Title("").Width(150).Locked(true).Lockable(false);

                            // columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='UpdateStatus(\"#:CandidateType#\",\"#:ApplicationStatusCode#\",\"#:ApplicationId#\",\"#:CandidateProfileId#\",\"Joined\")'>Joined</button>").Title("Action").Width(280).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationNo).Title("Application No").HeaderHtmlAttributes(new { title = "Application No" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.PositionName).Title("Position Name").HeaderHtmlAttributes(new { title = "Position Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.OrganizationName).Title("Organization Name").HeaderHtmlAttributes(new { title = "Organization Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.BatchName).Title("Batch").HeaderHtmlAttributes(new { title = "Batch" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationStateName).HeaderHtmlAttributes(new { title = "Application State Name" }).Title("Application State").Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.FirstName).HeaderHtmlAttributes(new { title = "First Name" }).Title("First Name").Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.MiddleName).HeaderHtmlAttributes(new { title = "Middle Name" }).Title("Middle Name").Width(150);
                            columns.Bound(p => p.LastName).HeaderHtmlAttributes(new { title = "Last Name" }).Title("Last Name").Width(150);
                            columns.Bound(p => p.Email).HeaderHtmlAttributes(new { title = "Email" }).Width(150);
                            columns.Bound(p => p.ApplicationStatus).HeaderHtmlAttributes(new { title = "Application Status" }).Title("Status").Width(150);

                            columns.Bound(p => p.Step1).ClientTemplate("<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step1#\")'>#:StepNo1#</a>").Title("10.1.1 Fill forms, Sign documents – HR").HeaderHtmlAttributes(new { title = "10.1.1 Fill forms, Sign documents – HR" }).Width(150);
                            //columns.Bound(p => p.Step2).ClientTemplate("<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step2#\")'>#:StepNo2#</a>").Title("8.2.2 Provide Cash Voucher – HR").HeaderHtmlAttributes(new { title = "8.2.2 Provide Cash Voucher – HR" }).Width(150);
                            //columns.Bound(p => p.Step3).ClientTemplate("<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step3#\")'>#:StepNo3#</a>").Title("8.2.3 Upload Passport, Visa/Qatar ID in System – HR").HeaderHtmlAttributes(new { title = "8.2.3 Upload Passport, Visa/Qatar ID in System – HR" }).Width(150);
                            //columns.Bound(p => p.Step4).ClientTemplate("<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step4#\")'>#:StepNo4#</a>").Title("8.2.4 Update employee file in SAP – HR").HeaderHtmlAttributes(new { title = "8.2.4 Update employee file in SAP – HR" }).Width(150);
                            //columns.Bound(p => p.Step5).ClientTemplate("<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step5#\")'>#:StepNo5#</a>").Title("8.2.5 Conduct Induction – HR").HeaderHtmlAttributes(new { title = "8.2.5 Conduct Induction – HR" }).Width(150);
                            // columns.Bound(p => p.Step6).ClientTemplate("<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step6#\")'>#:StepNo6#</a>").Title("8.2.6 Confirm Induction Date to candidate - HR").Width(150);


                            //columns.Bound(p => p.TotalWorkExperience).Width(150);
                            //columns.Bound(p => p.ContactPhoneHome).Title("Mobile").Width(150);
                            //columns.Bound(p => p.Score).Width(150);
                            //columns.Bound(p => p.Gender).Width(150);
                            //columns.Bound(p => p.BirthDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.Age).Width(150);
                            //columns.Bound(p => p.BirthPlace).Width(150);
                            //columns.Bound(p => p.Nationality).Width(150);
                            //columns.Bound(p => p.BloodGroup).Width(150);
                            //columns.Bound(p => p.MaritalStatus).Width(150);
                            //columns.Bound(p => p.PassportNumber).Width(150);
                            //columns.Bound(p => p.PassportIssueCountry).Width(150);
                            //columns.Bound(p => p.PassportExpiryDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.QatarId).Width(150);
                            //columns.Bound(p => p.CurrentAddressHouse).Width(150);
                            //columns.Bound(p => p.CurrentAddressStreet).Width(150);
                            //columns.Bound(p => p.CurrentAddressCity).Width(150);
                            //columns.Bound(p => p.CurrentAddressState).Width(150);
                            //columns.Bound(p => p.CurrentAddressCountryName).Width(150);
                            //columns.Bound(p => p.PermanentAddressHouse).Width(150);
                            //columns.Bound(p => p.PermanentAddressStreet).Width(150);
                            //columns.Bound(p => p.PermanentAddressCity).Width(150);
                            //columns.Bound(p => p.PermanentAddressState).Width(150);
                            //columns.Bound(p => p.PermanentAddressCountryName).Width(150);

                            //columns.Bound(p => p.ContactPhoneLocal).Width(150);
                            //columns.Bound(p => p.CurrentEmployer).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentLocation).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentPosition).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentStartDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.CurrentEmploymentEndDate).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentResponsibilities).Width(300);

                            //columns.Bound(p => p.SalaryCurrencyName).Title("Salary Currency").Width(150);
                            ////columns.Bound(p => p.IndianSalary).Width(150);
                            ////columns.Bound(p => p.OverseasSalary).Width(150);
                            //columns.Bound(p => p.NetSalary).Title("Net Salary After Income Tax").Width(150);
                            //columns.Bound(p => p.OtherAllowance).Width(150);

                        })
                         //.ToolBar(toolbar =>
                         //{
                         //    toolbar.ClientTemplate("<button type='button' class='btn btn-primary' onclick='OnCreateMenuGroup();'><i class='fa fas fa-plus'></i>&nbsp;Create Menu Group</button>");
                         //})
                         //.Events(e => e.DataBound("OnDataBoundNot"))
                         .Events(e => e.DataBound("OnDataBound"))
                        .Scrollable().Height(700)
                        .Sortable()
                        .Resizable(resize => resize.Columns(true))
                        .Selectable(select => select.Enabled(false))
                        .Filterable(f => f.Extra(false)
                                          .Operators(o => o.ForString(s => s.Clear()
                                          .Contains("Contains")
                                          .IsEqualTo("Is equal to")
                                          )))
                        .Pageable(pageable => pageable
                        .Refresh(true)
                        .PageSizes(true)
                        .ButtonCount(5))
                        .AutoBind(true)
                        .DataSource(dataSource => dataSource
                        .Ajax()
                        .PageSize(10)
                         .Read(read => read.Action("GetJobAdvertismentApplication", "RecruitmentDashboard", new { jobAdvId = Model.JobId, orgId = Model.OrganizationId, state = Model.ApplicationState, tempcode = "WORKER_JOINING_FORMALITIES", permission = @ViewBag.Permissions }))
                        .Model(model => model.Id(p => p.Id))
                        )
          )
            }



            else if (Model.ApplicationState == "PostWorkerJoined")
            {
                @(Html.Kendo().Grid<ApplicationViewModel>
                        ().Name("kgrdCandInterview").Resizable(resize => resize.Columns(true))
                        .Columns(columns =>
                        {

                            columns.Bound(c => c.CandidateProfileId).ClientTemplate("<div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown' >Actions</button><ul class='dropdown-menu' role='menu'><li><button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button></li><br/>" +
           "<li><button class='btn btn-info' onclick='onReturnCandidatePool(\"#:ApplicationId#\",\"Rereviewed\",\"WORKER_JOINING_FORMALITIES\")'>Return to Candidate Pool</button></li><br/><li><button class='btn btn-info' onclick='OnApplication(\"#=CandidateProfileId#\",\"#:ApplicationId#\");'><i class='far fa-address-card'></i>&nbsp;View</button></li><br/><li><button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application Status Report</button></li><br/>" +
           "<li><button class='btn btn-info' onclick='onViewWorker(\"#:ApplicationId#\")'>Joining Report</button></li>" +
                 "<li><button class='btn btn-info' onclick='onViewPersonal(\"#:ApplicationId#\")'>PersonalData</button></li>"+
                 "<li><button class='btn btn-info' onclick='onViewDeclaration(\"#:ApplicationId#\")'>Nomination for Benefits</button></li>"+
                 "<li><button class='btn btn-info' onclick='onConfAgreement(\"#:ApplicationId#\")'>Confidentiality Agreement</button></li>"+
                 "<li><button class='btn btn-info' onclick='onViewCompetenceMatrix(\"#:ApplicationId#\")'>Competence Matrix Report</button></li></ul></div>").Width(150).Title("Actions").HeaderHtmlAttributes(new { title = "Actions" }).Locked(true).Lockable(false);
                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button>").Title("Comment").Width(150).Locked(true).Lockable(false);

                            //columns.Bound(c => c.CandidateProfileId).ClientTemplate("<a href='javascript:OnApplication(\"#=CandidateProfileId#\");'><i class='far fa-address-card btn-link'></i>&nbsp;View</a>").Title("View").Width(100).Locked(true).Lockable(false);

                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application State Report</button>").Title("Application State Report").Width(180).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='onAddSourcing(\"#:ApplicationId#\")'>Edit</button>").Title("").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='onViewWorker(\"#:ApplicationId#\")'>Workers</button>").Title("").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='onViewPersonal(\"#:ApplicationId#\")'>PersonalData</button>").Title("").Width(150).Locked(true).Lockable(false);
                            //columns.Bound(c => c.ApplicationId).ClientTemplate("<button class='btn btn-info' onclick='onViewDeclaration(\"#:ApplicationId#\")'>Declaration</button>").Title("").Width(150).Locked(true).Lockable(false);

                            // columns.Bound(c => c.ApplicationState).ClientTemplate("<button class='btn btn-info' onclick='UpdateStatus(\"#:CandidateType#\",\"#:ApplicationStatusCode#\",\"#:ApplicationId#\",\"#:CandidateProfileId#\",\"Joined\")'>Joined</button>").Title("Action").Width(280).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationNo).Title("Application No").HeaderHtmlAttributes(new { title = "Application No" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.PositionName).Title("Position Name").HeaderHtmlAttributes(new { title = "Position Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.OrganizationName).Title("Organization Name").HeaderHtmlAttributes(new { title = "Organization Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.BatchName).Title("Batch").HeaderHtmlAttributes(new { title = "Batch" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationStateName).HeaderHtmlAttributes(new { title = "Application State Name" }).Title("Application State").Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.FirstName).HeaderHtmlAttributes(new { title = "First Name" }).Title("First Name").Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.MiddleName).HeaderHtmlAttributes(new { title = "Middle Name" }).Title("Middle Name").Width(150);
                            columns.Bound(p => p.LastName).HeaderHtmlAttributes(new { title = "Last Name" }).Title("Last Name").Width(150);
                            columns.Bound(p => p.Email).HeaderHtmlAttributes(new { title = "Email" }).Width(150);
                            columns.Bound(p => p.ApplicationStatus).HeaderHtmlAttributes(new { title = "Application Status" }).Title("Status").Width(150);

                            //columns.Bound(p => p.Step1).ClientTemplate("<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step1#\")'>#:StepNo1#</a>").Title("8.2.1 Fill forms, Sign documents – HR").HeaderHtmlAttributes(new { title = "8.2.1 Fill forms, Sign documents – HR" }).Width(150);
                            columns.Bound(p => p.Step2).ClientTemplate("#if(StepNo2!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step2#\")'>#:StepNo2#</a>#}#").Title("13.1 Provide Cash Voucher – HR").HeaderHtmlAttributes(new { title = "13.1 Provide Cash Voucher – HR" }).Width(150);
                            columns.Bound(p => p.Step3).ClientTemplate("#if(StepNo3!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step3#\")'>#:StepNo3#</a>#}#").Title("13.2 Upload Passport, Visa/Qatar ID in System – HR").HeaderHtmlAttributes(new { title = "13.2 Upload Passport, Visa/Qatar ID in System – HR" }).Width(150);
                            columns.Bound(p => p.Step4).ClientTemplate("#if(StepNo4!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step4#\")'>#:StepNo4#</a>#}#").Title("13.3 Update employee file in SAP – HR").HeaderHtmlAttributes(new { title = "13.3 Update employee file in SAP – HR" }).Width(150);
                            columns.Bound(p => p.Step5).ClientTemplate("#if(StepNo5!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step5#\")'>#:StepNo5#</a>#}#").Title("13.4 Conduct Induction – HR").HeaderHtmlAttributes(new { title = "13.4 Conduct Induction – HR" }).Width(150);
                            columns.Bound(p => p.Step6).ClientTemplate("#if(StepNo6!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step6#\")'>#:StepNo6#</a>#}#").Title("13.5 Confirm/Reject/Extend Probation Date – HM").HeaderHtmlAttributes(new { title = "13.5 Confirm/Reject/Extend Probation Date – HM" }).Width(150);
                            columns.Bound(p => p.Step7).ClientTemplate("#if(StepNo7!=null){#<a style='cursor:pointer;color:blue' onclick='onViewTask(\"#:Step7#\")'>#:StepNo7#</a>#}#").Title("13.6 Confirm/Reject/Extend Probation Date – HR").HeaderHtmlAttributes(new { title = "13.6 Confirm/Reject/Extend Probation Date – HR" }).Width(150);


                            //columns.Bound(p => p.TotalWorkExperience).Width(150);
                            //columns.Bound(p => p.ContactPhoneHome).Title("Mobile").Width(150);
                            //columns.Bound(p => p.Score).Width(150);
                            //columns.Bound(p => p.Gender).Width(150);
                            //columns.Bound(p => p.BirthDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.Age).Width(150);
                            //columns.Bound(p => p.BirthPlace).Width(150);
                            //columns.Bound(p => p.Nationality).Width(150);
                            //columns.Bound(p => p.BloodGroup).Width(150);
                            //columns.Bound(p => p.MaritalStatus).Width(150);
                            //columns.Bound(p => p.PassportNumber).Width(150);
                            //columns.Bound(p => p.PassportIssueCountry).Width(150);
                            //columns.Bound(p => p.PassportExpiryDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.QatarId).Width(150);
                            //columns.Bound(p => p.CurrentAddressHouse).Width(150);
                            //columns.Bound(p => p.CurrentAddressStreet).Width(150);
                            //columns.Bound(p => p.CurrentAddressCity).Width(150);
                            //columns.Bound(p => p.CurrentAddressState).Width(150);
                            //columns.Bound(p => p.CurrentAddressCountryName).Width(150);
                            //columns.Bound(p => p.PermanentAddressHouse).Width(150);
                            //columns.Bound(p => p.PermanentAddressStreet).Width(150);
                            //columns.Bound(p => p.PermanentAddressCity).Width(150);
                            //columns.Bound(p => p.PermanentAddressState).Width(150);
                            //columns.Bound(p => p.PermanentAddressCountryName).Width(150);

                            //columns.Bound(p => p.ContactPhoneLocal).Width(150);
                            //columns.Bound(p => p.CurrentEmployer).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentLocation).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentPosition).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentStartDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.CurrentEmploymentEndDate).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentResponsibilities).Width(300);

                            //columns.Bound(p => p.SalaryCurrencyName).Title("Salary Currency").Width(150);
                            ////columns.Bound(p => p.IndianSalary).Width(150);
                            ////columns.Bound(p => p.OverseasSalary).Width(150);
                            //columns.Bound(p => p.NetSalary).Title("Net Salary After Income Tax").Width(150);
                            //columns.Bound(p => p.OtherAllowance).Width(150);

                        })
                         //.ToolBar(toolbar =>
                         //{
                         //    toolbar.ClientTemplate("<button type='button' class='btn btn-primary' onclick='OnCreateMenuGroup();'><i class='fa fas fa-plus'></i>&nbsp;Create Menu Group</button>");
                         //})
                         //.Events(e => e.DataBound("OnDataBoundNot"))
                         .Events(e => e.DataBound("OnDataBound"))
                        .Scrollable().Height(700)
                        .Sortable()
                        .Resizable(resize => resize.Columns(true))
                        .Selectable(select => select.Enabled(false))
                        .Filterable(f => f.Extra(false)
                                          .Operators(o => o.ForString(s => s.Clear()
                                          .Contains("Contains")
                                          .IsEqualTo("Is equal to")
                                          )))
                        .Pageable(pageable => pageable
                        .Refresh(true)
                        .PageSizes(true)
                        .ButtonCount(5))
                        .AutoBind(true)
                        .DataSource(dataSource => dataSource
                        .Ajax()
                        .PageSize(10)
                         .Read(read => read.Action("GetJobAdvertismentApplication", "RecruitmentDashboard", new { jobAdvId = Model.JobId, orgId = Model.OrganizationId, state = Model.ApplicationState, tempcode = "WORKER_JOINING_FORMALITIES", tempCodeOther= "WORKER_CONFIRM_PROBATION_DATE", permission = @ViewBag.Permissions }))
                        .Model(model => model.Id(p => p.Id))
                        )
          )
            }
            else if (Model.ApplicationState == "Joined")
            {
                @(Html.Kendo().Grid<ApplicationViewModel>
                        ().Name("kgrdCandInterview").Resizable(resize => resize.Columns(true))
                        .Columns(columns =>
                        {

                            columns.Bound(c => c.CandidateProfileId).ClientTemplate("<div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown' >Actions</button><ul class='dropdown-menu' role='menu'><li><button class='btn btn-info' onclick='onAddComment(\"#:ApplicationId#\",\"#:ApplicationState#\")'>Add Comment</button></li><br><li><button class='btn btn-info' onclick='OnApplication(\"#=CandidateProfileId#\",\"#:ApplicationId#\");'><i class='far fa-address-card'></i>&nbsp;View</button></li><br><li><button class='btn btn-info' onclick='OnViewAppStateTrack(\"#:ApplicationId#\")'>Application Status Report</button></li><br/></ul></div>").Width(150).Title("Actions").HeaderHtmlAttributes(new { title = "Actions" }).HtmlAttributes(new { style = "text-align:center" }).Locked(true).Lockable(false);
                            columns.Bound(p => p.ApplicationNo).Title("Application No").HeaderHtmlAttributes(new { title = "Application No" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.PositionName).Title("Position Name").HeaderHtmlAttributes(new { title = "Position Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.OrganizationName).Title("Organization Name").HeaderHtmlAttributes(new { title = "Organization Name" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.BatchName).Title("Batch").HeaderHtmlAttributes(new { title = "Batch" }).Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.GaecNo).HeaderHtmlAttributes(new { title = "GAEC No" }).Title("GAEC No").Width(120).Locked(true).Lockable(false);
                            columns.Bound(p => p.FirstName).HeaderHtmlAttributes(new { title = "First Name" }).Title("First Name").Width(150).Locked(true).Lockable(false);
                            columns.Bound(p => p.MiddleName).HeaderHtmlAttributes(new { title = "Middle Name" }).Title("Middle Name").Width(150);
                            columns.Bound(p => p.LastName).HeaderHtmlAttributes(new { title = "Last Name" }).Title("Last Name").Width(150);
                            columns.Bound(p => p.JoiningDate).HeaderHtmlAttributes(new { title = "Joining Date" }).Title("Joining Date").Width(150).Format("{0:dd MMM yyyy}");
                            columns.Bound(p => p.Email).HeaderHtmlAttributes(new { title = "Email" }).Width(150);


                            //columns.Bound(p => p.TotalWorkExperience).Width(150);
                            columns.Bound(p => p.ContactPhoneHome).HeaderHtmlAttributes(new { title = "Mobile" }).Title("Mobile").Width(150);
                            //columns.Bound(p => p.Score).Width(150);
                            columns.Bound(p => p.Gender).HeaderHtmlAttributes(new { title = "Gender" }).Width(150);
                            //columns.Bound(p => p.BirthDate).Width(150).Format("{0:MM/dd/yyyy}");
                            columns.Bound(p => p.Age).HeaderHtmlAttributes(new { title = "Age" }).Width(150);
                            //columns.Bound(p => p.BirthPlace).Width(150);
                            columns.Bound(p => p.Nationality).HeaderHtmlAttributes(new { title = "Nationality" }).Width(150);
                            columns.Bound(p => p.BloodGroup).HeaderHtmlAttributes(new { title = "BloodGroup" }).Width(150);
                            //columns.Bound(p => p.MaritalStatus).Width(150);
                            columns.Bound(p => p.PassportNumber).HeaderHtmlAttributes(new { title = "Passport Number" }).Width(150);
                            columns.Bound(p => p.PassportIssueCountry).HeaderHtmlAttributes(new { title = "Passport Issue Country" }).Width(150);
                            columns.Bound(p => p.PassportExpiryDate).HeaderHtmlAttributes(new { title = "Passport Expiry Date" }).Width(150).Format("{0:MM/dd/yyyy}");
                            columns.Bound(p => p.QatarId).HeaderHtmlAttributes(new { title = "Qatar Id" }).Width(150);
                            columns.Bound(p => p.CurrentAddressHouse).HeaderHtmlAttributes(new { title = "Current Address House" }).Width(150);
                            columns.Bound(p => p.CurrentAddressStreet).HeaderHtmlAttributes(new { title = "Current Address Street" }).Width(150);
                            columns.Bound(p => p.CurrentAddressCity).HeaderHtmlAttributes(new { title = "Current Address City" }).Width(150);
                            columns.Bound(p => p.CurrentAddressState).HeaderHtmlAttributes(new { title = "Current Address State" }).Width(150);
                            columns.Bound(p => p.CurrentAddressCountryName).HeaderHtmlAttributes(new { title = "Current Address Country Name" }).Width(150);
                            columns.Bound(p => p.PermanentAddressHouse).HeaderHtmlAttributes(new { title = "Permanent Address House" }).Width(150);
                            columns.Bound(p => p.PermanentAddressStreet).HeaderHtmlAttributes(new { title = "Permanent Address Street" }).Width(150);
                            columns.Bound(p => p.PermanentAddressCity).HeaderHtmlAttributes(new { title = "Permanent Address City" }).Width(150);
                            columns.Bound(p => p.PermanentAddressState).HeaderHtmlAttributes(new { title = "Permanent Address State" }).Width(150);
                            columns.Bound(p => p.PermanentAddressCountryName).HeaderHtmlAttributes(new { title = "Permanent Address Country Name" }).Width(150);

                            //columns.Bound(p => p.ContactPhoneLocal).Width(150);
                            //columns.Bound(p => p.CurrentEmployer).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentLocation).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentPosition).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentStartDate).Width(150).Format("{0:MM/dd/yyyy}");
                            //columns.Bound(p => p.CurrentEmploymentEndDate).Width(150);
                            //columns.Bound(p => p.CurrentEmploymentResponsibilities).Width(300);

                            //columns.Bound(p => p.SalaryCurrencyName).Title("Salary Currency").Width(150);
                            ////columns.Bound(p => p.IndianSalary).Width(150);
                            ////columns.Bound(p => p.OverseasSalary).Width(150);
                            //columns.Bound(p => p.NetSalary).Title("Net Salary After Income Tax").Width(150);
                            //columns.Bound(p => p.OtherAllowance).Width(150);

                        })
                         //.ToolBar(toolbar =>
                         //{
                         //    toolbar.ClientTemplate("<button type='button' class='btn btn-primary' onclick='OnCreateMenuGroup();'><i class='fa fas fa-plus'></i>&nbsp;Create Menu Group</button>");
                         //})
                         //.Events(e => e.DataBound("OnDataBoundNot"))
                         .Events(e => e.DataBound("OnDataBound"))
                        .Scrollable().Height(700)
                        .Sortable()
                        .Resizable(resize => resize.Columns(true))
                        .Selectable(select => select.Enabled(false))
                        .Filterable(f => f.Extra(false)
                                          .Operators(o => o.ForString(s => s.Clear()
                                          .Contains("Contains")
                                          .IsEqualTo("Is equal to")
                                          )))
                        .Pageable(pageable => pageable
                        .Refresh(true)
                        .PageSizes(true)
                        .ButtonCount(5))
                        .AutoBind(true)
                        .DataSource(dataSource => dataSource
                        .Ajax()
                        .PageSize(10)
                        .Read(read => read.Action("ReadJobAdvertisementData", "RecruitmentDashboard", new { jobAdvId = Model.JobId, orgId = Model.OrganizationId, state = Model.ApplicationState, permission = @ViewBag.Permissions }))
                        .Model(model => model.Id(p => p.Id))
                        )
          )
            }*@




        </div>
    </div>

    @Html.HiddenFor(x => x.OrganizationId)
    @Html.HiddenFor(x => x.JobId)
    @*@Html.HiddenFor(x => x.ManpowerTypeCode)*@


</div>





