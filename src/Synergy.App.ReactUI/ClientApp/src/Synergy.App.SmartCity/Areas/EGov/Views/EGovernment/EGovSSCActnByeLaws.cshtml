@using Synergy.App.ViewModel;
@using Synergy.App.Common;
@*@using Kendo.Mvc.UI;*@
@using Newtonsoft.Json;

@{
    Layout = null;
}

@model List<EGOVBannerViewModel>

    <style>
        .carousel {
            position: relative;
        }

        .carousel-indicators {
            position: absolute;
            right: 0;
            bottom: 0;
            left: 0;
            z-index: 15;
            display: flex;
            justify-content: center;
            padding-left: 0;
            margin-right: 15%;
            margin-left: 15%;
            list-style: none;
        }

        .carousel-inner {
            position: relative;
            width: 100%;
            overflow: hidden;
        }

        .carousel-item {
            position: relative;
            display: none;
            float: left;
            width: 100%;
            margin-right: -100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            transition: transform .6s ease-in-out;
        }

        .carousel-caption {
            position: absolute;
            right: 15%;
            bottom: 1.25rem;
            left: 15%;
            padding-top: 1.25rem;
            padding-bottom: 1.25rem;
            color: #fff;
            text-align: center;
        }

        .carousel-control-prev {
            /*left: 0;*/
        }

        .carousel-control-next, .carousel-control-prev {
            position: absolute;
            top: 0;
            bottom: 0;
            z-index: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 15%;
            padding: 0;
            color: #fff;
            text-align: center;
            background: 0 0;
            border: 0;
            opacity: .5;
            transition: opacity .15s ease;
        }

        .carousel-control-next-icon, .carousel-control-prev-icon {
            display: inline-block;
            width: 2rem;
            height: 2rem;
            background-repeat: no-repeat;
            background-position: 50%;
            background-size: 100% 100%;
        }


        .carousel .carousel-control-prev-icon {
            /* change fill="currentColor" to %23fff to make it white  */


            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="%53fff"><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256S114.6 512 256 512s256-114.6 256-256zM271 135c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-87 87 87 87c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L167 273c-9.4-9.4-9.4-24.6 0-33.9L271 135z"/></svg>');
        }

        .carousel .carousel-control-next-icon {
            /* change fill="currentColor" to %23fff to make it white  */
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="%53fff"><path d="M0 256C0 397.4 114.6 512 256 512s256-114.6 256-256S397.4 0 256 0S0 114.6 0 256zM241 377c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l87-87-87-87c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L345 239c9.4 9.4 9.4 24.6 0 33.9L241 377z"/></svg>');
        }


        /*.carousel-control-next-icon, .carousel-control-prev-icon {*/
        /* Use to adjust size of icons */
        /*width: 3rem;
            height: 3rem;
        }*/

    </style>

    <script>
        function onOpenFiles(id) {
            url = '/cms/Document/GetFileMongo?fileId=' + id;
            window.open(url, '_blank');
            return false;
        }
    </script>

    <div class="row" id="lawsBannerDiv" style="display:block;">
        <!-- Carousel -->
        <div id="carouselIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                @*<li data-target="#carouselIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselIndicators" data-slide-to="1"></li>
                <li data-target="#carouselIndicators" data-slide-to="2"></li>*@
                @for (var i = 0; i < ViewBag.ImageList.Count; i++)
                {

                    @if (i == 0)
                    {
                        <li data-target="#carouselIndicators" data-slide-to="@i" class="active"></li>
                    }
                    else
                    {
                        <li data-target="#carouselIndicators" data-slide-to="@i"></li>
                    }
                }
            </ol>
            <div class="carousel-inner" style="height:30vw;">
                @*<div class="carousel-item active">
                    <img class="d-block w-100" style="width:100%" src="~/images/EGOV/act01.jpg" alt="First slide">
                </div>
                <div class="carousel-item">
                    <img class="d-block w-100" style="width:100%" src="~/images/EGOV/act02.jpg" alt="Second slide">
                </div>
                <div class="carousel-item">
                    <img class="d-block w-100" style="width:100%" src="~/images/EGOV/act03.jpg" alt="Third slide">
                </div>*@
                @for (var i = 0; i < ViewBag.ImageList.Count; i++)
                {

                    @if (i == 0)
                    {
            <div class="carousel-item active">
                <img class="d-block w-100 img-fluid" style="width:100%" src="/cms/Document/GetImageMongo?id=@ViewBag.ImageList[i]" onerror="OnDocumentError(this);" alt="First slide">
            </div>
                    }
                    else
                    {
            <div class="carousel-item">
                <img class="d-block w-100 img-fluid" style="width:100%"  src="/cms/Document/GetImageMongo?id=@ViewBag.ImageList[i]" onerror="OnDocumentError(this);">
            </div>
                    }
                }
            </div>
            
            <a class="carousel-control-prev" href="#carouselIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>

    <div class="row py-5">
        <div class="col-12">
            <h5 style="text-align:left;"><u>Acts and Bye-Laws </u></h5>
            @if (Model.Count > 0)
            {

                foreach (var item in Model)
                {
                    if (item.FileId.IsNotNullAndNotEmpty())
                    {
                        <a href="#" onclick="onOpenFiles('@item.FileId');" style="text-decoration:none;color:inherit;"><p style="text-align:left;">@item.Name</p></a>
                    }
                    else
                    {
                        <p style="text-align:left;">@item.Name</p>
                    }
                }
            }
        </div>
    </div>