@*@using Kendo.Mvc.UI*@
@model Synergy.App.ViewModel.LoginViewModel
@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewBag.Title</title>
    @*<link rel="icon" type="image/x-icon" href="~/images/galfaricon.jpeg" />*@
    @if (ViewBag.FavIconId != null)
    {
        <link rel="icon" type="image/x-icon" href="/Cms/document/getimagemongo?id=@ViewBag.FavIconId" />
    }
    @*<environment names="Development">
            <link rel="stylesheet" href="~/lib/bootstrap/css/bootstrap.min.css" />
            <link rel="stylesheet" href="~/css/layout.css" />
            <link rel="stylesheet" href="~/css/site.css" />
            <link rel="stylesheet" href="~/css/floating-labels.css" />
            <link rel="stylesheet" href="~/css/jquery-splitter.css" />
            <link href="~/lib/font-awesome/css/all.min.css" rel="stylesheet" type="text/css">
            <link rel="stylesheet" href="~/css/Rec/recruitment.css">
        </environment>
        <environment names="Staging,Production">
            <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
                  asp-fallback-href="~/lib/bootstrap/css/bootstrap.min.css"
                  asp-fallback-test-class="sr-only" asp-fallback-test-property="position" asp-fallback-test-value="absolute" />
            <link rel="stylesheet" href="~/css/site.min.css" asp-append-version="true" />
        </environment>*@

    <link rel="stylesheet" href="~/lib/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/layout.css" />
    <link rel="stylesheet" href="~/css/site.css" />
    <link rel="stylesheet" href="~/css/floating-labels.css" />
    <link rel="stylesheet" href="~/css/jquery-splitter.css" />
    <link href="~/lib/font-awesome/css/all.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="~/css/Rec/recruitment.css">
    @*<link href="~/Themes/Recruitment/css/bootstrap-theme.css" rel="stylesheet">*@
    <link href="~/Themes/HR/css/elegant-icons-style.css" rel="stylesheet" />
    <link href="~/Themes/HR/css/style.css" rel="stylesheet">
    <link href="~/Themes/HR/css/style-responsive.css" rel="stylesheet" />
    <link href="~/Themes/HR/css/line-icons.css" rel="stylesheet" />

    <link href="https://kendo.cdn.telerik.com/2021.1.224/styles/kendo.bootstrap-v4.min.css" rel="stylesheet" type="text/css" />
    <script src="https://kendo.cdn.telerik.com/2021.1.224/js/jquery.min.js"></script>
    <script src="https://kendo.cdn.telerik.com/2021.1.224/js/jszip.min.js"></script>
    <script src="https://kendo.cdn.telerik.com/2021.1.224/js/kendo.all.min.js"></script>
    <script src="https://kendo.cdn.telerik.com/2021.1.224/js/kendo.aspnetmvc.min.js"></script>

    <link rel="stylesheet" href="https://cdn.syncfusion.com/ej2/material.css" />

    <script src="https://cdn.syncfusion.com/ej2/dist/ej2.min.js"></script>
    <script src="~/js/jquery-splitter.js"></script>

    <style>
        #content-wrapper {
            background-color: #fff !important;
        }
    </style>

    <script type="text/javascript">
        var iframeOpenUrl = "";
        function OnLogout() {
            document.getElementById("logout").submit();
        }
        function OpenChangePassowrd() {
            OpenIframeModal('/account/changepassword', 'Change Password', 350, 700);
        }
        function OpenBreResultViewDetails() {
            OpenIframeModal('/bre/BreResultViewDetails', 'View Details', 450, 700);
        }

        function OpenIframeModal(url, title, width, height) {

            ShowLoader($('.modal-body'));
            var iframe = document.createElement('iframe');
            iframe.setAttribute('url', '');
            iframe.setAttribute('frameborder', '0');
            iframe.setAttribute('scrolling', 'no');
            //iframe.setAttribute('width', width);
            //iframe.setAttribute('height', height);
            iframe.onload = function () {
                var h = iframe.contentWindow.document.body.scrollHeight;
                var w = iframe.contentWindow.document.body.scrollWidth;
                iframe.style.height = h + 'px';
                iframe.style.width = w + 'px';
                var mw = eval(w + 30);
                if (width > mw) {
                    mw = width;
                }
                if (height > h) {
                    h = height;
                }
                $('.modal-dialog').css({
                    width: mw + 'px', //probably not needed
                    height: h + 'px', //probably not needed
                    'max-height': '90%'
                });
                HideLoader($('.modal-body'));
            };
            iframe.src = url;
            document.getElementById('iframeDiv').innerHTML = '';
            document.getElementById('iframeDiv').appendChild(iframe);
            //$('#modalIframe').attr('src', '');
            $('#iframeModal').modal({ show: true });
            $('#iframeModal').on('shown.bs.modal', function () {

                $('#modalIframe').attr('src', url);

            })
        };

        function CloseIframeModal(reloadParent) {
            $('#iframeModal').modal('hide');
            if (reloadParent) {
                //window.location.href = window.location.href;
            }
        }
        function ShowLoader(target) {
            target.loadingOverlay();
        }
        function HideLoader(target) {
            target.loadingOverlay('remove');
        }

        function ToggleLoader(target) {
            if (target.hasClass('loading')) {
                target.loadingOverlay('remove');
                //target.loadingOverlay('remove', {
                //    iconClass: 'fa fa-spinner fa-spin'
                //});
            } else {
                target.loadingOverlay();
                //target.loadingOverlay({
                //    iconClass: 'fa fa-spinner fa-spin'
                //});

            };
        }



        function OpenIframePopup(w, h, t) {
            var wnd = $("#kiframepopupwindow").data("kendoWindow");
            wnd.setOptions({
                width: GetW(w),
                height: GetH(h),
                title: t
            });

            wnd.center().open();
            wnd.wrapper.find('.k-window-titlebar').css({
                'background-color': 'transparent',
                'border-bottom-style': 'none',
                'color': 'rgb(193, 151, 42)'
            });
        }
        function CloseIframePopup() {
            var wnd = $("#kiframepopupwindow").data("kendoWindow");
            if (wnd != null) {
                wnd.close();
            }
            return false;
        }
        function GetW(w) {
            return $(window).width() > w ? w : $(window).width() - 80;
        }
        function GetH(h) {
            return $(window).height() > h ? h : $(window).height() - 80;
        }
        function OnIframeActivate(e) {
            e.preventDefault();
            var wnd = $("#kiframepopupwindow").data("kendoWindow");
            ActiveWindow = this;
            wnd.refresh({
                url: iframeOpenUrl,
                cache: false,
                type: "GET"
            });
        }
        function OnIframeOpen(e) {
            kendo.ui.progress(e.sender.element, true);
        }

        function OnIframeClose(e) {
            try {
                var pop1 = window.parent.GetIframePopup();
                pop1.PopupClose();
                var url = window.location.href;
                if (url.includes('&documentId')) {
                    window.location.href = url.split('&documentId')[0];
                }
            } catch (x) {

            }
        }
        function OnIframeRefresh(e) {
            kendo.ui.progress(e.sender.element, false);
        }
        function OnIframeDeactivate(e) {
            var wnd = $("#kiframepopupwindow").data("kendoWindow");
            wnd.content("");
        }

        function OnIframeClose2(e) {
            try {
                var pop2 = window.parent.GetIframePopup();
                pop2.PopupClose2();
            } catch (x) {

            }
        }
        function OpenIframePopup2(w, h, t) {
            var wnd = $("#kiframepopupwindow2").data("kendoWindow");
            wnd.setOptions({
                width: GetW(w),
                height: GetH(h),
                title: t
            });
            wnd.center().open();
            wnd.wrapper.find('.k-window-titlebar').css({
                'background-color': 'transparent',
                'border-bottom-style': 'none',
                'color': 'rgb(193, 151, 42)'
            });

        }
        function CloseIframePopup2() {
            var wnd = $("#kiframepopupwindow2").data("kendoWindow");
            if (wnd != null) {
                wnd.close();
            }
            return false;
        }
        function OnIframeActivate2(e) {
            e.preventDefault();
            var wnd = $("#kiframepopupwindow2").data("kendoWindow");
            ActiveWindow = this;
            wnd.refresh({
                url: iframeOpenUrl,
                cache: false,
                type: "GET"
            });
        }
        function OnIframeOpen2(e) {
            kendo.ui.progress(e.sender.element, true);
        }
        function OnIframeRefresh2(e) {
            kendo.ui.progress(e.sender.element, false);
        }
        function OnIframeDeactivate2(e) {
            var wnd = $("#kiframepopupwindow2").data("kendoWindow");
            wnd.content("");
        }
        function GetIframePopup2() {
            var windowElement = $("#kiframepopupwindow2");
            var iframeDomElement = windowElement.children("iframe")[0];
            var iframeWindowObject = iframeDomElement.contentWindow;
            return iframeWindowObject;
        }
        function PhotoError(obj) {
            obj.onerror = null;
            obj.src = '/images/profile.jpg';

        };
        function LogoError(obj) {
            //console.log($(obj).parent());
            // obj.src = '/images/logo.png';
            //$(obj).parent().css('padding-top', '15px');
            //$(obj).parent().css('padding-left', '0px');
            obj.onerror = null;
            $(obj).hide();


        };
        function ToggleSideBar(e) {
            if ($('#sidebar-toggler').hasClass('fa-angle-left')) {
                $('#sidebar-toggler').removeClass('fa-angle-left').addClass('fa-angle-right');
            }
            else {
                $('#sidebar-toggler').removeClass('fa-angle-right').addClass('fa-angle-left');
            }
            return true;

        }
    </script>
</head>

<body>
    @* class="login-img3-body">

        <div class="container">

            <form class="login-form" id="loginform" asp-action="Login" asp-controller="Account" method="post" asp-area="">
                <div asp-validation-summary="All" class="text-danger"></div>
                <div class="login-wrap">
                    <p class="login-img"><i class="icon_lock_alt"></i></p>

                    <div class="input-group">
                        <span class="input-group-addon"><i class="icon_profile"></i></span>
                        <input asp-for="Email" class="form-control" placeholder="Email" type="text" required="required" autofocus />
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon"><i class="icon_key_alt"></i></span>
                        <input asp-for="Password" placeholder="Password" class="form-control password" type="password" required="required" id="pwd" />
                    </div>
                    <label class="checkbox">
                        <input asp-for="RememberMe" />
                        @Html.DisplayNameFor(m => m.RememberMe)
                        <span class="pull-right"> <a href="#"> Forgot Password?</a></span>
                    </label>
                    <button class="btn btn-primary btn-lg btn-block" type="submit">Login</button>
                    <input asp-for="LoginViewName" type="hidden" />
                    <input asp-for="PortalId" type="hidden" />
                    <input asp-for="ReturnUrl" type="hidden" />
                </div>
            </form>

        </div>*@
    <div class="container main-bg">
        <form class="" id="loginform" asp-action="Login" asp-controller="Account" method="post" asp-area="">
            <div asp-validation-summary="All" class="text-danger"></div>
            <div class="main-bg">

                <div class="row login-body login-bg" style="background-image: url(../images/login-bg-galfar.png);">
                    <div class="col sm-hide">
                        <div class="login-body-form" ></div>
                    </div>
                    <div class="col-sm-6" style="float:right;">
                        <div class="login-body-form" style="padding-left:10px;">
                            <div class="row">
                                <div class="col" style="padding:0;">
                                    <h5 style="font-weight: 500;">User Login</h5>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col email-tgap">
                                    <input asp-for="Email" type="text" class="round-text-box" placeholder="Email" required="required" autofocus>
                                    <div class="img-email"><img src="~/images/ico-email.png"></div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col pwd-tgap">
                                    <input asp-for="Password" type="password" class="round-text-box" placeholder="Password" required="required" id="pwd">
                                    <div class="img-email"><img src="~/images/ico-pwd.png"></div>
                                </div>
                            </div>
                            <div class="row">
                                @*<div class="col pwd-tgap text-center"><img src="~/images/but-login.png" style="/*width: 366px;*//*text-align: center;*/"></div>*@
                                <input class="col pwd-tgap text-center" type="image" src="~/images/but-login.png" value="Save" />
                            </div>
                            <div class="row">
                                <div class="col pwd-tgap text-center">
                                    <div class="form-check"><input asp-for="RememberMe" class="form-check-input" type="checkbox" id="formCheck-1"><label class="form-check-label" style="font-weight: 500;" for="formCheck-1">Remember me<br></label></div>
                                </div>
                                <div class="col pwd-tgap text-center "><label class="form-label forgot-pwd"><a style="color:white;font-weight: 500;" href="/account/forgotpassword?portalId=@Model.PortalId">Forgot Password?</a></label></div>
                            </div>
                            <input asp-for="LoginViewName" type="hidden" />
                            <input asp-for="PortalId" type="hidden" />
                            <input asp-for="ReturnUrl" type="hidden" />
                        </div>
                    </div>
                </div>
        
    </div>
         </form>   
</div>

<environment names="Development">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>

</environment>
<environment names="Staging,Production">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
            asp-fallback-src="~/lib/bootstrap/js/bootstrap.min.js"
            asp-fallback-test="window.jQuery && window.jQuery.fn && window.jQuery.fn.modal"></script>
    <script src="~/js/popper.js"></script>
</environment>
<script src="~/lib/jquery-easing/jquery.easing.min.js"></script>
<script src="~/js/layout.js"></script>
<script src="~/js/site.js"></script>

<script src="~/lib/loading-overlay/loading-overlay.min.js"></script>
<script src="~/lib/jquery-context-menu/dist/jquery.contextMenu.min.js"></script>
<script src="~/lib/jquery-context-menu/dist/jquery.ui.position.min.js"></script>
<link rel="stylesheet" href="~/lib/jquery-context-menu/dist/jquery.contextMenu.min.css">


<script src="~/Themes/HR/js/jquery.nicescroll.js" type="text/javascript"></script>
<script src="~/Themes/HR/js/jquery-ui-1.9.2.custom.min.js"></script>
<script src="~/Themes/HR/js/scripts.js"></script>
</body>


</html>