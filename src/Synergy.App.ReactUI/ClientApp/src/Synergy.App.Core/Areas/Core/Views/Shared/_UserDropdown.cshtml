@using Synergy.App.ViewModel;
@using Synergy.App.Common;

@model Tuple<string, string, string, string>
@{
    //Layout = null;
    Layout = null;// "~/Areas/Core/Views/Shared/_PopupLayout.cshtml";
}

<script>
    $(document).ready(function () {
           $("#@Model.Item2").kendoDropDownList({
                                                            optionLabel: "All",
                                                            dataTextField: "Name",
                                                            dataValueField: "Id",
                                                            filter: "contains",
               height: 400,
               value:'@Model.Item1',
			                                                autoBind: true,
                                                            dataSource: {
                                                                 transport: {
                                                                    read: {
                                                                         url: "/Cms/User/ReadUserData",
                                                                     }
                                                                 }
                                                            }
                                                        });
    });
</script>
<input id="@Model.Item2" style="width:100%;"/>


@*@(Html.Kendo().DropDownList().Name(Model.Item2).Value(Model.Item1)
                .OptionLabel("select")
                .Filter(FilterType.Contains)
                .DataTextField("Name")
                .DataValueField("Id")
                .Height(400)
                .TemplateId("drp-user-template")
                //.ValueTemplateId("drp-user-value-template")
                .HtmlAttributes(new { @class =$"drp-user {Model.Item4}"  })
                .DataSource(source =>
                {

                    source.Read(read =>
                    {
                        read.Action("ReadUserData", "User", new { @area = "Cms" });
                    });
                    //source.Custom()
                    //     .ServerFiltering(true)
                    //    .ServerPaging(true)
                    //    .PageSize(100)
                    //    .Type("aspnetmvc-ajax")
                    //    .Transport(transport =>
                    //    {
                    //        transport.Read("ReadUserData", "User", new { @area = "Cms" });
                    //    })
                    //    .Schema(schema =>
                    //    {
                    //        schema.Data("Data")
                    //        .Total("Total");
                    //    });
                })
                 .Events(events => events.Filtering(
    @<text>
        function(e) {
           var filterValue = e.filter != undefined ? e.filter.value : "";
                e.preventDefault();

              this.dataSource.filter({
                logic: "or",
                filters: [
                  {
                    field: "Name",
                    operator: "contains",
                    value: filterValue
                  },
                  {
                    field: "Email",
                    operator: "contains",
                    value: filterValue
                  }
                ]
              });
        }
        </text>
        ))
                )*@


