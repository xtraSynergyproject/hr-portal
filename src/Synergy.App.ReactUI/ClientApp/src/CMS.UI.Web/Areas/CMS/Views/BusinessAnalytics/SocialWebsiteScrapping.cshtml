@{
    ViewData["Title"] = "Dashboard";
    //Layout = "~/Areas/CMS/Views/Shared/_LayoutCms1.cshtml";
    Layout = ViewBag.Layout;
    //Layout = "/Views/Shared/_PopupLayout.cshtml";
}
@inject IStringLocalizer<CMS.UI.Web.Areas.CMS.Controllers.BusinessAnalyticsController> Resource

@using Synergy.App.ViewModel;
@using Synergy.App.Common;

<style>
    .col-sm-2 {
        max-width: 25%;
        margin-left: -25px;
    }

    .panel-default {
        width: 230px;
    }

    .has-search .form-control-feedback {
        position: absolute;
        z-index: 2;
        display: block;
        width: 1.6rem;
        height: 2.375rem;
        line-height: 2.375rem;
        text-align: center;
        pointer-events: none;
        color: #aaa;
    }

    /*.has-search .form-control {*/
        /*padding-left: 30px;*/
        /*width: 250px;
    }*/

    em {
        background-color: yellow;
    }

    .count_class {
        font-size: 18px;
        color: #2c2a2ad6;
        font-weight: bolder;
    }

    #kgrdNewsFeed img {
        width: 100%;
    }

    .card {
        margin-bottom: 10px;
        border-radius: 15px !important;
    }

    .card-block {
        padding: 10px;
    }

    .card h5 {
        /*color: #007bff;*/
        color: black;
        font-weight: 400;
        font-size: 16px;
    }

    .c-count {
        margin-top: -32px;
        font-size: 15px;
        font-weight: 400;
        color: black;
        background: lightgrey;
        border-radius: 25%;
        padding: 5px;
    }

    .c-head {
        margin-right: 10px;
    }

    .btn-primary {
        background-color: #006bb4;
        border-color: #006bb4;
        color: #fff;
        position: relative;
        top: 0;
        transition: top ease 0.3s;
        width:100%;
    }

        .btn-primary:hover {
            background-color: #0060a2;
            top: -2px;
        }

            .btn-primary:hover .button-text {
                text-decoration: underline;
            }

    .button-text {
        margin-left: 5px;
        font-size: medium;
    }

    #fuzzyS .col-1, .col-2, .col-3 {
        padding-left: 2px;
        padding-right: 2px;
    }
    #advanceS .col-1, .col-2, .col-3 {
        padding-left: 2px;
        padding-right: 2px;
    }

    .filter-box {
        border: 1px solid #9bc2e6;
        border-radius: 15px;
        background: rgba(0,0,0,.03);
        padding: 0px 10px;
        margin-bottom: 10px;
    }
    .nav-pills {
        width: 450px;
    }

    .nav-item {
        width: 50%;
    }
    .nav-pills .nav-link {
        font-weight: 400;
        padding-top: 20px;
        text-align: center;
        background: #343436;
        color: #fff;
        border-radius: 15px;
        height: 70px;
        font-size:17px;
    }

        .nav-pills .nav-link.active {
            background: #fff;
            color: #000;
        }
    .tab-content {
        position: relative;
        width: 100%;
        height: auto;
        margin-top: -10px;
        background: #fff;
        color: #000;
        border-radius: 15px;
        z-index: 1000;        
        padding: 10px;        
    }       
    body {
        background-color: #dee2e6;
    }
</style>
<script>
    $(document).ready(function () {

        $("#startDate").kendoDatePicker();
        $("#endDate").kendoDatePicker();

        $("#SearchType").kendoDropDownList({
            dataTextField: "Name",
            dataValueField: "Id",
            value: "Fuzzy",
           // change: formType,
            dataSource: [
                { Name: "Fuzzy", Id: "Fuzzy" },
                { Name: "Plain", Id: "Plain" }
            ],
        });
        $("#DateFilterType").kendoDropDownList({
            dataTextField: "Name",
            dataValueField: "Id",
            //filter: "contains",
            value: "AllTime",
            change: onDateFilterchange,
            dataSource: {
                //serverFiltering: true,
                transport: {
                    read: {
                        url: "/Home/GetEnumIdNameList?enumType=SocialMediaDatefilters",
                    }
                }
            }
        });

        $("#location").kendoDropDownList({
            dataTextField: "Name",
            dataValueField: "Id",
            filter: "contains",
            optionLabel: "@ApplicationConstant.PlaceHolder_SelectOption",
            change: OnLocationSelection,
            dataSource: {
                serverFiltering: true,
                transport: {
                    read: {
                        url: "/cms/BusinessAnalytics/GetAllCameraLocations",
                    }
                }
            }
        });

        //listview_Twitter
        var dataSource = new kendo.data.DataSource({
            transport: {
                read: {
                    url: "/Cms/BusinessAnalytics/ReadTwitterData",
                    data: Filter,
                    dataType: "json",
                }
            },
        });

        $("#listview_Twitter").kendoListView({
            dataSource: dataSource,
            dataBound: OnDataBoundTwitter,
            template: kendo.template($("#templateTwitter").html())
        });

        //facebook
        var dataSourcef = new kendo.data.DataSource({
            transport: {
                read: {
                    url: "/Cms/BusinessAnalytics/ReadFacebookData",
                    data: Filter,
                    dataType: "json",
                }
            },
        });

        $("#listview_Facebook").kendoListView({
            dataSource: dataSourcef,
            dataBound: OnDataBoundFacebook,
            template: kendo.template($("#templateFacebook").html())
        });

        //instagram
        var dataSourcei = new kendo.data.DataSource({
            transport: {
                read: {
                    url: "/Cms/BusinessAnalytics/ReadInstagramData",
                    data: Filter,
                    dataType: "json",
                }
            },
        });

        $("#listview_Instagram").kendoListView({
            dataSource: dataSourcei,
            dataBound: OnDataBoundInstagram,
            template: kendo.template($("#templateInstagram").html())
        });

        //listview_Youtube
        var dataSourcey = new kendo.data.DataSource({
            transport: {
                read: {
                    url: "/Cms/BusinessAnalytics/ReadYoutubeData",
                    data: Filter,
                    dataType: "json",
                }
            },
        });

        $("#listview_Youtube").kendoListView({
            dataSource: dataSourcey,
            dataBound: OnDataBoundYoutube,
            template: kendo.template($("#templateYoutube").html())
        });

        //listview_WhatsApp
        var dataSourcew = new kendo.data.DataSource({
            transport: {
                read: {
                    url: "/Cms/BusinessAnalytics/ReadWhatsAppData",
                    data: Filter,
                    dataType: "json",
                }
            },
        });

        $("#listview_WhatsApp").kendoListView({
            dataSource: dataSourcew,
            dataBound: OnDataBoundWhatsapp,
            template: kendo.template($("#templateWhatsApp").html())
        });
    });

    var  isAdvance = false;
    function Filter() {
        var search = {
            searchStr: isAdvance == false ? ('@ViewBag.KeyWord' != 'null' && '@ViewBag.KeyWord' != '') ? '@ViewBag.KeyWord' : selectedtrackKeyword + " " +$("#mysearch").val() : selectedLcoation + " " +$("#mysearchAdv").val(),
            isAdvance: isAdvance,
            plainSearch: ('@ViewBag.KeyWord' != 'null' && '@ViewBag.KeyWord' != '') ? true : $("#SearchType").val() == "Plain" ? true : false,
            dateFilterType: ('@ViewBag.KeyWord' != 'null' && '@ViewBag.KeyWord' != '') ? null : $("#DateFilterType").val(),
            startDate:('@ViewBag.KeyWord' != 'null' && '@ViewBag.KeyWord' != '') ? null : $("#startDate").val(),
            endDate:('@ViewBag.KeyWord' != 'null' && '@ViewBag.KeyWord' != '') ? null : $("#endDate").val()
        };
        return search;
    }
    function FilterAdv() {
        var search = {
            searchStr: $("#mysearchAdv").val(),
            oparator: $("#Operator").val(),
        };
        return search;
    }
    function minString(value) {
        if (value != null) {
            return value.length > 20 ?
                value.substring(0, 20) + "..." :
                value;
        } else {
            return "";
        }
    }
    function OnSearch() {
        $("#listview_Twitter").data("kendoListView").dataSource.read();
        $("#listview_Facebook").data("kendoListView").dataSource.read();
        $("#listview_Instagram").data("kendoListView").dataSource.read();
        $("#listview_Youtube").data("kendoListView").dataSource.read();
        $("#listview_WhatsApp").data("kendoListView").dataSource.read();
       // $("#kgrddial100").data("kendoGrid").dataSource.read();
      getdial100Data();
      getCCTV1Data();
       // $("#kgrdCCTV1").data("kendoGrid").dataSource.read();
       getCCTV2Data();
       // $("#kgrdCCTV2").data("kendoGrid").dataSource.read();
       // $("#kgrdNewsFeed").data("kendoGrid").dataSource.read();
        getNewsfeedData();
    }


    function OnSearchAdv() {
        $("#listview_Twitter").data("kendoListView").dataSource.read();
        $("#listview_Facebook").data("kendoListView").dataSource.read();
        $("#listview_Instagram").data("kendoListView").dataSource.read();
        $("#listview_Youtube").data("kendoListView").dataSource.read();
        $("#listview_WhatsApp").data("kendoListView").dataSource.read();
       // $("#kgrddial100").data("kendoGrid").dataSource.read();
        getdial100Data();
        getCCTV1Data();
       // $("#kgrdCCTV1").data("kendoGrid").dataSource.read();
       // $("#kgrdCCTV2").data("kendoGrid").dataSource.read();
        getCCTV2Data();
        getNewsfeedData();
       // $("#kgrdNewsFeed").data("kendoGrid").dataSource.read();
    }
    //$("#mysearch").keyup(function () {
    //    if ($("#mysearch").val() == null || $("#mysearch").val() == "") {
    //        OnSearch();
    //    }
    //});
    function OnDataBoundTwitter(args) {

        var count = "0";
        if (args.items.length > 0) {
            count = args.items[0].count;
        }
        $("#twitter_count").html(count);

    }
    function OnDataBoundFacebook(args) {
        var count = "0";
        if (args.items.length > 0) {
            count = args.items[0].count;
        }
        $("#facebook_count").html(count);

    }
    function OnDataBoundInstagram(args) {
        var count = "0";
        if (args.items.length > 0) {
            count = args.items[0].count;
        }
        $("#instagram_count").html(count);

    }
    function OnDataBoundYoutube(args) {
        var count = "0";
        if (args.items.length > 0) {
            count = args.items[0].count;
        }
        $("#youtube_count").html(count);

    }
    function OnDataBoundWhatsapp(args) {
        var count = "0";
        if (args.items.length > 0) {
            count = args.items[0].count;
        }
        $("#whatsapp_count").html(count);

    }
    function OnDataBoundTwitter_Adv(args) {

        var count = "0";
        if (args.items.length > 0) {
            count = args.items[0].count;
        }
        $("#twitter_count_Adv").html(count);

    }
    function OnDataBoundFacebook_Adv(args) {
        var count = "0";
        if (args.items.length > 0) {
            count = args.items[0].count;
        }
        $("#facebook_count_Adv").html(count);

    }
    function OnDataBoundInstagram_Adv(args) {
        var count = "0";
        if (args.items.length > 0) {
            count = args.items[0].count;
        }
        $("#instagram_count_Adv").html(count);

    }
    function OnDataBoundYoutube_Adv(args) {
        var count = "0";
        if (args.items.length > 0) {
            count = args.items[0].count;
        }
        $("#youtube_count_Adv").html(count);

    }
    function OnDataBoundWhatsapp_Adv(args) {
        var count = "0";
        if (args.items.length > 0) {
            count = args.items[0].count;
        }
        $("#whatsapp_count_Adv").html(count);

    }

    //document.getElementById("menu-accordion").style.display = "none";

    function AddHighlight() {
        var text = $("#mysearchAdv").val();
        $.ajax({
            url: '@Url.Action("ManageSocialMediaHighlight", "BusinessAnalytics", new { @area="Cms"})?keyword=' + text,
                type: 'POST',
                data: {},
                dataType: 'json',
                success: function (result) {

                    if (result.success) {

                        kendo.alert("Keyword Added to Watchlist");
                    }
                    else {
                        kendo.alert(result.error);
                    }
                },
                error: function (ert) {


                }
            });

    }

    function OnAdvanceSearch() {
        isAdvance = true;
        document.getElementById("advanceS").style.display = "";
        document.getElementById("fuzzyS").style.display = "none";
        $("#listview_Twitter").data("kendoListView").dataSource.read();
        $("#listview_Facebook").data("kendoListView").dataSource.read();
        $("#listview_Instagram").data("kendoListView").dataSource.read();
        $("#listview_Youtube").data("kendoListView").dataSource.read();
        $("#listview_WhatsApp").data("kendoListView").dataSource.read();
      //  $("#kgrddial100").data("kendoGrid").dataSource.read();
       getdial100Data();
       getCCTV1Data();
     //   $("#kgrdCCTV1").data("kendoGrid").dataSource.read();
     //   $("#kgrdCCTV2").data("kendoGrid").dataSource.read();
       getCCTV2Data();
      getNewsfeedData();
        //$("#kgrdNewsFeed").data("kendoGrid").dataSource.read();
    }

    function OnFuzzySearch() {
        isAdvance = false;
        document.getElementById("fuzzyS").style.display = "";
        document.getElementById("advanceS").style.display = "none";
        $("#listview_Twitter").data("kendoListView").dataSource.read();
        $("#listview_Facebook").data("kendoListView").dataSource.read();
        $("#listview_Instagram").data("kendoListView").dataSource.read();
        $("#listview_Youtube").data("kendoListView").dataSource.read();
        $("#listview_WhatsApp").data("kendoListView").dataSource.read();
        getdial100Data();
       // $("#kgrddial100").data("kendoGrid").dataSource.read();
       getCCTV1Data();
      //  $("#kgrdCCTV1").data("kendoGrid").dataSource.read();
        //$("#kgrdCCTV2").data("kendoGrid").dataSource.read();
        getCCTV2Data();
        getNewsfeedData();
       // $("#kgrdNewsFeed").data("kendoGrid").dataSource.read();
    }

    function onMonitorView(title) {
        //var title = obj.split(",")[0];
        var obj = "abcd";
        var url = "/cms/businessAnalytics/CCTVMonitorView?data=" + obj;
        var win = GetMainWindow();
        win.iframeOpenUrl = url;
        win.OpenWindow({ Title: title, Width: 1000, Height: 600 });
        return false;
    }
    var selectedLcoation = "";
    function OnLocationSelection() {
        selectedLcoation = $("#location").data("kendoDropDownList").value();
    }
    var selectedtrackKeyword = "";
    function ontrackMaster() {
        selectedtrackKeyword = $("#trackMaster").data("kendoDropDownTree").value().join(" ");
    }
    function onDropDownTreeSelect(e) {
        var dataitem = e.sender.dataItem(e.node);
        console.log(dataitem);
        if (dataitem.hasChildren) {
            e.preventDefault();
        }
    }
    function Onback(e) {
        var location = "@ViewBag.RuturnPageName";
        var portalId = $('#GlobalPortalId').val();
        var url = '/Cms/Page?pageName=' + location+'&portalId=' + portalId;
        LoadCmsPartialView(url, 'Custom');
    }
    @*function OnAddIncident() {
        var words = "@ViewBag.KeyWord";
        var url = '/Cms/task/index?templateCode1=SWS_INCIDENT&udf1='+words;
        var win = GetMainWindow();
        win.iframeOpenUrl = url;
        win.OpenWindow({ Title: 'Incident Task', Width: 1000, Height: 650 });
        return false;

    }*@
    function OnAddIncident() {
        var portalId = $('#GlobalPortalId').val();
        var keywords = "@ViewBag.KeyWord";
        keywords = keywords.replaceAll(" ", "%20");
        url = '/Cms/Page?popup=true&lo=Popup&source=Create&dataAction=Create&templateCodes=INCIDENT&portalId=' + portalId +'&keywords='+keywords;
        var win = GetMainWindow();
        win.iframeOpenUrl = url;
        win.OpenWindow({ Title: 'Incident Task', Width: 1200, Height: 600 });
        return false;
    }

    function onView() {
        url = '/Cms/BusinessAnalytics/DewasCCTVCamera';
        var win = GetMainWindow();
        win.iframeOpenUrl = url;
        win.OpenWindow({ Title: 'Dewas CCTV Map', Width: 1200, Height: 600 });
        return false;
    }

    $("#divStart").hide();
    $("#divEnd").hide();
    function onDateFilterchange() {
        var filter = $("#DateFilterType").data("kendoDropDownList").value();
        if (filter == "Custom") {
            $("#divStart").show();
            $("#divEnd").show();
        } else {
            $("#divStart").hide();
            $("#divEnd").hide();
        }
    }
</script>

@*@{ var template = "<div ${if(NoteNo!==null)} class = 'clearfix desc e-list-wrapper e-list-multi-line e-list-avatar' ${else} "
    + "class = 'clearfix e-list-wrapper e-list-multi-line e-list-avatar' ${/if} title='${NoteSubject}'><img class='e-avatar' src='/images/galfar.jpg' />"
    + "<span class='e-list-item-header'>${NoteSubject} </span>"
    + "<span class='e-list-content e-text-overflow' >${NoteDescription} </span> ${if(NoteNo!=='')}  <div id='list-logo'>"
    + "<span class='bookmark'></span> <span class='comments'></span>"
    + "<span class='share'></span></div> <div class='timeStamp'>"
    + "${NoteNo} </div> ${/if} </div>";}*@
@if (ViewBag.KeyWord == null || ViewBag.KeyWord == "")
{
    @*<ul class="nav nav-tabs" role="tablist" style="margin-top:5px;">
        <li class="nav-item"><a data-toggle="tab" href="#fuzzy" onclick="OnFuzzySearch()" class="nav-link active" role="tab" aria-controls="fuzzy" aria-selected="true"><i class="fas fa-search" style="margin-left:15px;"></i><br />Search</a></li>

        <li class="nav-item"><a data-toggle="tab" href="#advance" onclick="OnAdvanceSearch()" class="nav-link" aria-controls="advance" aria-selected="false"><i class="fas fa-file-search" style="margin-left:3px;"></i><br />Advance Search</a></li>
    </ul>*@
    <ul class="nav nav-pills" role="tablist" style="margin-top:5px;">
        <li class="nav-item"><a data-toggle="tab" href="#fuzzy" onclick="OnFuzzySearch()" class="nav-link active" role="tab" aria-controls="fuzzy" aria-selected="true">Search</a></li>

        <li class="nav-item"><a data-toggle="tab" href="#advance" onclick="OnAdvanceSearch()" class="nav-link" aria-controls="advance" aria-selected="false">Advanced Search</a></li>
    </ul>
}
else
{
    var heading = ViewBag.Track ?? "Keywords";
    <div class="col-1">
        <h6>@heading</h6>
        <hr />
    </div>
    <div class="pull-right">
        @if (ViewBag.ShowIncident == true)
        {
            <button class="btn btn-primary" type="button" onclick="OnAddIncident()">
                Add Incident
            </button>
        }
        @if (ViewBag.HideBack != true)
        {
            <button class="btn btn-primary" type="button" onclick="Onback()">
                Back
            </button>
        }
    </div>
    string words = ViewBag.KeyWord;
    var wordsArray = words.Split(' ');
    foreach (var word in wordsArray)
    {

        <span style=" background: gray; color: white; border-radius: 20%; padding: 5px; margin-left:12px;">@word</span>

    }
}
<div class="tab-content">
    @if (ViewBag.KeyWord == null || ViewBag.KeyWord == "")
    {
        <div id="fuzzy" class="tab-pane in active filter-box" role="tabpanel" aria-labelledby="design-tab">
            <div class="row  pad-10 no-gutters" style="text-align: center;">
                <div id="fuzzyS" class="col form-group has-search">
                    <div class="" style="margin-top:1%" role="group">
                        <div class="row">
                            <div class="col-1">
                                <input id="SearchType" style="width: 100%" />
                            </div>
                            <div class="col-2">
                                <input id="DateFilterType" style="width: 100%" />
                            </div>
                            <div class="col-2" id="divStart">
                                <input id="startDate" style="width: 100%" />
                            </div>
                            <div class="col-2" id="divEnd">
                                <input id="endDate" style="width: 100%" />
                            </div>
                            <div class="col-2">
                                @(Html.Kendo().DropDownTree()
                            .Name("trackMaster")
                            .Placeholder("Crime Track")
                             .Checkboxes(e => e.CheckChildren(true)
                         .Template("# if (item.level() > 0) { #" +
                        "<input type='checkbox' #= item.checked ? 'checked' : '' #>" +
                    "# } #")
                         )
                            .HtmlAttributes(new { style = "width: 100%" })
                            .DataTextField("Name")
                            .DataValueField("Name")
                            .Events(x=>x.Change("ontrackMaster").Select("onDropDownTreeSelect"))
                            .DataSource(dataSource => dataSource
                                .Read(read => read
                                    .Action("ReadTrackWithKeywords", "BusinessAnalytics")
                                )
                            )
                        )
                            </div>
                            <div class="col-2">
                                <input id="mysearch" type="text" class="form-control" placeholder="Keyword Search">
                            </div>
                            <div class="col-1">
                                <button type='button' class='btn btn-primary shadow-sm' onclick='OnSearch()'>
                                    <span class="button-body">
                                        <span class="fa fa-search"></span>
                                        <span class="button-text">Search</span>
                                    </span>
                                </button>
                            </div>
                        </div>                       
                    </div>
                </div>

                <div id="advanceS" style="display:none" class="col form-group has-search">
                    @*<div class="btn-group" role="group">
                        <input id="location" style="width:100%" />
                        <input id="mysearchAdv" type="text" class="form-control" placeholder="Type here to search">
                        <button class="btn btn-secondary" type="button" onclick="AddHighlight()" title="click here to add keyword to watchlist">
                            <i class="fa fa-eye" style="color:#fffa00"></i>
                        </button>
                        <button class="btn btn-primary" type="button" onclick="OnSearchAdv()">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>*@
                    <div class="" style="margin-top:1%" role="group">
                        <div class="row">
                            <div class="col-3">
                                <input id="location" style="width:100%" />
                            </div>
                            <div class="col-3">
                                <input id="mysearchAdv" type="text" class="form-control" placeholder="Type here to search">
                            </div>                           
                            <div class="col-2">
                                <button type='button' class='btn btn-primary shadow-sm' onclick='AddHighlight()'>
                                    <span class="button-body">
                                        <span class="fa fa-eye"></span>
                                        <span class="button-text">Add Keyword To Watchlist</span>
                                    </span>
                                </button>
                            </div>
                            <div class="col-1">
                                <button type='button' class='btn btn-primary shadow-sm' onclick='OnSearchAdv()'>
                                    <span class="button-body">
                                        <span class="fa fa-search"></span>
                                        <span class="button-text">Search</span>
                                    </span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>


                @*<div class="row col-12 form-group">
                        <div class="col-sm-2" style="padding-left:10px !important">
                            @Html.EJS().ListView("listview_template1").DataSource(dataManager => { dataManager.Url("/Cms/BusinessAnalytics/ReadTwitterData").Adaptor("UrlAdaptor"); }).CssClass("e -list-template").ActionComplete("onComplete").HeaderTitle("Twitter").ShowHeader(true).Template(template).Render()
                        </div>
                        <div class="col-sm-2">
                            @Html.EJS().ListView("listview_template2").DataSource(dataManager => { dataManager.Url("/Cms/BusinessAnalytics/ReadInstagramData").Adaptor("UrlAdaptor"); }).CssClass("e-list-template").ActionComplete("onComplete").HeaderTitle("Instagram").ShowHeader(true).Template(template).Render()
                        </div>
                        <div class="col-sm-2">
                            @Html.EJS().ListView("listview_template3").DataSource(dataManager => { dataManager.Url("/Cms/BusinessAnalytics/ReadFacebookData").Adaptor("UrlAdaptor"); }).CssClass("e-list-template").ActionComplete("onComplete").HeaderTitle("Twitter").ShowHeader(true).Template(template).Render()
                        </div>
                        <div class="col-sm-2">
                            @Html.EJS().ListView("listview_template4").DataSource(dataManager => { dataManager.Url("/Cms/BusinessAnalytics/ReadLinkedInData").Adaptor("UrlAdaptor"); }).CssClass("e-list-template").ActionComplete("onComplete").HeaderTitle("Instagram").ShowHeader(true).Template(template).Render()
                        </div>
                        <div class="col-sm-2">
                            @Html.EJS().ListView("listview_template5").DataSource(dataManager => { dataManager.Url("/Cms/BusinessAnalytics/ReadYoutubeData").Adaptor("UrlAdaptor"); }).CssClass("e-list-template").ActionComplete("onComplete").HeaderTitle("Youtube").ShowHeader(true).Template(template).Render()
                        </div>
                        <div class="col-sm-2">
                            @Html.EJS().ListView("listview_template6").DataSource(dataManager => { dataManager.Url("/Cms/BusinessAnalytics/ReadPinterestData").Adaptor("UrlAdaptor"); }).CssClass("e-list-template").ActionComplete("onComplete").HeaderTitle("Pinterest").ShowHeader(true).Template(template).Render()
                        </div>
                    </div>*@

            </div>
        </div>
    }



    <div id="accordion" class="accordion" role="tablist" aria-multiselectable="true">
        <div class="card">
            <div class="card-header" role="tab" id="headingOne">
                <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    <h5 class="mb-0"><span class="fal fa-mobile c-head"></span> Dial 100</h5>
                    <span class="pull-right c-count">1000</span>
                </a>
            </div>
            <div id="collapseOne" class="collapse show" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                    <div style="overflow-x: scroll; width: 100%;">
                        @*<div id="kgrddial100" style="width: 100%;height:550px" class="ag-theme-alpine"></div>*@
                        <div id="kgrddial100"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-header" role="tab" id="headingTwo">
                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    <h5 class="mb-0"><span class="fa fa-instagram c-head"></span> Social Media</h5>
                    <span class="pull-right c-count">500</span>
                </a>
            </div>
            <div id="collapseTwo" class="collapse" role="tabpanel" aria-labelledby="headingTwo">
                <div class="card-block">
                    <div>
                        <div class="row form-group" style=" padding-left: 35px;">
                            <div class="col">
                                <div class="panel panel-default">
                                    <div class="panel-heading" style="text-align:center">
                                        <span class="k-icon k-i-twitter-box k-color-primary k-icon-md"></span><br />
                                        <span>Twitter</span><br />
                                        <span id="twitter_count" class="count_class"></span>
                                    </div>
                                    <div class="panel-body">


                                        <div id="listview_Twitter" style="overflow-y:scroll;height:500px;"></div>
                                    </div>
                                </div>


                            </div>
                            <div class="col">
                                <div class="panel panel-default">
                                    <div class="panel-heading" style="text-align:center">
                                        <span class="k-icon k-i-facebook-box k-color-primary k-icon-md"></span><br />
                                        <span>Facebook</span><br />
                                        <span id="facebook_count" class="count_class"></span>
                                    </div>
                                    <div class="panel-body">


                                        <div id="listview_Facebook" style="overflow-y:scroll;height:500px;"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="panel panel-default">
                                    <div class="panel-heading" style="text-align:center">
                                        <span class="k-icon fab fa-instagram k-color-danger k-icon-md"></span><br />
                                        Instagram<br />
                                        <span id="instagram_count" class="count_class"></span>
                                    </div>
                                    <div class="panel-body">


                                        <div id="listview_Instagram" style="overflow-y:scroll;height:500px;"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="panel panel-default">
                                    <div class="panel-heading" style="text-align:center">
                                        <span class="k-icon k-i-youtube-box k-color-danger k-icon-md"></span><br />
                                        Youtube<br />
                                        <span id="youtube_count" class="count_class"></span>
                                    </div>
                                    <div class="panel-body">


                                        <div id="listview_Youtube" style="overflow-y:scroll;height:500px;"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="panel panel-default">
                                    <div class="panel-heading" style="text-align:center">
                                        <span class="k-icon fab fa-whatsapp k-color-success k-icon-md"></span><br />
                                        WhatsApp<br />
                                        <span id="whatsapp_count" class="count_class"></span>
                                    </div>
                                    <div class="panel-body">


                                        <div id="listview_WhatsApp" style="overflow-y:scroll;height:500px;"></div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-header" role="tab" id="headingThree">
                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                    <h5 class="mb-0"><span class="fal fa-rss-square c-head"></span> News Feed</h5>
                </a>
            </div>
            <div id="collapseThree" class="collapse" role="tabpanel" aria-labelledby="headingThree">
                <div class="card-block">
                    <div style="overflow-x: scroll; width: 100%;">
                        <div style="margin-left:50%;margin-bottom:5px"></div>
                        <div id="kgrdNewsFeed" style="width: 100%;height:550px" class="ag-theme-alpine"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-header" role="tab" id="headingFour">
                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                    <h5 class="mb-0"><span class="fal fa-cctv c-head"></span>  CCTV</h5>
                </a>
            </div>
            <div id="collapseFour" class="collapse" role="tabpanel" aria-labelledby="headingFour">
                <div class="card-block">
                    <div style="overflow-x: scroll; width: 100%;">
                        <div style="margin-left:50%;margin-bottom:5px"><b> DEWAS</b></div>
                        <br />

                        <div id="kgrdCCTV1" style="width: 100%;height:550px" class="ag-theme-alpine"></div>

                        <br />
                        <div style="margin-left:50%;margin-bottom:5px"> <b>CHINDHWARA</b></div>
                        <br />
                        <div id="kgrdCCTV2" style="width: 100%;height:550px" class="ag-theme-alpine"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    @*<div id="advance" class="tab-pane " role="tabpanel" aria-labelledby="pageCss-tab">
            <div class="row  pad-10 no-gutters">
                <div class="col-sm-3"></div>


                <div class="row col-12 form-group">
                    <div class="col-sm-2" style="padding-left:55px !important">
                        <div class="panel panel-default">
                            <div class="panel-heading" style="text-align:center">
                                <span class="k-icon k-i-twitter-box k-color-primary k-icon-md"></span><br />
                                <span>Twitter</span><br />
                                <span id="twitter_count_Adv" class="count_class"></span>
                            </div>
                            <div class="panel-body">
                                @(Html.Kendo().ListView<RecTaskViewModel>()
                .Name("listview_Twitter_Adv")
                .TagName("div")
                .ClientTemplateId("templateTwitter_Adv")
                .DataSource(dataSource => dataSource
                        .Ajax()
                .Read(read => read.Action("ReadTwitterAdvanceData", "BusinessAnalytics", new { Area = "cms" }).Data("FilterAdv"))
                    )
                .AutoBind(true)
                      .Events(events => events
                   .DataBound("OnDataBoundTwitter_Adv"))
                   .HtmlAttributes(new { @style = "overflow-y:scroll;height: 500px;", })
            )
                            </div>
                        </div>


                    </div>
                    <div class="col-sm-2">
                        <div class="panel panel-default">
                            <div class="panel-heading" style="text-align:center">
                                <span class="k-icon k-i-facebook-box k-color-primary k-icon-md"></span><br />
                                <span>Facebook</span><br />
                                <span id="facebook_count_Adv" class="count_class"></span>
                            </div>
                            <div class="panel-body">
                                @(Html.Kendo().ListView<FacebookViewModel>()
                .Name("listview_Facebook_Adv")
                .TagName("div")
                .ClientTemplateId("templateFacebook_Adv")
                .DataSource(dataSource => dataSource
                        .Ajax()
                .Read(read => read.Action("ReadFacebookAdvanceData", "BusinessAnalytics", new { Area = "cms" }).Data("FilterAdv"))
                    )
                .AutoBind(true)
                      .Events(events => events
                   .DataBound("OnDataBoundFacebook_Adv"))
                   .HtmlAttributes(new { @style = "overflow-y:scroll;height: 500px;", })
            )
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-2">
                        <div class="panel panel-default">
                            <div class="panel-heading" style="text-align:center">
                                <span class="k-icon fab fa-instagram k-color-danger k-icon-md"></span><br />
                                Instagram<br />
                                <span id="instagram_count_Adv" class="count_class"></span>
                            </div>
                            <div class="panel-body">
                                @(Html.Kendo().ListView<RecTaskViewModel>()
                .Name("listview_Instagram_Adv")
                .TagName("div")
                .ClientTemplateId("templateInstagram_Adv")
                .DataSource(dataSource => dataSource
                        .Ajax()
                .Read(read => read.Action("ReadInstagramAdvanceData", "BusinessAnalytics", new { Area = "cms" }).Data("FilterAdv"))
                    )
                .AutoBind(true)
                      .Events(events => events
                   .DataBound("OnDataBoundInstagram_Adv"))
                   .HtmlAttributes(new { @style = "overflow-y:scroll;height: 500px;", })
            )
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-2">
                        <div class="panel panel-default">
                            <div class="panel-heading" style="text-align:center">
                                <span class="k-icon k-i-youtube-box k-color-danger k-icon-md"></span><br />
                                Youtube<br />
                                <span id="youtube_count_Adv" class="count_class"></span>
                            </div>
                            <div class="panel-body">
                                @(Html.Kendo().ListView<RecTaskViewModel>()
                .Name("listview_Youtube_Adv")
                .TagName("div")
                .ClientTemplateId("templateYoutube_Adv")
                .DataSource(dataSource => dataSource
                        .Ajax()
                .Read(read => read.Action("ReadYoutubeAdvanceData", "BusinessAnalytics", new { Area = "cms" }).Data("FilterAdv"))
                    )
                .AutoBind(true)
                      .Events(events => events
                   .DataBound("OnDataBoundYoutube_Adv"))
                   .HtmlAttributes(new { @style = "overflow-y:scroll;height: 500px;", })
            )
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-2">
                        <div class="panel panel-default">
                            <div class="panel-heading" style="text-align:center">
                                <span class="k-icon fab fa-whatsapp k-color-success k-icon-md"></span><br />
                                WhatsApp<br />
                                <span id="whatsapp_count_Adv" class="count_class"></span>
                            </div>
                            <div class="panel-body">
                                @(Html.Kendo().ListView<RecTaskViewModel>()
                .Name("listview_WhatsApp_Adv")
                .TagName("div")
                .ClientTemplateId("templateWhatsApp_Adv")
                .DataSource(dataSource => dataSource
                        .Ajax()
                .Read(read => read.Action("ReadWhatsappAdvanceData", "BusinessAnalytics", new { Area = "cms" }).Data("FilterAdv"))
                    )
                .AutoBind(true)
                      .Events(events => events
                   .DataBound("OnDataBoundWhatsapp_Adv"))
                   .HtmlAttributes(new { @style = "overflow-y:scroll;height: 500px;", })
            )
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>*@


</div>




<!--<script type="text/x-kendo-tmpl" id="template1">
    <div style="padding:2px">-->
@*<img class='e-avatar' src='/images/galfar.jpg' />*@
<!--<span class='e-list-item-header text-wrap' title='#=NoteSubject#'><b>#:kendo.toString(minString(NoteSubject))# </b></span>
        <div class="text-justify" >#=NoteDescription# </div>
        <div id='list-logo'>
            #=NoteNo#
        </div>
    </div>
    <hr/>
</script>-->


<script type="text/x-kendo-tmpl" id="templateTwitter">
    <div style="padding:2px">
        @*<img class='e-avatar' src='/images/galfar.jpg' />*@
        <span class='e-list-item-header text-wrap' ><b>#if(hashtags != null && hashtags != ""){# #=hashtags# #} else{# No Tag #}# </b></span>
        <div class="text-justify" >#=text# </div>
        <div id='list-logo'>
            <b>#=location#</b>
        </div>
        <div id='list-logo'>
    #if(url != null && url != ""){#
    <a href="#=url#" target="_blank">#=url#</a>
            #}#

        </div>
    <span>#=created_at#</span>
    </div>
    <hr/>
</script>
<script type="text/x-kendo-tmpl" id="templateFacebook">
    <div style="padding:2px">
        #if(page_url !=null && page_url !=""){#
    <span class='e-list-item-header text-wrap'><b><a href="#=page_url#" target="_blank">#=pagename#</a></b></span>
        #}else{#
    <span class='e-list-item-header text-wrap'><b>#=pagename#</b></span>
    #}#
     #if(post_url !=null && post_url !=""){#
    <div class="text-wrap" ><a href="#=post_url#" target="_blank">#=post_message#</a></div>
        #}else{#
    <div class="text-wrap" >#=post_message# </div>
    #}#
     <span>#=date_time#</span>
        @*<div id='list-logo'>
            <a href="#=page_url#" target="_blank"><i class="fa fa-file" title="Go to page"></i></a>&nbsp;&nbsp
            <a><i class="fa fa-clipboard" title="Go to post"></i></a>
        </div>*@
    </div>
    <hr/>
</script>
<script type="text/x-kendo-tmpl" id="templateFacebook2">
    <div style="padding:2px">
        @*<img class='e-avatar' src='/images/galfar.jpg' />*@
        <div class='e-list-item-header text-wrap'>#=subject#</div>
        <div class="text-wrap" >#=description# </div>
        <div class="text-wrap" >#=metadata# </div>
        @*<div id='list-logo'>
            <b>#=noteno#</b>
        </div>*@
    </div>
    <hr/>
</script>
@*<script type="text/x-kendo-tmpl" id="templateInstagram">
        <div style="padding:2px">
           <iframe src='#=image_links#' id="myframe_#=id#"></iframe>
        </div>

    </script>*@
<script type="text/x-kendo-tmpl" id="templateInstagram">
    <div style="padding:2px">
        @*<img class='e-avatar' src='/images/galfar.jpg' />*@
        <span class='e-list-item-header text-wrap' ><b>#if(hashtags != null && hashtags != ""){# #=hashtags# #} else{# #}# </b></span>
        <div class="text-justify" >#=caption# </div>
        <div id='list-logo'>
            <a href="#=post_links#" target="_blank">#=post_links#</a>
        </div>
     <span>#=age#</span>
    </div>
    <hr/>
</script>
<script type="text/x-kendo-tmpl" id="templateYoutube">
    <div style="padding:2px">
        @*<img class='e-avatar' src='/images/galfar.jpg' />*@
        <span class='e-list-item-header text-wrap'><b>#=title# </b></span>
        <div class="text-wrap" >#=description# </div>
        <div id='list-logo'>
            #if(youtube_video_url != null && youtube_video_url != ""){#
    <a href="#=youtube_video_url#" target="_blank">#=youtube_video_url#</a>
            #}#

        </div>
     <span>#=publishtime#</span>
    </div>
    <hr/>
</script>
<script type="text/x-kendo-tmpl" id="templateWhatsApp">
    <div style="padding:2px">
        @*<img class='e-avatar' src='/images/galfar.jpg' />*@
        <span class='e-list-item-header text-wrap'><b>#=user# </b></span>
        <div class="text-wrap">#=messages# </div>
    </div>
            <hr />
</script>

<script type="text/x-kendo-tmpl" id="templateTwitter_Adv">
    <div style="padding:2px">

        <div class="text-justify" >#=text# </div>

    </div>
    <hr/>
</script>
<script type="text/x-kendo-tmpl" id="templateFacebook_Adv">
    <div style="padding:2px">

        <div class="text-wrap" >#=post_message# </div>

    </div>
    <hr/>
</script>
<script type="text/x-kendo-tmpl" id="templateInstagram_Adv">
    <div style="padding:2px">
       <iframe src='#=image_links#' id="myframe_#=id#"></iframe>
    </div>

</script>
<script type="text/x-kendo-tmpl" id="templateYoutube_Adv">
    <div style="padding:2px">
        <div class="text-wrap" >#=description# </div>
    </div>
    <hr/>
</script>
<script type="text/x-kendo-tmpl" id="templateWhatsApp_Adv">
    <div style="padding:2px">
        <div class="text-wrap" >#=messages# </div>
    </div>
    <hr/>
</script>


<script>

            $(document).ready(function () {

                getdial100Data();
                getNewsfeedData();
                getCCTV1Data();
                getCCTV2Data();

            });

    function getdial100Data() {        
        var params = Filter();        
        var url = "/cms/BusinessAnalytics/DynamicGridviewIIPWithSearch?gridName=kgrddial1000&searchStr=" + params.searchStr.trim() +"&isAdvance=" + params.isAdvance + "&plainSearch=" + params.plainSearch + "&dateFilterType=" + params.dateFilterType + "&startDate=" + params.startDate + "&endDate=" + params.endDate;
        $("#kgrddial100").load(url,
                        function () { });
    }
            @*var columnDefs1 = [
                {
                    field: "View",
                    headerName: "View",
                    cellRenderer: params => {
                        return "<span class='fas fa-eye' onclick='onMonitorView()'></span>";
                    }
                },

                {
                    field: "unityp",
                    headerName: "@Resource["unityp"]",
                    cellRenderer: params => {
                        return "<div class='text-justify' >"+params.data.unityp+" </div>";
                    }
                },
                {
                    field: "unit_status",
                    headerName: "Crime Description",
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.unit_status+" </div>";
                    }

                },
                {
                    field: "unique_id",
                    headerName: '@Resource["unique_id"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.unique_id+" </div>";
                    }
                },
                {
                    field: "track_personnel",
                      headerName: '@Resource["track_personnel"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.track_personnel+" </div>";
                    }
                },

                 {
                     field: "tycod",
                      headerName: '@Resource["tycod"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.tycod+" </div>";
                    }
                },

                  {
                      field: "sub_tycod",
                      headerName: '@Resource["sub_tycod"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.sub_tycod+" </div>";
                    }
                },

             {
                 field: "station",
                      headerName: '@Resource["station"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.station+" </div>";
                    }
                },

              {
                  field: "latitude",
                      headerName: '@Resource["latitude"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.latitude+" </div>";
                    }
                },

               {
                   field: "longitude",
                      headerName: '@Resource["longitude"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.longitude+" </div>";
                    }
                },

                  {
                      field: "eid",
                      headerName: '@Resource["eid"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.eid+" </div>";
                    }
                },

             {
                 field: "dgroup",
                      headerName: '@Resource["dgroup"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.dgroup+" </div>";
                    }
                },

              {
                  field: "ag_id",
                      headerName: '@Resource["ag_id"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.ag_id+" </div>";
                    }
                },

            ];



            function getdial100Data() {
                document.getElementById("kgrddial100").innerHTML = "";
                var params = Filter();
                gridConfig(
                    "kgrddial100",
                    "/Cms/BusinessAnalytics/ReadDial100Data?searchStr=" + params.searchStr + "&isAdvance=" + params.isAdvance + "&plainSearch=" + params.plainSearch + "&dateFilterType=" + params.dateFilterType + "&startDate=" + params.startDate + "&endDate=" + params.endDate,
                    columnDefs1,
                    false,
                    true,
                    true,
                    true,
                    1,
                    true,
                    10);
            }*@

              var columnDefs2 = [


                {
                    field: "name",
                    headerName: '@Resource["Name"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.name+" </div>";
                    }
                },
                {
                    field: "title",
                    headerName: '@Resource["Title"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.title+" </div>";
                    }

                },
                {
                    field: "unique_id",
                    headerName: '@Resource["unique_id"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.unique_id+" </div>";
                    }
                },
                {
                    field: "message",
                      headerName: '@Resource["Message"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.message+" </div>";
                    }
                },

                 {
                     field: "author",
                      headerName: '@Resource["Author"]',
                     cellRenderer: params => {
                         if (params.data.author != null) {
                             return "<div class='text-justify' >" + params.data.author + " </div>";
                         }
                         else {
                             return "";
                         }
                    }
                },

                  {
                      field: "link",
                      headerName: '@Resource["Link"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >< a href='"+params.data.author+"' target = '_blank' style = 'color:highlight' >" + params.data.author+"</a >  </div>";
                    }
                },

             {
                 field: "published",
                      headerName: '@Resource["Published"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.published+" </div>";
                    }
                },


            ];



            function getNewsfeedData() {
                document.getElementById("kgrdNewsFeed").innerHTML = "";
                var params = Filter();
                gridConfig(
                    "kgrdNewsFeed",
                    "/Cms/BusinessAnalytics/ReadTimesOfIndiaNewsFeed?searchStr=" + params.searchStr + "&isAdvance=" + params.isAdvance + "&plainSearch=" + params.plainSearch + "&dateFilterType=" + params.dateFilterType + "&startDate=" + params.startDate + "&endDate=" + params.endDate,
                    columnDefs2,
                    false,
                    true,
                    true,
                    true,
                    1,
                    true,
                    10);
            }

             var columnDefs3 = [
                 {
                     field: "View",
                     headerName: "View",
                     cellRenderer: params => {
                         return "<span class='fas fa-eye'  onclick='onView(\"" + params.data.LocationName+ " " + params.data.CameraName + "\")'></span>";
                     }
                 },


                @*{
                     field: "SrNo",
                    headerName: '@Resource["SrNo"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.name+" </div>";
                    }
                },*@
                {
                    field: "CameraName",
                    headerName: '@Resource["CameraName"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.CameraName+" </div>";
                    }

                },
                {
                    field: "LocationName",
                    headerName: '@Resource["LocationName"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.LocationName+" </div>";
                    }
                },
                {
                    field: "PoliceStation",
                      headerName: '@Resource["PoliceStation"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.PoliceStation+" </div>";
                    }
                },

                 {
                     field: "Longitude",
                      headerName: '@Resource["Longitude"]',
                     cellRenderer: params => {
                         if (params.data.Longitude != null) {
                             return "<div class='text-justify' >" + params.data.Longitude + " </div>";
                         }
                         else {
                             return "";
                         }
                    }
                },

                  {
                      field: "Latitude",
                      headerName: '@Resource["Latitude"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.Latitude+" </div>";
                    }
                },

             {
                 field: "IpAddress",
                      headerName: '@Resource["IpAddress"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.IpAddress+" </div>";
                    }
                },

               {
                   field: "RtspLink",
                      headerName: '@Resource["RtspLink"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.RtspLink+" </div>";
                    }
                 },
                 {
                     field: "TypeOfCamera",
                      headerName: '@Resource["TypeOfCamera"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.TypeOfCamera+" </div>";
                    }
                },
               {
                   field: "Make",
                      headerName: '@Resource["Make"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.Make+" </div>";
                    }
                },
            ];



            function getCCTV1Data() {
                document.getElementById("kgrdCCTV1").innerHTML = "";
                var params = Filter();
                gridConfig(
                    "kgrdCCTV1",
                    "/Cms/BusinessAnalytics/ReadCCTVCamera1?searchStr=" + params.searchStr + "&isAdvance=" + params.isAdvance + "&plainSearch=" + params.plainSearch + "&dateFilterType=" + params.dateFilterType + "&startDate=" + params.startDate + "&endDate=" + params.endDate,
                    columnDefs3,
                    false,
                    true,
                    true,
                    true,
                    1,
                    true,
                    10);
             }

              var columnDefs4 = [
                 {
                     field: "View",
                     headerName: "View",
                     cellRenderer: params => {
                         return "<span class='fas fa-eye'  onclick='onView(\"" + params.data.PoliceStation + " " + params.data.IpAddress + "\")'></span>";
                     }
                 },


                @*{
                     field: "SrNo",
                    headerName: '@Resource["SrNo"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.name+" </div>";
                    }
                },*@

                {
                    field: "PoliceStation",
                      headerName: '@Resource["PoliceStation"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.PoliceStation+" </div>";
                    }
                },

                 {
                     field: "Longitude",
                      headerName: '@Resource["Longitude"]',
                     cellRenderer: params => {
                         if (params.data.Longitude != null) {
                             return "<div class='text-justify' >" + params.data.Longitude + " </div>";
                         }
                         else {
                             return "";
                         }
                    }
                },

                  {
                      field: "Latitude",
                      headerName: '@Resource["Latitude"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.Latitude+" </div>";
                    }
                },

             {
                 field: "IpAddress",
                      headerName: '@Resource["IpAddress"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.IpAddress+" </div>";
                    }
                },

               {
                   field: "RtspLink",
                      headerName: '@Resource["RtspLink"]',
                    cellRenderer: params => {
                        return "<div class='text-justify' >" + params.data.RtspLink+" </div>";
                    }
                 },

            ];



            function getCCTV2Data() {
                document.getElementById("kgrdCCTV2").innerHTML = "";
                var params = Filter();
                gridConfig(
                    "kgrdCCTV2",
                    "/Cms/BusinessAnalytics/ReadCCTVCamera2?searchStr=" + params.searchStr + "&isAdvance=" + params.isAdvance + "&plainSearch=" + params.plainSearch + "&dateFilterType=" + params.dateFilterType + "&startDate=" + params.startDate + "&endDate=" + params.endDate,
                    columnDefs4,
                    false,
                    true,
                    true,
                    true,
                    1,
                    true,
                    10);
            }
</script>

