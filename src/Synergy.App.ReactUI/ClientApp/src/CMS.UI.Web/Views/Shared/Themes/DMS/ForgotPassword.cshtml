@model Synergy.App.ViewModel.ForgotViewModel
@{
    ViewBag.Title = "Temporary Password";
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <style>
        body {
            margin: 0;
            color: #6a6f8c;
            background: #858796;
            font: 600 16px/18px 'Open Sans',sans-serif;
        }

        *, :after, :before {
            box-sizing: border-box
        }

        .clearfix:after, .clearfix:before {
            content: '';
            display: table
        }

        .clearfix:after {
            clear: both;
            display: block
        }

        a {
            color: inherit;
            text-decoration: none
        }

        .login-wrap {
            margin: auto;
            max-width: 800px;
            min-height: 610px;
            position: relative;
            background: url(~/Images/bg.jpg) no-repeat center;
            box-shadow: 0 12px 15px 0 rgb(0 0 0 / 24%), 0 17px 50px 0 rgb(0 0 0 / 19%);
        }

        .login-html {
            width: 60%;
            height: 75%;
            position: absolute;
            left: 19%;
            top: 15%;
            padding: 102px 40px 25px 35px;
            background-color: white;
            background: url(../../Images/loginbg.jpg) no-repeat center;
        }

        .login-form .group .label,
        .login-form .group .button {
            text-transform: uppercase;
        }

        .login-form {
            /*margin-top: 60px;*/
            min-height: 300px;
            perspective: 1000px;
            transform-style: preserve-3d;
        }

            .login-form .group {
                margin-bottom: 25px;
            }

                .login-form .group .label,
                .login-form .group .input {
                    width: 100%;
                    color: black;
                    display: block;
                }

                .login-form .group .button {
                    width: 100%;
                    color: white;
                    display: block;
                }

                .login-form .group .input,
                .login-form .group .button {
                    border: none;
                    padding: 15px 20px;
                    border-radius: 25px;
                }

        .login-html .text-danger {
            color: #f10606;
            font-size: 14px;
        }

        .login-form .group .button {
            background: #4e73df;
        }

        .hr {
            height: 2px;
            margin: 60px 0 50px 0;
            background: rgba(255,255,255,.2);
        }

        .login-bg1 {
            /*background-image: url(/images/login-bg.png);*/
            background-repeat: no-repeat;           
            background-size: 100% 100%;
            border:1px solid #fff;
            border-radius:30px;           
        }
    </style>
    <div class="container body-content" style="padding-top:100px;">
        <div class="login-wrap" style=" background-color: #1D4993">
            <div class="login-html login-bg1 ">
                @if (Model.Mode != null && ("success".Equals(Model.Mode)))
                {
                    <div>
                        <h4 style="color:#fff">@ViewBag.Status.</h4>
                        @*<a style="color:Highlight" href="/Account/Login">Click here to login</a>*@
                    </div>
                    using (Html.BeginForm("ForgotPasswordOTP", "Account", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
                    {
                        @Html.AntiForgeryToken()
                        @Html.HiddenFor(x => x.Email)
                        @Html.HiddenFor(x => x.Mode)
                        @Html.HiddenFor(x => x.PortalId)

                        <div class="text-danger">
                            @Html.ValidationSummary("", new { @class = "text-danger" })
                        </div>
                        <div class="login-form">
                            <div class="group" style="text-align:center;">
                                @*<h4 style="color:#4e73df">@ViewBag.Title.</h4>*@
                                <h4 style="color:white">Enter OTP</h4>
                            </div>
                            <div class="group">
                                @Html.TextBoxFor(m => m.Email, new { @class = "input", @readonly = "readonly", @style = "background-color: lightgray;" })
                            </div>
                            <div class="group">
                                @Html.TextBoxFor(m => m.ForgotPasswordOTP, new { @class = "input", @placeholder = "OTP" })
                            </div>
                            <div class="group">
                                <input type="submit" class="button" style="        background: #a9081b" value="Submit" />
                                @*<input type="submit" class="button" value="Submit" id="btnSubmitOtp" onclick="onbtnsubmitotp()" />*@
                            </div>
                        </div>

                    }
                }
                else if (Model.Mode != null && ("successotp".Equals(Model.Mode)))
                {
                    using (Html.BeginForm("ForgotPasswordChange", "Account", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
                    {
                        @Html.AntiForgeryToken()
                        @Html.HiddenFor(x => x.Email)
                        @Html.HiddenFor(x => x.ForgotPasswordOTP)
                        @Html.HiddenFor(x => x.PortalId)
                        @*@Html.HiddenFor(x => x.Mode)*@
                        <input type="hidden" name="Mode" id="Mode" value="@Model.Mode">

                        <div class="text-danger">
                            @Html.ValidationSummary("", new { @class = "text-danger" })
                        </div>
                        <div class="login-form">
                            <div class="group" style="text-align:center;">
                                @*<h4 style="color:#4e73df">@ViewBag.Title.</h4>*@
                                <h4 style="        color: white
">
                                    Set New Password
                                </h4>
                            </div>
                            <div class="group">
                                @Html.TextBoxFor(m => m.Email, new { @class = "input", @readonly = "readonly", @style = "background-color: lightgray;" })
                            </div>
                            <div class="group">
                                @Html.PasswordFor(m => m.Password, new { @class = "input", @placeholder = "New Password" })
                            </div>
                            <div class="group">
                                @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "input", @placeholder = "Re-Enter New Password" })
                            </div>
                            <div class="group">
                                <input type="submit" src="/images/but-login.png" class="button" style="        background: #a9081b" value="Submit" />
                                @*<input type="submit" class="button" value="Submit" id="btnSubmitOtp" onclick="onbtnsubmitotp()" />*@
                            </div>
                        </div>

                    }
                }
                else if (Model.Mode != null && ("successchange".Equals(Model.Mode)))
                {
                    <div>
                        @*<h4 style="color:#fff">@ViewBag.Status.</h4>*@
                        <h4 style="        color: white
">
                            New Password Updated
                        </h4>
                        <a style="color:Highlight" href="@Model.LoginUrl">Click here to login</a>
                    </div>

                }
                else
                {

                    using (Html.BeginForm("ForgotPassword", "Account", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
                    {
                        @Html.AntiForgeryToken()
                        @Html.HiddenFor(x => x.PortalId)
                        <div class="text-danger">
                            @Html.ValidationSummary("", new { @class = "text-danger" })
                        </div>
                        <div class="login-form">
                            <div class="group" style="text-align:center;">
                                @*<h4 style="color:#4e73df">@ViewBag.Title.</h4>*@
                                <h4 style="color:white">Send Temporary Password OTP</h4>

                            </div>
                            <div class="group">
                                @Html.TextBoxFor(m => m.Email, new { @class = "input", @placeholder = "EMAIL" })
                            </div>
                            <div class="group">
                                <input type="submit" src="/images/but-login.png" class="button" style="background:#a9081b" value="Submit" />
                            </div>
                        </div>
                    }
                }
            </div>
        </div>
    </div>
</body>
</html>

@*@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}*@
