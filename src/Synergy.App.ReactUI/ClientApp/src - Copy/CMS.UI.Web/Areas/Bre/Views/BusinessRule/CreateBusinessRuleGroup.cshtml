@using Syncfusion.EJ2.Navigations

@{
    ViewData["Title"] = "Create Business Rule Group";
    Layout = "/Views/Shared/_PopupLayout.cshtml";
}
@model CMS.UI.ViewModel.BusinessRuleGroupViewModel
<form asp-controller="BusinessRule" asp-action="CreateBusinessRuleGroup" method="post" data-ajax-begin="onAjaxBegin" data-ajax-complete="onAjaxComplete"
          data-ajax-failure="onAjaxFailed" data-ajax-success="onAjaxSuccess"
          data-ajax="true" data-ajax-method="POST">
    <div class="text-danger" asp-validation-summary="All"></div>
    <div class="row" style="padding:10px;">
        <div class="col-sm-12">
            <div class="form-label-group">
                <input asp-for="Name" class="form-control" placeholder="Name" type="text" autocomplete="off" required="required" />
                <label for="Name">Name</label>
            </div>
            <div class="form-label-group">
                <input type="number" asp-for="SequenceOrder" class="form-control" placeholder="Sequence Order" required="" autocomplete="off">
                <label for="SequenceOrder">Sequence Order</label>
            </div>
            <br />
        </div>
        <div class="col-sm-12">
            <button type="submit" class="btn btn-success">Save</button>
            <button type="button" class="btn btn-light" onclick="Close();">Close</button>
        </div>
    </div>
    @Html.HiddenFor(x => x.ParentId)
    @Html.HiddenFor(x => x.DataAction)
    @Html.HiddenFor(x => x.Id)
</form>

<script>
     var onAjaxSuccess = function (res) {
         
        if (res.success) {
            
            ShowNotification("Saved Successfully", "success");
         
            var win = GetMainWindow();
            win.CloseWindow();

        }
        else {
            showError(res.error);
        }
    }
    function Close() {

        var win = GetMainWindow();
        win.CloseWindow();
        return false;
    }
</script>
