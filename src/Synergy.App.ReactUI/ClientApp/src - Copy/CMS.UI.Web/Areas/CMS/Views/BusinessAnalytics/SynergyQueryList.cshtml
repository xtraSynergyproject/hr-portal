
@using CMS.UI.ViewModel;
@using CMS.Common;

 @model System.Data.DataTable
<script>
   
</script>
<div class="row">
    <div class="col-12">
        <div id="KgrdLog" style="width: 100%;height:550px" class="ag-theme-alpine"></div>
        @*@(Html.Kendo().Grid<dynamic>
        ()
        .Name("KgrdLog")

        //toolbar.Custom().Text("Create Group").HtmlAttributes(new { href = "javascript:OnCreateGroup();" }))
        .Columns(columns =>
        {
            foreach (System.Data.DataColumn column in Model.Columns)
            {
                columns.Bound(column.ColumnName).Width(150);
            }


        })
        .DataSource(dataSource => dataSource
        .Ajax()
        .PageSize(10)
        .Read(read => read.Action("ReadDataResult", "BusinessAnalytics", new { query = ViewBag.Query }))
        )




        .HtmlAttributes(new { style = "height: 550px"})
        .Pageable(pageable => pageable
        .Refresh(true)
        .PageSizes(true)
        .ButtonCount(5))

        .Scrollable(x => x.Enabled(true))
        .Sortable(srt => srt.Enabled(true))
        .Resizable(r => r.Columns(true))

        //.Pageable(pageable => pageable
        //                             .Refresh(true)
        //                             .PageSizes(new[] { 10, 50, 100, 200, 500 })
        //                             .ButtonCount(10))
        )*@
    </div>
</div>

<script>
    var columnDefs = [

                            @foreach (System.Data.DataColumn column in Model.Columns)
                            {
                              @:{ field: '@column.ColumnName', headerName: '@column.ColumnName' },
                            }
                        ];
                        $(function () {
                            GetData_kgridlog();

                        });

    function GetData_kgridlog() {
        document.getElementById("KgrdLog").innerHTML = "";


                            gridConfig(
                                "KgrdLog",
                                "/cms/BusinessAnalytics/ReadDataResult?query=@ViewBag.Query",
                                columnDefs,
                                false,
                                true,
                                true,
                                true,
                                1,
                                true,
                                10);
                        }
</script>