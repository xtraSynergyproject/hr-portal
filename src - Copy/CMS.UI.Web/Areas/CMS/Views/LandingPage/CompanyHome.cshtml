@inject IStringLocalizer<CMS.UI.Web.Areas.CMS.Controllers.LandingPageController> Resource
@using Kendo.Mvc.UI
@using CMS.Common
@using CMS.UI.ViewModel
@using System.Text

@model NoteViewModel
@{
    //ViewBag.Title = ERP.Translation.Message.CompanyHomePageTitle;
    //Layout = "~/Views/Shared/_LayoutModern.cshtml";
    Layout = null;
}
@inject CMS.Common.IUserContext _userContext
@*@section Header {
        @( Html.Partial(
                                                                            "_HeaderNew",
                                                                            new Tuple<string, StringBuilder>
                                                                            (ERP.Translation.Message.CompanyHomePageTitle, new StringBuilder(

                                                                            )
                                                                            )))
    }*@
<head>
    <!-- other head stuff... -->
    <link rel="stylesheet" href="~/Content/flickity.css" media="screen">
    <script src="~/Scripts/flickity.pkgd.min.js"></script>
</head>




<style>
    #ResponsiveGrid.row {
        display: -ms-flexbox; /* IE10 */
        display: flex;
        -ms-flex-wrap: wrap; /* IE10 */
        flex-wrap: wrap;
        padding: 0 4px;
    }

    /* Create four equal columns that sits next to each other */
    #ResponsiveGrid .column {
        -ms-flex: 33%; /* IE10 */
        flex: 33%;
        max-width: 33%;
        padding: 0 4px;
    }

        #ResponsiveGrid .column img {
            margin-top: 8px;
            vertical-align: middle;
        }


    #MainPost {
        padding: 5px 5px;
        margin-bottom: -1px;
        width: 100%;
        height: 110vh;
        overflow: auto;
        overflow-x: hidden;
    }

    .group .input {
        margin-bottom: 25px;
        width: 100%;
        color: black;
        display: block;
        border: 1px;
        padding: 15px 20px;
        border-radius: 50px;
        background: rgba(142, 139, 139, 0.1);
    }

    .sectionbox {
        margin-bottom: 30px;
        border-radius: 5px;
        color: #333333;
        background: #fff;
        width: 100%;
        position: relative;
        display: flex;
        flex-direction: column;
        min-width: 0;
        word-wrap: break-word;
        background-color: #fff;
        background-clip: border-box;
        min-height: 100px;
        /* box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);*/
    }


    .round {
        border-radius: 50%;
    }

    .gallery-cell {
        /*width: 100%;*/
        margin-right: 10px;
        cursor: pointer;
        background: Transparent;
        counter-increment: gallery-cell;
        border-radius: 50px;
    }

        .gallery-cell:before {
            display: block;
            text-align: center;
            line-height: 200px;
            font-size: 80px;
            color: white;
        }

    .flickity-prev-next-button {
        width: 50px;
        height: 50px;
        background: transparent;
    }
        /* arrow color */
        .flickity-prev-next-button .arrow {
            fill: gray;
        }

        .flickity-prev-next-button.no-svg {
            color: white;
        }

        .flickity-prev-next-button:hover {
            background: transparent;
        }
        /* hide disabled button */
        .flickity-prev-next-button:disabled {
            display: none;
        }

    /* position dots in gallery */


    img {
        max-width: 100%;
        max-height: 100%;
    }

    .breadcrumb {
        display: none;
    }
</style>
<style>

    .fontstyle {
        font-size: 27px;
        color: white;
        display: block;
        font-weight: bold;
        margin-bottom: 20px;
        margin-top: 8px;
        border-bottom: 1px solid rgba(255, 255, 255, .5);
    }

    #AnnouncementPost {
        width: 100%;
        height: 75vh;
        overflow: auto;
        overflow-x: hidden;
    }

    #DocumentPost {
        width: 100%;
        height: 45vh;
        overflow: auto;
        overflow-x: hidden;
    }

    .iconwothtext {
        display: flex;
        cursor: pointer;
        align-items: center;
    }

        .iconwothtext.img {
            margin: 10px;
            padding: 10px;
            transition: margin 200ms;
        }

    // .iconwothtext:hover {
        // margin-left: 15px;
        //
    }

    .iconwothtextsub {
        display: flex;
        cursor: pointer;
        align-items: center;
    }

        .iconwothtextsub.img {
            margin: 10px;
            padding: 10px;
            transition: margin 200ms;
        }

    .profilemenustyle {
        font-size: 24px;
        color: white;
        display: block;
        margin-top: 8px;
        border-bottom: 1px medium rgba(255, 255, 255, .5);
    }

    .leftmenustyle {
        font-size: 20px;
        color: #4b4f56;
        margin-bottom: 10px;
        font-weight: bolder;
        margin-top: 10px;
        padding-left: 5px;
        border-bottom: 1px medium rgba(255, 255, 255, .5);
    }

    .leftsubmenustyle {
        font-size: 22px;
        color: #4b4f56;
        margin-bottom: 5px;
        font-weight: normal;
        margin-top: 5px;
        padding-left: 5px;
        border-bottom: 1px medium rgba(255, 255, 255, .5);
    }

    .submenustyle {
        font-size: 20px;
        color: darkgoldenrod;
        font-weight: bold;
        display: block;
        margin-bottom: 20px;
        border-bottom: 1px medium rgba(255, 255, 255, .5);
    }

    @@media (min-width: 800px) {
        body {
            background: url(../../../../Images/QootBG.jpg);
            background-position: center;
            background-size: cover;
            width: 100%;
            height: 96%;
            background-repeat: no-repeat;
            padding-top: 10px;
            overflow: hidden;
        }
    }



    @@media(max-width: 800px) {
        body {
            background: url(../../../../Images/QootBG.jpg);
            background-position: center;
            background-size: cover;
            width: 100%;
            height: 96%;
            background-repeat: no-repeat;
            padding-top: 10px;
            overflow: auto;
        }
    }

    .content {
        padding-top: 10px;
    }

    .card {
        margin-top: 15px;
        margin-bottom: 10px;
    }

    .content-popup {
        padding: 0px;
        padding-top: 0px;
    }

    .login-form {
        margin-top: 60px;
        min-height: 300px;
        perspective: 1000px;
        transform-style: preserve-3d;
        border-color: #dfdddb;
    }

    .login-wrap {
        background-color: transparent;
        border-radius: 10px;
    }

    .k-primary {
        border-color: lightgray;
    }

    .collapsiblemenu {
        background-color: Transparent;
        color: #4b4f56;
        cursor: pointer;
        padding: 15px;
        width: 100%;
        border: none;
        text-align: left;
        outline: none;
        font-size: 18px;
    }

        /* Add a background color to the button if it is clicked on (add the .active class with JS), and when you move the mouse over it (hover) */
        .active, .collapsiblemenu:hover {
            // background-color: #ccc;
        }


    /* Style the collapsible content. Note: hidden by default */
    .contentmenu {
        overflow: hidden;
        color: #4b4f56;
        cursor: pointer;
        padding: 8px;
        width: 100%;
        display: block;
        margin-left: 30px;
        border: none;
        text-align: left;
        outline: none;
        font-size: 18px;
        background-color: Transparent;
    }

    .collapsiblemenu:after {
        content: '\002B';
        color: Black;
        font-weight: bold;
        float: right;
        font-size: 18px;
        margin-left: 0px;
    }

    .activemenu:after {
        content: "\2212";
    }

    .round {
        border-radius: 50%;
    }

    .content {
        margin-top: 29px !important;
    }
</style>

<style>
    [data-letters]:before {
        content: attr(data-letters);
        display: inline-block;
        font-size: 1em;
        width: 1.8em;
        height: 1.8em;
        line-height: 1.8em;
        text-align: center;
        border-radius: 30%;
        background: DarkOrange;
        //background: String.Format("#{0:X6}", new Random((int)DateTime.Now.Ticks).Next(0x1000000));
        vertical-align: middle;
        margin-right: 1em;
        color: white;
    }

    #LeftPanel {
        height: 110vh;
        overflow: auto;
        overflow-x: hidden;
    }

    ::-webkit-scrollbar-track {
        -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
        background-color: #F5F5F5;
        border-radius: 10px;
    }

    ::-webkit-scrollbar {
        width: 6px;
        background-color: #F5F5F5;
    }

    ::-webkit-scrollbar-thumb {
        border-radius: 10px;
        background-color: #F90;
        background-image: -webkit-linear-gradient(90deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent)
    }
</style>
<div class="container-fluid body-content">
    <div class="row">
        <div class="col-md-1 dahboard-height">
        </div>
        <div class="col-md-2 dahboard-height" id="LeftPanel">

            <div class="fontstyle" style="text-shadow: 2px 2px 5px black;">
                <div>
                    @(_userContext.CompanyName ?? "NoOrganization" )
                    @*@((HttpContext.Current.Session[ERP.Utility.Constant.SessionVariable.EmployeeOrganizationName]) ?? ERP.Translation.Message.NoOrganization)*@
                </div>
            </div>

            @if (Model.base64Img == "")
            {
                <img width="120" height="120" src="~/Images/profile.jpg" class="image" style="width:120px; height:120px; border-radius:60px; text-align:right"> @*@Url.Content(String.Format("~/Images/{0}.png", Model.OwnerFirstLetter))">*@

            }
            else
            {
                <img src='@Model.base64Img' class="image" style="width:120px; height:120px; border-radius:60px; text-align:right" onerror='OnPhotoError(this);'>

            }            <div class="profilemenustyle" style="font-size: 23px; color:white; font-weight:normal; text-shadow: 2px 2px 5px black;">
                <div>
                    @(_userContext.Name)
                    @*@((HttpContext.Current.Session[ERP.Utility.Constant.SessionVariable.EmployeeFullName]) )*@
                </div>
            </div>
            <div class="submenustyle" style="font-weight:normal; background-color:yellow; text-align:center; color:black; font-size:16px">
                <div>
                    @(_userContext.JobTitle ?? "NoJobTitle")
                    @*@((HttpContext.Current.Session[ERP.Utility.Constant.SessionVariable.EmployeeJobName]) ?? ERP.Translation.Message.NoJobTitle)*@
                </div>
            </div>
            <ul style="padding-left:0px;">
                <div class="fontstyle" style="font-size: 20px; color: white; font-weight: bolder; cursor:pointer; text-shadow: 2px 2px 5px black;" onclick="gotoHome()">
                    <div>
                        @Resource["MyHome"]
                        @*@ERP.Translation.MenuItems.MyHome*@
                    </div>
                </div>

                <div class="fontstyle" style="font-size: 20px; color: white; font-weight: bolder; cursor:pointer; text-shadow: 2px 2px 5px black;" onclick="gotoOrgHome()">
                    <div>
                        @Resource["MyDepartmentHome"]
                        @*@ERP.Translation.MenuItems.MyOrganizationHome*@
                    </div>
                </div>

                <div class="row" style="margin-top:10px; background: white; border-radius:10px; padding:5px; opacity:0.9" id="CreatePost">
                    <div class="col-xs-3">
                        <img width="40" height="40" src="/cms/Document/getimagemongo?id=@_userContext.PhotoId" class="img-profile rounded-circle" onerror='OnPhotoError(this);'> @*@Url.Content(String.Format("~/Images/{0}.png", Model.OwnerFirstLetter))">*@

                    </div>
                    <div class="col-xs-9">
                        <div style="margin-top:10px;padding-left:10px;color:black">
                            @Resource["Createapost"] ...
                            @*@ERP.Translation.Message.CreateAPost*@
                        </div>
                    </div>
                </div>

                @*  <li class="iconwothtext" id="CreateGroup">
                        <span class="k-icon k-i-plus" style="color:white; font-size: 24px; text-shadow: 2px 2px 5px black;"></span> <div class="leftmenustyle" style="text-shadow: 2px 2px 5px black;">
                            Create Group
                        </div>
                    </li>
                    <li class="iconwothtext" id="Group">
                        <span class="k-icon k-i-myspace" style="color:white; font-size: 24px; text-shadow: 2px 2px 5px black;"></span> <div class="leftmenustyle" style="text-shadow: 2px 2px 5px black;">
                            Group
                        </div>
                    </li>*@
                @*<li>
                                        @(Html.Kendo().ListView<ERP.UI.ViewModel.General.ProjectsViewModel>()
                    .Name("listView")
                    .TagName("div")
                    .ClientTemplateId("template")
                    .DataSource(dataSource =>
                    {
                    dataSource.Read(read => read.Action("reloadProjects", "Home"));
                    })
                    .Events(e => e
                    .DataBound(@<text>
                                    function() {
                                    alert("sdsdf");
                                    }
                    </text>)
                    .Change(@<text>
                        function() {
                        alert("sdsdsd");
                        }
                    </text>)
                    )
                                        )

                                    </li>
                                    <li class="iconwothtext" id="addproject">
                                        <span class="k-icon k-i-plus" style="color:orange; font-size: 20px; "></span>
                                        <div class="leftmenustyle" onclick="AddProjectOnClick()">
                                            Add Project
                                        </div>
                                    </li>
                                    <li class="iconwothtext" id="textboxproject">
                                        <div>
                                            @Html.Kendo().TextBoxFor(x => x.AddProjects).HtmlAttributes(new { placeholder = "Name your project", @class = "form-control hr-xxl-large", style = "height: 50px;width: 290px; font-size: 18px;" })
                                        </div>

                                    </li>
                                    <li class="iconwothtext" id="buttonproject">
                                        <div>
                                            @Html.Kendo().Button().Name("btnSaveChanges").Content("Add Project").HtmlAttributes(new { @class = "k-primary btn-task", @onclick = "return OnSaveChanges()", style = "height: 50px; margin-top: 8px; font-size: 18px; background: orange" })
                                        </div>

                                        <div onclick="CancelProjectOnClick()">
                                            @Html.Kendo().Button().Name("btnCancelChanges").Content("Cancel").HtmlAttributes(new { @class = "k-primary btn-task", style = "height: 50px; margin-top: 8px; font-size: 18px; background: lightgray" })
                                        </div>
                                    </li>*@
            </ul>



        </div>
        <div class="col-md-5">
            <div class="sectionbox render" style="background-color:transparent;">
                <div id="MainPost">
                    <div class="main-gallery">
                        <div class="gallery-cell" style="opacity:0.9">
                            @*<img src="~/Images/slide1.jpg?@ERP.Utility.Constant.AppVersionWithParam" />*@
                            <img src="~/Images/slide3.jpg" style="width:100%;" />
                        </div>
                        <div class="gallery-cell" style="opacity:0.9">
                            @*<img src="~/Images/slide1.jpg?@ERP.Utility.Constant.AppVersionWithParam" />*@
                            <img src="~/Images/slide1.jpg" style="width:100%;" />
                        </div>
                    </div>
                    <div style="padding:10px;"></div>
                    @*<div style="background-color:black; opacity:0.7; border-radius: 10px" ; color:white>
                        <h2>
                            @Resource["OurBrands"]
                        </h2>
                        <hr />
                        <div class="row" id="ResponsiveGrid">
                            <div class="column">
                                <img src="~/Images/daraldawa.png" style="width:100%; padding:10px; -webkit-filter: -webkit-filter: drop-shadow(5px 5px 5px #fff);
  filter: drop-shadow(5px 5px 5px #fff);">
                                <img src="~/Images/emaildiamant.png" style="width:100%; padding:10px; -webkit-filter: -webkit-filter: drop-shadow(5px 5px 5px #fff);
  filter: drop-shadow(5px 5px 5px #fff);">


                            </div>
                            <div class="column">
                                <img src="~/Images/bellshealthcare.png" style="width:100%; padding:10px; -webkit-filter: -webkit-filter: drop-shadow(5px 5px 5px #fff);
  filter: drop-shadow(5px 5px 5px #fff);">
                                <img src="~/Images/michel.png" style="width:100%; padding:10px; -webkit-filter: -webkit-filter: drop-shadow(5px 5px 5px #fff);
  filter: drop-shadow(5px 5px 5px #fff);">


                            </div>
                            <div class="column">
                                <img src="~/Images/coverderm.png" style="width:100%; padding:10px; -webkit-filter: -webkit-filter: drop-shadow(5px 5px 5px #fff);
  filter: drop-shadow(5px 5px 5px #fff);">
                                <img src="~/Images/imedeen.png" style="width:100%; padding:10px; -webkit-filter: -webkit-filter: drop-shadow(5px 5px 5px #fff);
  filter: drop-shadow(5px 5px 5px #fff);">

                            </div>
                        </div>
                    </div>
                    <div style="padding:10px"></div>*@
                    <div class="no-gutter">
                        <div class="col-md-12">

                            @* <div class="sectionbox" style="height: 130px" id="CreatePost">
                                    <div class="row" style="margin-top:10px;">
                                        <div class="col-xs-2 col-md-2">
                                            <img class="round" width="40" height="40" avatar="@Model.OwnerDisplayName">
                                        </div>
                                        <div class="col-xs-10 col-md-10">
                                            <div style="margin-top:10px;padding-left:10px;color:dimgray">Create a post... </div>
                                        </div>
                                    </div><br /><hr />
                                    <div class="row">
                                        <div class="col-xs-4 col-md-4">
                                            <!-- <a class="k-button k-button-icontext" href="#" style="border-radius:20px;">
                                                <span class="k-icon k-i-image k-i-photo">
                                                </span>Add Image
                                            </a>-->
                                        </div>
                                        <div class="col-xs-1 col-md-1">
                                        </div>
                                    </div><br />
                                </div>*@
                            <h2 style="text-shadow: 2px 2px 5px black; color:white">
                                @Resource["CompanyPost"]
                                @*@ERP.Translation.Message.CompanyPost*@
                            </h2>
                        </div>
                        @{
                            await Html.RenderPartialAsync("/Areas/Cms/Views/LandingPage/_EndlessScrollList.cshtml", new EndlessScrollListViewModel { Name = "manageNoteList", UrlActionName = "ReadCompanyManagePost", UrlControlName = "LandingPage", UrlAreaName = "Cms", PageSize = 10, OrgId = Model.DepartmentId });
                        }
                    </div>
                    @Html.HiddenFor(x => x.DataAction)
                </div>
            </div>
        </div>
        <div class="col-md-4" style="background:transparent">
            <div class="sectionbox" style="background:white; opacity:0.9; height:78vh">
                <div>
                    <div class="col-md-12">
                        <div style="margin-top:10px;" class="row">
                            <div class="fontstyle col-8" style="font-size: 20px; color: Black; font-weight: bold; text-align: left">
                                <div>
                                    @Resource["Announcements"]
                                    @*@ERP.Translation.Message.Announcements*@
                                </div>
                            </div>
                            @if (true@*2229.HasPermission()*@)
{
<div class="fontstyle col-4" style="font-size: 18px; color: darkslateblue; font-weight: normal; text-align: right; cursor: pointer">
    <div class="k-icon k-i-plus-circle" style="font-size:28px;color:darkgray" onclick="createGreetingAnnouncement()" title="@Resource["AddAnnouncement"]"></div>
</div>
}


                        </div>
                        <div class="profilemenustyle col-md-12 " style="padding: 4px;" id="AnnouncementPost">
                            @*@Html.Partial("~/Areas/Nts/Views/Note/_Announcements.cshtml", new NoteSearchViewModel { Operation = DataOperation.Read, Type = "Company", OrganizationId = Model.OrganizationId, ReturnUrl = "/nts/Note/CompanyHome" })*@
                            @{
                                await Html.RenderPartialAsync("~/Areas/Cms/Views/LandingPage/_Announcements.cshtml", new NoteSearchViewModel { Operation = DataOperation.Read, Type = "Company", OrganizationId = Model.DepartmentId, ReturnUrl = "/Cms/LandingPage/CompanyHome" });
                            }
                        </div>
                    </div>
                </div>


            </div>
            @*<div class="sectionbox" style="background:white; opacity:0.9;  height:55vh">
                    <div>
                        <div class="col-md-12">
                            <div tyle="margin-top:10px;">
                                <div class="fontstyle col-xs-12" style="font-size: 20px; color: Black; font-weight: bold; text-align: left">
                                    <div>
                                        Documents

                                    </div>
                                </div>

                            </div>
                            <div class="profilemenustyle col-md-12 " style="padding: 4px;" id="DocumentPost">
                                @(Html.Kendo().ListView<NoteViewModel>()
                                                                                        .Name("listView-orgdoc")
                                                                                        .TagName("div")
                                                                                        .AutoBind(true)
                                                                                        .ClientTemplateId("templatedocc")
                                //.DataSource(dataSource =>
                                //{
                                //    dataSource.Read(read => read.Action("GetOrgDocument", "Note", new { orgId = Model.OrganizationId }));
                                //})

                                )
                            </div>
                        </div>


                    </div>


                    <div class="col-md-1 dahboard-height">

                    </div>
                </div>*@
            <div class="col-md-1 dahboard-height">

            </div>
        </div>

    </div>
    @Html.HiddenFor(x => x.DepartmentId)
</div>
<script type="text/x-kendo-tmpl" id="templatedocc">
    <div class="iconwithtextnoanim" style="padding-left:10px; margin-bottom: 10px;background-color:lightcyan;cursor:pointer" onclick="DownloadOrgDoc(#=Id#)">
        <div id="#:Id#"></div>

        <div>
            <div class="iconwithtextnoanim" style="padding-left: 10px;">
                <span class="k-icon k-i-document-manager" style="font-size:24px; padding-top:17px"></span>
                <div style="font-size: 10px; padding-left: 10px;"></div>
                <div style="font-size: 17px">#=Description#</div>
            </div>
            <div class="iconwithtextnoanim" style="margin-bottom:10px; padding-left: 30px;">
                <div style="font-size: 16px; color: midnightblue"></div>
                <div style="font-size: 16px; color: dimgrey">#=NoteNo#</div>
            </div>
        </div>

    </div>
</script>
<script>
    $(document).ready(function () {
        $("#textboxproject").hide();
        $("#buttonproject").hide();
        $("#bid").hide();
        $("#bsid").hide();
        $("#bnid").hide();


        var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
        //     var isSafari = /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor);
        if (isChrome) {
            $(".body-content").css('zoom', '0.8');
        }

        //loadData();
    });

    $('#CreateGroup').click(function (e) {
        CreateGroup(e);
    });
    $('#tId').click(function (e) {
        $("#bid").toggle(700);
        $("#tclose").toggle(700);
        //  $("#topen").toggle(700);
    });
    $('#sId').click(function (e) {
        $("#bsid").toggle(700);
        $("#sclose").toggle(700);
    });
    $('#nId').click(function (e) {
        $("#bnid").toggle(700);
        $("#nclose").toggle(700);
    });
    $('#Group').click(function (e) {
        window.location.href = "/nts/note/grouplist";
    });

    function gotoTask(mode) {
        window.location.href = "/nts/task?mode=ASSIGN_TO&taskStatus=" + mode;
    }

    function gotoService(mode) {
        window.location.href = "/nts/service?mode=REQ_BY&serviceStatus=" + mode;
    }

    function gotoOrgHome() {
        /*window.location.href = "/nts/note/orghome/";*/
        var url = "/cms/LandingPage/OrgHome";
        //window.location.href = url;
        LoadPartailView(url, $('#cms-content'));
    }

    function CreateGroup() {

        iframeOpenUrl = "/admin/team/CreateGroup";
        var wnd = $("#kiframepopupnotitlewindow").data("kendoWindow");
        wnd.setOptions({
            width: 600,
            height: 110,
            title: "@Html.Raw(Resource["DescribeGroup"])"

        });
        wnd.wrapper.find('.k-window-titlebar').css({
            'background-color': 'transparent',
            'border-bottom-style': 'none'
        });
        wnd.center().open();

    }

    function DownloadOrgDoc(id) {
        var ru = encodeURIComponent("/nts/Note/CompanyHome");
        var url = "/nts/Note/Manage?ru=" + ru + "&NoteId=" + id;
        window.location.href = url;
       // iframeOpenUrl = "/nts/Note/DocumentDownload?noteId=" + id;
      
       // wnd.setOptions({
       //     width: 800,
       //     height: 450,
       //     title: "Document"
       // });
       // wnd.center().open();
    }

    function Close(redirect) {
        var wnd = $("#kiframepopupnotitlewindow").data("kendoWindow");
        wnd.close();
    }

    function AddProjectOnClick() {
        $("#textboxproject").show();
        $("#buttonproject").show();
        $("#addproject").hide();
    }


    function CancelProjectOnClick() {
        $("#textboxproject").hide();
        $("#buttonproject").hide();
        $("#addproject").show();
    }


    function OnProjectsDataBound(e) {
        alert("zxczxcx");
    }

    function gototextbox() {
        $("#CreatePost").focus();

    }

    function createAnnouncements(e) {
      //  alert("@Model.DepartmentId");
        var ru = "/nts/Note/CompanyHome";
        window.location.href = "/nts/note/GotoAnnouncements?OrgId=@Model.DepartmentId&ru="+ru;
    }

    function createGreetingAnnouncement(e) {
        @*var ru = "/cms/LandingPage/CompanyHome";
        url = "/nts/note/GreetingAnnouncement?OrgId=@Model.DepartmentId&ru=" + ru;
        window.parent.iframeOpenUrl = url;
        *@

        var ru = "/cms/LandingPage/CompanyHome";
        url = "/cms/LandingPage/GreetingAnnouncement?OrgId=@Model.DepartmentId&ru=" + ru;
        var win = GetMainWindow();
        win.iframeOpenUrl = url;
        win.OpenWindow({
            Title: '@Html.Raw(Resource["Announcement"])', Width: 550, Height: 500
        });
    }
    function gotoHome(e) {
        //window.location.href = "/nts/note/ManagePost";
        var url = "/cms/LandingPage/ManagePost";
        //window.location.href = url;
        LoadPartailView(url, $('#cms-content'));
    }

    $('#CreatePost').click(function (e) {
        SearchBack();
    });

    function OnTeamSearch(e) {
        iframeOpenUrl = "/admin/team/searchteam";
        var wnd = $("#kiframepopupwindow").data("kendoWindow");
        wnd.setOptions({
            width: 620,
            height: 300,
            title: "@Html.Raw(Resource["SearchGroup"])"
        });
        wnd.wrapper.find('.k-window-titlebar').css({
            'background-color': 'transparent',
            'border-bottom-style': 'none'
        });
        wnd.center().open();
    }
    function SearchBack() {
        var win = GetMainWindow();
        win.iframeOpenUrl = "/cms/LandingPage/CreatePost?templateMasterCode=GROUP_MESSAGE&ownerType=Organization&orgId=@Model.DepartmentId";
        win.OpenWindow({
            Title: ' @Html.Raw(Resource["PostingTo"])', Width: 600, Height: 430
        });
    }
    function CallBack() {
        //window.location.href = window.location.href;
        manageNoteList_Refresh($('#manageNoteList'));
        $("#kgrdNote").data("kendoListView").dataSource.read();
        return false;
    }
    function RefreshPageBack() {
        //window.location.href = window.location.href;
        manageNoteList_Refresh($('#manageNoteList'));
        $("#kgrdNote").data("kendoListView").dataSource.read();
        return false;
    }
    function ClosePost(redirect) {
        var wnd1 = $("#kiframepopupnotitlewindow").data("kendoWindow");
        wnd1.close();
        manageNoteList_Refresh($('#manageNoteList'));
        return false;
        


       
    }
    function OnServiceCreate(e) {
        iframeOpenUrl = "/nts/service/Create";
        var wnd = $("#kiframepopupwindow").data("kendoWindow");
        wnd.setOptions({
            width: 800,
            height: 400,
            title: "@Html.Raw(SharedResource["CreateService"])"
        });
        wnd.center().open();
    }
    function CloseService(redirect, tempId) {
        var wnd = $("#kiframepopupwindow").data("kendoWindow");
        wnd.close();
        if (redirect) {
            window.location.href = "/nts/service/Manage?templateId=" + tempId;
        }
    }
    function onDataBound(e) {
        // kendoConsole.log("Data bound");
    }
    $(function () {
        $(document).bind("kendo:skinChange", updateTheme);
    });
    function updateTheme() {
        $("#chart").getKendoChart().setOptions({ theme: kendoTheme });
    }

    function gotoManpower() {
        window.location.href = "/hrs/positionchart?posid=@Model.PositionId";
    }

    function gotoWorklist() {
        window.location.href = "/Nts/ntsHome";
    }

    function gotoSps() {
        window.location.href = "/sps/spshome/index";
    }

    function gotoPms() {
        window.location.href = "/pms/pmshome/index";
    }
    function OnTeamChange(e) {
        var usr = $("#TeamMemberId").data("kendoDropDownList");
        if (usr.value() != '') {
            $("#chartSummary").data("kendoChart").dataSource.read({ teamMemberId: usr.value() });
        }
        else {
            $("#chartSummary").data("kendoChart").dataSource.read();
        }
        $("#chartSummary").data("kendoChart").refresh();
    }

    function loadCompanyHome() {
        window.location.href = window.location.href;
    }
    function PhotoError(obj) {
        obj.onerror = null;
        obj.src = '/images/profile.jpg';

    };
</script>